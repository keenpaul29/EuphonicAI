2025-01-24 13:19:26,028 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:26,031 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:26,034 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:26,036 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:26,106 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:26,107 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:26,109 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:26,110 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:26,175 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:26,176 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:26,178 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:26,179 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:26,261 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:26,262 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:26,263 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:26,263 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:26,328 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:26,329 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:26,330 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:26,331 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:26,391 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:26,392 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:26,393 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:26,393 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:26,451 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:26,453 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:26,453 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:26,454 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:26,512 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:26,513 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:26,514 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:26,514 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:26,567 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:26,569 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:26,570 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:26,571 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:26,623 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:26,623 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:26,625 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:26,625 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:26,681 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:26,682 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:26,683 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:26,684 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:26,737 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:26,739 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:26,740 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:26,740 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:26,796 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:26,797 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:26,797 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:26,799 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:26,859 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:26,861 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:26,861 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:26,863 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:26,916 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:26,916 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:26,918 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:26,919 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:26,983 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:26,984 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:26,985 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:26,985 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:27,079 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:27,081 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:27,084 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:27,085 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:27,150 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:27,151 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:27,153 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:27,153 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:27,205 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:27,206 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:27,206 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:27,207 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:27,262 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:27,263 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:27,264 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:27,265 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:27,319 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:27,320 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:27,321 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:27,322 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:27,373 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:27,375 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:27,376 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:27,376 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:27,426 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:27,427 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:27,428 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:27,429 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:27,480 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:27,482 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:27,482 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:27,482 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:27,534 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:27,536 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:27,537 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:27,537 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:27,593 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:27,593 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:27,594 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:27,594 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:27,655 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:27,656 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:27,657 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:27,657 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:27,711 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:27,711 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:27,713 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:27,713 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:27,770 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:27,771 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:27,772 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:27,772 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:27,825 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:27,826 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:27,827 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:27,828 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:27,904 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:27,905 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:27,906 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:27,906 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:27,978 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:27,980 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:27,981 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:27,981 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:28,042 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:28,043 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:28,044 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:28,044 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:28,106 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:28,108 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:28,109 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:28,109 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:28,170 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:28,171 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:28,171 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:28,171 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:28,222 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:28,223 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:28,223 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:28,225 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:28,279 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:28,280 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:28,280 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:28,281 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:28,335 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:28,336 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:28,337 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:28,337 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:28,408 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:28,409 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:28,411 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:28,411 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:28,477 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:28,478 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:28,479 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:28,479 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:28,541 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:28,542 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:28,543 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:28,543 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:28,593 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:28,594 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:28,595 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:28,595 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:28,644 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:28,645 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:28,647 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:28,647 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:28,720 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:28,721 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:28,721 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:28,722 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:28,819 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:28,820 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:28,821 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:28,822 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:28,923 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:28,923 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:28,924 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:28,925 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:28,982 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:28,984 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:28,985 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:28,985 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:29,037 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:29,038 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:29,040 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:29,044 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:29,103 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:29,103 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:29,104 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:29,104 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:29,158 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:29,158 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:29,159 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:29,159 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:29,227 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:29,229 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:29,230 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:29,230 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:29,285 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:29,286 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:29,287 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:29,287 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:29,338 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:29,339 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:29,339 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:29,340 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:29,391 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:29,391 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:29,392 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:29,393 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:29,445 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:29,445 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:29,447 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:29,448 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:29,498 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:29,499 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:29,500 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:29,502 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:29,553 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:29,554 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:29,555 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:29,556 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:29,630 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:29,632 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:29,632 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:29,634 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:29,703 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:29,704 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:29,706 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:29,706 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:29,788 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:29,789 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:29,790 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:29,791 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:29,845 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:29,845 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:29,847 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:29,848 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:29,904 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:29,905 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:29,906 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:29,906 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:29,962 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:29,963 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:29,964 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:29,966 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:30,024 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:30,025 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:30,026 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:30,026 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:30,080 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:30,081 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:30,082 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:30,082 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:30,141 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:30,141 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:30,142 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:30,142 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:30,201 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:30,202 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:30,203 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:30,203 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:30,262 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:30,263 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:30,264 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:30,264 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:30,322 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:30,322 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:30,323 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:30,323 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:30,375 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:30,375 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:30,376 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:30,377 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:30,430 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:30,430 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:30,431 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:30,432 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:30,494 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:30,494 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:30,495 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:30,496 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:30,548 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:30,549 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:30,549 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:30,550 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:30,625 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:30,626 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:30,627 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:30,627 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:30,685 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:30,686 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:30,687 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:30,688 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:30,741 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:30,743 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:30,743 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:30,744 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:30,801 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:30,801 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:30,802 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:30,803 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:30,868 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:30,869 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:30,870 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:30,870 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:30,926 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:30,926 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:30,927 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:30,928 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:30,981 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:30,982 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:30,984 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:30,984 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:31,037 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:31,039 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:31,040 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:31,040 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:31,092 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:31,094 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:31,095 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:31,095 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:31,147 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:31,147 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:31,149 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:31,149 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:31,205 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:31,206 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:31,207 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:31,207 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:31,261 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:31,262 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:31,263 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:31,263 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:31,331 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:31,332 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:31,334 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:31,334 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:31,411 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:31,412 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:31,414 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:31,414 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:31,487 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:31,489 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:31,490 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:31,491 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:31,544 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:31,544 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:31,545 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:31,546 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:31,604 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:31,606 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:31,606 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:31,607 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:31,661 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:31,663 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:31,663 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:31,664 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:31,728 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:31,729 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:31,730 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:31,731 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:31,797 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:31,799 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:31,801 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:31,801 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:31,855 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:31,856 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:31,857 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:31,857 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:31,912 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:31,912 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:31,912 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:31,914 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:31,966 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:31,967 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:31,969 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:31,969 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:32,028 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:32,029 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:32,029 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:32,030 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:32,085 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:32,086 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:32,087 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:32,087 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:32,136 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:32,137 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:32,138 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:32,139 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:32,194 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:32,195 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:32,197 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:32,198 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:32,251 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:32,251 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:32,253 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:32,253 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:32,301 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:32,303 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:32,304 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:32,304 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:32,374 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:32,374 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:32,376 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:32,378 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:32,456 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:32,457 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:32,458 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:32,458 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:32,517 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:32,518 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:32,520 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:32,520 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:32,574 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:32,575 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:32,576 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:32,577 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:32,634 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:32,635 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:32,636 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:32,637 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:32,690 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:32,690 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:32,691 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:32,691 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:32,742 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:32,744 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:32,745 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:32,745 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:32,796 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:32,797 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:32,798 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:32,798 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:32,851 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:32,851 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:32,852 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:32,853 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:32,920 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:32,920 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:32,922 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:32,922 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:32,988 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:32,990 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:32,990 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:32,991 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:33,047 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:33,048 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:33,049 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:33,049 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:33,101 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:33,103 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:33,103 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:33,104 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:33,169 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:33,169 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:33,171 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:33,171 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:33,225 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:33,226 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:33,227 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:33,228 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:33,284 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:33,286 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:33,287 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:33,287 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:33,363 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:33,364 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:33,365 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:33,366 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:33,423 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:33,423 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:33,425 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:33,425 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:33,477 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:33,478 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:33,479 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:33,480 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:33,532 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:33,532 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:33,534 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:33,535 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:33,589 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:33,590 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:33,591 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:33,591 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:33,653 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:33,653 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:33,654 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:33,655 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:33,709 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:33,710 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:33,712 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:33,712 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:33,767 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:33,768 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:33,769 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:33,769 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:33,841 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:33,842 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:33,843 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:33,844 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:33,908 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:33,909 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:33,910 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:33,910 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:33,975 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:33,975 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:33,976 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:33,976 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:34,051 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:34,052 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:34,054 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:34,054 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:34,137 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:34,139 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:34,140 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:34,141 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:34,228 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:34,229 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:34,230 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:34,231 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:34,285 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:34,286 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:34,287 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:34,288 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:34,342 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:34,343 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:34,344 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:34,345 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:34,404 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:34,405 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:34,405 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:34,406 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:34,461 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:34,462 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:34,462 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:34,463 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:34,518 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:34,519 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:34,519 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:34,520 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:34,575 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:34,577 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:34,578 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:34,579 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:34,632 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:34,633 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:34,633 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:34,633 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:34,682 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:34,684 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:34,685 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:34,685 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:34,735 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:34,736 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:34,737 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:34,737 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:34,796 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:34,797 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:34,797 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:34,798 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:34,884 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:34,885 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:34,887 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:34,887 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:34,951 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:34,951 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:34,953 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:34,954 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:35,040 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:35,041 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:35,042 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:35,043 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:35,095 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:35,096 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:35,097 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:35,097 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:35,150 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:35,151 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:35,151 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:35,152 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:35,211 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:35,213 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:35,213 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:35,213 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:35,264 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:35,266 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:35,266 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:35,267 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:35,317 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:35,317 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:35,318 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:35,319 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:35,369 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:35,369 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:35,370 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:35,371 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:35,424 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:35,425 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:35,426 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:35,426 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:35,480 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:35,482 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:35,482 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:35,484 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:35,534 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:35,535 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:35,535 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:35,536 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:35,594 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:35,595 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:35,595 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:35,597 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:35,666 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:35,668 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:35,669 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:35,669 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:35,723 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:35,725 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:35,725 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:35,726 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:35,795 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:35,797 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:35,798 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:35,799 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:35,908 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:35,909 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:35,910 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:35,911 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:35,973 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:35,973 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:35,975 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:35,975 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:36,035 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:36,035 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:36,036 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:36,037 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:36,090 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:36,091 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:36,091 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:36,092 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:36,150 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:36,151 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:36,151 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:36,152 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:36,207 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:36,208 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:36,208 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:36,209 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:36,260 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:36,261 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:36,262 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:36,262 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:36,317 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:36,318 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:36,319 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:36,320 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:36,369 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:36,370 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:36,372 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:36,372 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:36,421 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:36,422 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:36,424 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:36,425 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:36,482 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:36,483 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:36,484 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:36,485 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:36,557 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:36,558 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:36,559 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:36,560 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:36,617 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:36,619 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:36,619 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:36,619 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:36,672 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:36,672 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:36,673 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:36,674 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:36,765 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:36,767 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:36,768 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:36,769 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:36,831 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:36,832 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:36,834 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:36,835 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:36,892 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:36,893 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:36,894 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:36,894 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:36,946 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:36,947 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:36,948 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:36,948 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:37,002 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:37,003 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:37,004 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:37,004 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:37,055 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:37,056 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:37,056 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:37,056 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:37,108 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:37,109 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:37,109 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:37,109 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:37,164 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:37,166 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:37,166 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:37,167 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:37,230 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:37,232 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:37,233 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:37,234 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:37,285 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:37,286 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:37,286 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:37,287 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:37,337 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:37,338 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:37,339 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:37,340 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:37,391 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:37,392 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:37,393 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:37,394 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:37,459 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:37,460 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:37,461 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:37,462 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:37,524 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:37,525 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:37,525 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:37,526 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:37,597 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:37,601 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:37,602 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:37,602 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:37,664 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:37,665 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:37,667 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:37,668 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:37,719 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:37,720 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:37,721 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:37,721 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:37,772 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:37,773 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:37,774 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:37,774 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:37,824 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:37,825 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:37,825 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:37,825 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:37,880 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:37,881 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:37,882 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:37,882 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:37,936 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:37,937 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:37,937 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:37,939 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:37,990 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:37,991 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:37,991 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:37,991 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:38,049 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:38,050 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:38,050 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:38,051 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:38,106 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:38,107 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:38,108 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:38,109 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:38,159 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:38,160 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:38,161 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:38,162 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:38,214 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:38,215 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:38,216 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:38,217 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:38,286 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:38,286 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:38,287 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:38,288 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:38,350 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:38,351 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:38,352 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:38,353 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:38,423 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:38,425 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:38,426 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:38,426 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:38,494 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:38,495 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:38,496 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:38,497 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:38,549 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:38,551 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:38,551 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:38,551 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:38,604 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:38,605 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:38,605 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:38,606 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:38,660 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:38,661 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:38,662 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:38,662 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:38,715 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:38,717 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:38,717 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:38,718 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:38,769 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:38,770 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:38,771 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:38,771 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:38,822 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:38,823 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:38,824 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:38,824 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:38,874 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:38,875 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:38,875 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:38,876 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:38,925 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:38,926 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:38,927 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:38,928 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:38,983 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:38,985 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:38,986 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:38,986 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:39,036 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:39,036 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:39,037 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:39,037 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:39,115 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:39,116 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:39,118 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:39,119 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:39,186 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:39,187 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:39,188 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:39,188 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:39,242 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:39,243 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:39,244 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:39,244 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:39,297 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:39,298 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:39,299 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:39,300 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:39,358 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:39,359 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:39,360 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:39,361 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:39,415 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:39,416 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:39,417 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:39,417 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:39,473 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:39,473 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:39,475 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:39,476 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:39,526 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:39,527 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:39,528 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:39,529 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:39,581 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:39,582 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:39,582 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:39,584 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:39,634 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:39,635 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:39,636 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:39,636 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:39,686 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:39,687 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:39,688 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:39,688 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:39,748 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:39,750 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:39,750 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:39,751 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:39,815 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:39,817 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:39,817 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:39,817 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:39,869 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:39,870 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:39,870 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:39,871 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:39,920 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:39,921 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:39,921 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:39,922 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:39,973 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:39,973 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:39,975 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:39,976 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:40,044 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:40,044 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:40,045 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:40,046 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:40,095 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:40,095 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:40,096 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:40,097 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:40,171 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:40,172 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:40,172 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:40,172 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:40,245 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:40,246 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:40,247 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:40,247 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:40,309 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:40,310 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:40,310 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:40,311 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:40,364 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:40,365 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:40,366 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:40,366 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:40,421 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:40,422 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:40,423 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:40,423 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:40,481 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:40,482 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:40,482 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:40,482 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:40,540 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:40,540 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:40,541 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:40,541 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:40,595 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:40,596 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:40,597 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:40,597 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:40,656 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:40,656 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:40,657 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:40,657 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:40,713 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:40,714 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:40,716 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:40,716 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:40,778 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:40,779 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:40,779 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:40,780 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:40,838 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:40,838 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:40,839 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:40,840 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:40,899 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:40,900 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:40,900 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:40,902 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:40,974 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:40,976 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:40,977 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:40,978 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:41,064 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:41,065 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:41,067 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:41,067 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:41,122 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:41,123 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:41,124 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:41,124 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:41,179 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:41,180 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:41,181 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:41,181 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:41,237 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:41,237 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:41,239 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:41,240 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:41,295 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:41,295 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:41,297 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:41,298 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:41,359 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:41,359 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:41,361 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:41,361 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:41,418 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:41,419 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:41,419 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:41,420 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:41,470 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:41,471 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:41,471 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:41,472 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:41,524 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:41,525 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:41,525 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:41,525 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:41,584 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:41,585 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:41,585 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:41,586 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:41,636 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:41,637 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:41,638 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:41,638 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:41,703 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:41,704 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:41,705 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:41,705 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:41,760 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:41,761 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:41,763 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:41,763 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:41,832 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:41,834 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:41,836 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:41,837 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:41,935 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:41,937 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:41,938 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:41,939 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:41,995 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:41,997 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:41,997 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:41,999 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:42,050 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:42,051 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:42,051 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:42,051 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:42,125 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:42,126 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:42,127 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:42,127 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:42,184 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:42,185 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:42,185 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:42,186 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:42,251 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:42,252 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:42,253 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:42,253 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:42,324 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:42,325 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:42,325 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:42,327 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:42,382 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:42,384 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:42,385 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:42,385 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:42,437 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:42,439 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:42,439 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:42,440 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:42,496 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:42,497 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:42,498 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:42,499 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:42,560 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:42,560 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:42,561 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:42,561 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:42,652 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:42,654 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:42,655 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:42,656 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:42,726 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:42,726 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:42,728 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:42,729 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:42,798 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:42,799 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:42,800 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:42,800 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:42,870 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:42,871 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:42,872 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:42,872 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:42,936 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:42,937 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:42,939 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:42,940 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:42,995 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:42,995 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:42,997 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:42,998 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:43,056 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:43,057 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:43,059 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:43,060 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:43,114 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:43,115 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:43,116 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:43,116 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:43,168 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:43,168 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:43,169 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:43,169 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:43,224 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:43,225 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:43,225 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:43,226 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:43,278 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:43,279 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:43,280 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:43,281 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:43,332 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:43,333 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:43,334 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:43,335 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:43,399 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:43,400 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:43,401 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:43,402 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:43,458 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:43,459 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:43,460 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:43,461 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:43,519 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:43,521 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:43,521 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:43,522 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:43,592 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:43,594 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:43,595 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:43,596 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:43,666 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:43,666 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:43,667 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:43,667 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:43,761 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:43,762 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:43,763 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:43,765 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:43,821 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:43,822 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:43,822 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:43,822 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:43,878 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:43,879 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:43,880 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:43,880 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:43,946 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:43,948 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:43,948 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:43,949 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:44,015 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:44,017 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:44,018 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:44,018 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:44,075 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:44,077 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:44,078 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:44,079 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:44,129 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:44,130 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:44,131 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:44,132 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:44,191 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:44,193 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:44,194 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:44,194 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:44,262 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:44,263 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:44,264 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:44,265 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:44,328 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:44,329 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:44,330 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:44,331 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:44,380 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:44,381 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:44,381 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:44,382 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:44,441 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:44,441 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:44,442 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:44,443 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:44,515 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:44,516 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:44,518 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:44,519 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:44,585 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:44,586 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:44,587 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:44,587 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:44,658 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:44,659 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:44,660 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:44,662 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:44,713 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:44,714 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:44,716 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:44,716 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:44,776 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:44,776 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:44,779 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:44,780 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:44,831 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:44,832 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:44,833 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:44,834 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:44,884 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:44,885 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:44,885 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:44,886 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:44,944 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:44,944 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:44,945 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:44,946 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:45,007 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:45,008 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:45,008 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:45,009 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:45,063 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:45,064 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:45,064 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:45,064 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:45,118 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:45,119 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:45,119 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:45,120 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:45,174 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:45,175 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:45,178 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:45,183 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:45,347 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:45,363 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:45,367 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:45,368 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:45,434 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:45,435 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:45,435 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:45,436 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:45,493 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:45,495 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:45,495 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:45,497 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:45,554 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:45,555 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:45,556 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:45,556 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:45,618 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:45,619 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:45,620 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:45,620 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:45,682 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:45,683 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:45,684 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:45,684 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:45,742 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:45,743 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:45,745 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:45,746 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:45,802 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:45,803 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:45,803 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:45,804 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:45,859 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:45,860 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:45,861 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:45,862 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:45,924 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:45,925 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:45,925 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:45,926 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:45,980 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:45,980 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:45,981 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:45,981 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:46,043 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:46,044 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:46,045 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:46,046 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:46,099 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:46,101 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:46,102 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:46,102 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:46,155 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:46,156 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:46,156 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:46,157 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:46,215 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:46,216 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:46,217 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:46,217 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:46,273 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:46,273 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:46,275 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:46,275 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:46,333 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:46,334 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:46,335 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:46,335 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:46,394 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:46,394 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:46,395 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:46,395 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:46,471 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:46,472 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:46,473 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:46,473 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:46,541 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:46,541 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:46,542 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:46,544 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:46,621 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:46,622 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:46,624 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:46,625 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:46,717 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:46,719 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:46,722 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:46,728 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:46,791 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:46,791 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:46,794 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:46,794 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:46,851 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:46,852 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:46,853 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:46,853 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:46,910 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:46,911 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:46,912 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:46,913 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:46,967 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:46,968 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:46,968 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:46,969 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:47,022 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:47,022 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:47,023 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:47,023 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:47,080 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:47,081 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:47,081 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:47,082 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:47,141 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:47,143 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:47,144 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:47,144 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:47,200 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:47,201 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:47,201 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:47,202 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:47,255 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:47,256 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:47,256 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:47,256 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:47,319 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:47,319 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:47,320 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:47,320 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:47,372 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:47,372 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:47,373 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:47,373 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:47,424 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:47,425 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:47,425 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:47,426 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:47,481 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:47,482 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:47,483 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:47,483 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:47,560 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:47,562 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:47,563 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:47,564 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:47,632 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:47,634 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:47,634 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:47,635 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:47,718 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:47,719 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:47,720 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:47,720 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:47,795 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:47,797 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:47,799 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:47,799 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:47,856 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:47,857 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:47,858 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:47,858 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:47,911 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:47,912 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:47,912 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:47,913 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:47,964 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:47,966 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:47,966 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:47,967 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:48,021 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:48,021 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:48,021 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:48,022 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:48,074 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:48,075 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:48,076 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:48,077 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:48,130 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:48,133 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:48,134 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:48,134 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:48,187 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:48,188 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:48,189 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:48,189 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:48,244 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:48,244 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:48,245 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:48,245 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:48,311 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:48,312 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:48,313 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:48,314 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:48,367 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:48,367 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:48,369 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:48,369 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:48,419 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:48,419 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:48,420 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:48,420 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:48,506 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:48,507 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:48,508 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:48,510 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:48,591 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:48,594 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:48,595 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:48,596 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:48,679 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:48,682 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:48,684 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:48,684 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:48,757 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:48,758 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:48,759 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:48,759 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:48,821 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:48,822 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:48,822 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:48,823 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:48,875 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:48,876 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:48,878 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:48,879 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:48,950 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:48,951 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:48,952 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:48,953 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:49,013 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:49,013 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:49,014 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:49,014 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:49,070 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:49,070 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:49,071 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:49,071 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:49,128 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:49,129 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:49,130 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:49,130 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:49,183 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:49,184 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:49,185 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:49,185 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:49,240 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:49,241 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:49,241 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:49,242 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:49,296 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:49,297 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:49,298 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:49,298 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:49,351 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:49,353 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:49,354 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:49,355 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:49,411 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:49,412 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:49,413 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:49,414 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:49,474 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:49,476 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:49,477 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:49,477 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:49,547 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:49,547 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:49,549 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:49,549 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:49,657 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:49,659 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:49,660 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:49,662 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:49,727 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:49,728 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:49,729 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:49,729 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:49,787 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:49,789 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:49,790 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:49,791 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:49,856 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:49,857 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:49,858 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:49,858 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:49,916 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:49,917 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:49,918 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:49,918 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:49,972 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:49,972 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:49,973 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:49,973 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:50,032 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:50,034 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:50,034 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:50,035 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:50,102 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:50,104 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:50,105 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:50,105 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:50,163 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:50,164 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:50,165 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:50,165 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:50,201 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:50,203 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:50,204 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:50,204 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:50,247 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:50,249 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:50,250 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:50,250 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:50,306 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:50,309 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:50,311 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:50,313 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:50,358 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:50,359 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:50,361 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:50,361 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:50,400 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:50,401 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:50,402 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:50,403 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:50,441 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:50,441 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:50,443 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:50,444 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:50,495 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:50,497 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:50,500 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:50,501 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:50,557 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:50,558 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:50,559 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:50,561 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:50,621 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:50,622 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:50,622 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:50,622 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:50,662 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:50,663 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:50,663 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:50,664 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:50,699 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:50,701 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:50,702 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:50,702 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:50,739 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:50,739 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:50,741 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:50,741 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:50,781 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:50,782 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:50,783 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:50,784 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:50,835 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:50,836 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:50,837 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:50,837 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:50,879 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:50,880 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:50,880 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:50,881 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:50,930 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:50,931 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:50,931 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:50,932 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:50,978 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:50,979 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:50,980 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:50,981 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:51,026 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:51,027 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:51,029 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:51,029 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:51,071 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:51,072 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:51,073 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:51,074 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:51,112 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:51,114 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:51,116 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:51,116 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:51,176 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:51,176 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:51,179 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:51,180 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:51,218 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:51,219 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:51,220 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:51,220 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:51,257 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:51,258 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:51,259 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:51,259 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:51,297 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:51,298 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:51,299 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:51,300 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:51,343 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:51,344 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:51,345 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:51,346 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:51,385 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:51,385 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:51,386 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:51,387 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:51,429 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:51,429 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:51,430 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:51,430 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:51,484 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:51,485 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:51,486 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:51,486 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:51,547 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:51,547 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:51,547 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:51,547 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:51,585 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:51,585 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:51,586 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:51,586 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:51,631 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:51,631 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:51,634 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:51,635 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:51,680 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:51,681 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:51,681 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:51,682 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:51,719 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:51,721 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:51,722 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:51,722 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:51,760 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:51,761 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:51,762 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:51,763 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:51,798 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:51,798 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:51,798 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:51,799 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:51,848 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:51,849 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:51,850 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:51,850 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:51,904 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:51,905 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:51,906 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:51,906 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:51,945 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:51,947 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:51,947 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:51,949 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:51,986 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:51,987 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:51,988 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:51,989 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:52,029 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:52,030 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:52,030 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:52,030 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:52,069 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:52,069 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:52,069 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:52,071 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:52,108 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:52,109 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:52,110 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:52,110 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:52,150 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:52,151 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:52,151 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:52,151 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:52,189 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:52,191 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:52,192 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:52,192 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:52,236 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:52,237 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:52,238 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:52,239 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:52,274 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:52,275 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:52,276 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:52,276 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:52,314 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:52,315 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:52,317 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:52,318 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:52,356 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:52,356 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:52,358 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:52,359 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:52,403 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:52,403 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:52,404 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:52,404 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:52,441 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:52,443 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:52,444 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:52,444 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:52,481 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:52,482 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:52,484 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:52,484 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:52,520 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:52,522 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:52,522 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:52,523 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:52,564 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:52,566 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:52,568 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:52,568 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:52,631 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:52,632 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:52,633 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:52,633 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:52,679 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:52,681 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:52,682 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:52,682 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:52,728 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:52,729 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:52,730 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:52,731 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:52,786 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:52,787 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:52,789 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:52,789 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:52,836 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:52,836 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:52,837 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:52,838 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:52,878 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:52,879 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:52,880 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:52,882 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:52,920 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:52,921 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:52,921 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:52,921 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:52,957 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:52,958 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:52,959 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:52,959 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:52,994 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:52,995 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:52,998 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:52,999 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:53,038 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:53,039 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:53,039 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:53,040 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:53,080 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:53,082 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:53,082 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:53,083 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:53,119 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:53,119 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:53,120 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:53,121 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:53,161 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:53,163 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:53,164 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:53,165 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:53,200 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:53,201 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:53,201 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:53,203 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:53,266 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:53,266 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:53,267 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:53,268 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:53,317 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:53,318 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:53,318 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:53,318 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:53,356 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:53,356 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:53,357 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:53,357 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:53,401 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:53,401 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:53,403 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:53,403 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:19:53,459 - src.services.spotify_service - ERROR - Error getting recommendations from Spotify: Spotify credentials not found in environment variables
2025-01-24 13:19:53,461 - src.services.spotify_service - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 440, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 39, in get_spotify_client
    raise ValueError("Spotify credentials not found in environment variables")
ValueError: Spotify credentials not found in environment variables

2025-01-24 13:19:53,463 - src.api.emotion - ERROR - Error getting playlist recommendations: object list can't be used in 'await' expression
2025-01-24 13:19:53,464 - src.api.emotion - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 144, in detect_emotion_endpoint
    playlist = await fetch_random_tracks(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object list can't be used in 'await' expression

2025-01-24 13:23:35,111 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:35,113 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:35,114 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:35,149 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:35,149 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:35,151 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:35,185 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:35,185 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:35,186 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:35,221 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:35,221 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:35,222 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:35,261 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:35,261 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:35,264 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:35,304 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:35,306 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:35,307 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:35,341 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:35,341 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:35,342 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:35,378 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:35,379 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:35,380 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:35,415 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:35,415 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:35,416 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:35,451 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:35,451 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:35,453 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:35,488 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:35,489 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:35,490 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:35,525 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:35,525 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:35,526 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:35,562 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:35,563 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:35,563 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:35,604 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:35,604 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:35,605 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:35,643 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:35,643 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:35,644 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:35,680 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:35,680 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:35,681 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:35,721 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:35,721 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:35,722 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:35,765 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:35,766 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:35,766 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:35,808 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:35,809 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:35,811 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:35,848 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:35,848 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:35,849 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:35,892 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:35,894 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:35,895 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:35,934 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:35,935 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:35,935 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:35,969 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:35,970 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:35,971 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,007 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,007 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,009 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,044 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,044 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,045 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,084 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,084 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,086 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,120 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,121 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,122 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,159 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,160 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,161 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,193 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,194 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,194 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,227 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,228 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,228 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,266 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,266 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,267 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,303 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,304 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,305 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,343 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,344 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,345 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,382 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,382 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,384 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,422 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,423 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,423 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,464 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,464 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,466 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,506 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,506 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,507 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,544 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,544 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,545 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,584 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,585 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,585 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,623 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,623 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,625 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,661 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,661 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,662 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,698 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,699 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,700 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,735 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,735 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,736 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,774 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,775 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,776 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,820 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,820 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,821 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,865 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,866 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,867 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,901 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,902 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,903 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,938 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,939 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,940 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:36,975 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:36,976 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:36,978 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,011 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,011 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,013 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,047 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,048 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,048 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,082 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,084 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,085 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,119 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,120 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,121 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,161 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,161 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,163 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,202 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,203 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,204 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,243 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,244 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,244 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,276 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,277 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,278 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,311 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,312 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,312 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,350 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,350 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,351 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,386 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,386 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,387 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,421 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,422 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,422 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,462 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,463 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,464 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,496 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,497 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,498 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,531 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,531 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,532 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,567 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,567 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,569 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,605 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,606 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,606 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,646 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,647 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,647 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,688 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,690 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,691 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,723 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,724 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,725 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,759 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,759 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,761 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,794 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,796 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,797 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,833 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,834 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,834 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,869 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,869 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,870 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,905 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,906 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,907 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,942 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,943 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,944 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:37,982 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:37,982 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:37,983 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,024 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,024 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,026 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,063 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,064 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,064 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,103 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,104 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,105 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,138 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,139 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,140 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,175 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,176 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,177 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,217 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,218 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,219 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,254 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,255 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,256 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,291 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,292 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,293 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,326 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,328 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,328 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,363 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,364 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,364 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,400 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,401 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,402 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,441 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,442 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,442 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,478 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,478 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,479 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,511 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,512 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,513 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,547 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,547 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,549 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,583 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,583 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,585 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,617 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,618 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,619 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,660 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,661 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,662 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,710 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,711 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,712 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,745 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,745 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,746 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,784 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,785 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,786 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,820 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,820 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,821 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,858 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,859 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,859 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,901 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,901 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,902 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,939 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,940 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,941 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:38,977 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:38,978 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:38,979 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:39,016 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:39,018 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:39,019 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:39,056 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:39,057 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:39,058 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:39,093 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:39,094 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:39,095 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:39,130 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:39,131 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:39,131 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:39,166 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:39,166 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:39,167 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:39,205 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:39,205 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:39,206 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:39,241 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:39,242 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:39,242 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:39,282 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:39,283 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:39,283 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:39,320 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:39,320 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:39,321 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:39,357 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:39,358 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:39,359 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:39,401 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:39,402 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:39,404 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:39,441 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:39,442 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:39,443 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:39,478 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:39,478 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:39,479 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:39,512 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:39,513 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:39,513 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:39,548 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:39,548 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:39,549 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:39,585 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:39,585 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:39,586 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:39,621 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:39,622 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:39,622 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:39,678 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:39,679 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:39,680 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:39,748 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:39,748 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:39,749 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:39,809 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:39,809 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:39,811 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:39,877 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:39,877 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:39,878 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:39,939 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:39,939 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:39,941 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:40,002 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:40,004 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:40,005 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:40,074 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:40,074 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:40,075 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:40,133 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:40,134 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:40,135 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:40,193 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:40,194 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:40,195 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:40,255 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:40,255 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:40,257 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:40,313 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:40,313 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:40,314 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:40,396 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:40,414 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:40,458 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:40,678 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:40,679 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:40,724 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:40,860 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:40,891 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:40,914 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:41,128 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:41,154 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:41,221 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:41,396 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:41,443 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:41,492 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:41,669 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:41,686 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:41,705 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:41,823 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:41,857 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:41,876 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:41,992 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:42,018 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:42,034 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:42,117 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:42,117 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:42,118 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:42,195 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:42,197 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:42,206 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:42,310 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:42,314 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:42,316 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:42,403 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:42,415 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:42,417 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:42,482 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:42,482 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:42,482 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:42,542 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:42,543 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:42,544 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:42,595 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:42,595 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:42,596 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:42,649 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:42,649 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:42,651 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:42,703 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:42,704 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:42,705 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:42,763 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:42,764 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:42,764 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:42,824 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:42,825 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:42,826 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:42,880 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:42,880 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:42,881 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:42,940 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:42,941 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:42,942 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:43,013 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:43,014 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:43,015 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:43,070 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:43,070 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:43,071 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:43,132 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:43,132 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:43,134 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:43,193 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:43,193 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:43,194 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:43,247 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:43,249 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:43,249 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:43,302 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:43,303 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:43,303 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:43,361 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:43,361 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:43,362 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:43,429 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:43,429 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:43,431 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:43,503 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:43,504 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:43,505 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:43,577 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:43,578 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:43,579 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:43,637 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:43,637 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:43,639 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:43,698 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:43,699 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:43,701 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:43,754 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:43,756 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:43,757 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:43,810 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:43,810 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:43,811 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:43,873 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:43,874 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:43,875 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:43,931 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:43,932 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:43,933 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:44,018 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:44,019 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:44,020 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:44,076 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:44,076 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:44,078 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:44,131 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:44,132 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:44,133 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:44,191 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:44,191 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:44,193 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:44,244 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:44,245 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:44,246 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:44,312 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:44,313 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:44,314 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:44,387 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:44,388 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:44,390 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:44,464 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:44,466 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:44,468 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:44,540 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:44,540 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:44,541 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:44,595 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:44,595 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:44,596 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:44,652 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:44,653 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:44,654 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:44,707 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:44,707 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:44,708 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:44,762 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:44,763 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:44,764 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:44,817 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:44,818 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:44,819 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:44,873 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:44,874 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:44,874 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:44,929 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:44,930 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:44,930 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:44,987 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:44,987 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:44,989 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:45,044 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:45,044 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:45,045 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:45,099 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:45,100 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:45,101 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:45,156 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:45,157 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:45,158 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:45,217 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:45,218 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:45,219 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:45,274 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:45,274 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:45,276 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:45,331 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:45,332 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:45,332 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:45,391 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:45,391 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:45,391 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:45,448 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:45,448 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:45,449 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:45,508 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:45,509 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:45,509 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:45,566 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:45,567 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:45,568 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:45,629 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:45,629 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:45,630 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:45,690 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:45,691 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:45,691 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:45,749 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:45,749 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:45,751 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:45,805 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:45,805 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:45,807 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:45,861 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:45,863 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:45,863 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:45,917 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:45,917 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:45,918 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:45,980 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:45,981 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:45,981 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:46,037 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:46,040 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:46,041 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:46,097 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:46,097 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:46,097 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:46,166 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:46,166 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:46,167 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:46,230 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:46,230 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:46,231 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:46,292 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:46,293 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:46,294 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:46,353 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:46,353 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:46,354 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:46,415 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:46,416 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:46,418 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:46,478 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:46,479 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:46,480 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:46,541 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:46,542 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:46,543 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:46,605 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:46,607 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:46,608 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:46,668 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:46,669 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:46,670 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:46,729 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:46,729 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:46,730 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:46,784 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:46,784 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:46,786 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:46,846 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:46,848 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:46,849 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:46,902 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:46,903 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:46,904 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:46,962 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:46,962 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:46,963 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:47,023 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:47,023 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:47,025 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:47,083 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:47,083 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:47,083 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:47,142 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:47,142 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:47,144 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:47,203 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:47,203 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:47,204 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:47,263 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:47,263 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:47,264 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:47,319 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:47,319 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:47,320 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:47,376 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:47,376 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:47,378 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:47,439 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:47,439 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:47,440 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:47,493 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:47,494 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:47,495 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:47,551 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:47,552 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:47,553 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:47,608 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:47,609 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:47,610 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:47,670 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:47,671 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:47,673 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:47,757 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:47,759 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:47,760 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:47,859 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:47,860 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:47,862 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:47,960 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:47,961 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:47,963 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:48,024 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:48,024 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:48,025 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:48,079 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:48,079 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:48,084 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:48,143 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:48,147 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:48,149 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:48,223 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:48,224 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:48,225 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:48,277 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:48,278 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:48,279 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:48,344 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:48,345 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:48,345 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:48,408 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:48,409 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:48,410 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:48,468 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:48,468 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:48,469 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:48,527 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:48,528 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:48,529 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:48,606 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:48,606 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:48,607 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:48,682 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:48,684 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:48,685 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:48,757 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:48,758 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:48,760 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:48,836 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:48,837 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:48,839 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:48,896 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:48,897 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:48,897 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:48,953 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:48,953 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:48,954 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:49,014 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:49,015 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:49,016 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:49,072 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:49,072 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:49,074 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:49,132 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:49,134 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:49,135 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:49,194 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:49,194 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:49,195 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:49,259 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:49,259 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:49,260 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:49,321 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:49,321 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:49,322 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:49,379 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:49,380 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:49,381 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:49,446 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:49,447 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:49,447 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:49,510 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:49,511 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:49,512 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:49,587 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:49,588 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:49,590 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:49,654 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:49,654 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:49,655 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:49,718 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:49,719 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:49,720 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:49,787 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:49,789 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:49,790 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:49,847 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:49,849 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:49,850 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:49,909 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:49,909 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:49,910 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:49,972 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:49,973 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:49,974 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:50,037 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:50,037 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:50,038 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:50,092 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:50,093 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:50,094 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:50,146 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:50,146 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:50,147 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:50,206 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:50,207 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:50,207 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:50,260 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:50,262 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:50,262 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:50,316 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:50,317 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:50,318 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:50,380 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:50,381 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:50,382 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:50,445 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:50,445 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:50,447 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:50,508 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:50,508 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:50,510 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:50,599 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:50,601 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:50,602 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:50,671 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:50,672 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:50,673 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:50,732 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:50,732 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:50,734 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:50,791 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:50,791 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:50,793 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:50,848 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:50,848 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:50,849 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:50,908 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:50,908 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:50,909 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:50,964 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:50,965 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:50,966 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:51,020 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:51,021 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:51,022 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:51,075 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:51,075 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:51,076 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:51,132 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:51,134 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:51,134 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:51,192 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:51,193 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:51,194 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:51,248 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:51,248 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:51,249 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:51,302 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:51,303 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:51,304 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:51,376 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:51,376 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:51,377 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:51,440 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:51,441 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:51,441 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:51,511 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:51,512 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:51,513 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:51,578 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:51,579 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:51,580 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:51,638 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:51,639 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:51,641 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:51,833 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:51,853 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:51,857 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:51,946 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:51,948 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:51,948 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:52,014 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:52,015 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:52,016 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:52,081 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:52,082 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:52,084 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:52,146 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:52,147 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:52,148 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:52,211 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:52,212 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:52,213 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:52,275 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:52,275 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:52,277 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:52,337 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:52,339 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:52,340 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:52,401 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:52,401 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:52,403 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:52,471 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:52,471 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:52,472 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:52,537 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:52,539 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:52,540 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:52,599 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:52,599 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:52,601 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:52,668 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:52,669 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:52,670 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:52,735 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:52,736 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:52,737 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:52,798 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:52,799 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:52,800 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:52,862 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:52,863 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:52,863 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:52,923 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:52,923 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:52,924 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:52,985 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:52,986 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:52,987 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:53,048 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:53,048 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:53,049 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:53,109 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:53,110 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:53,111 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:53,167 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:53,167 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:53,169 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:53,229 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:53,229 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:53,230 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:53,291 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:53,291 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:53,291 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:53,353 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:53,354 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:53,355 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:53,419 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:53,419 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:53,421 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:53,498 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:53,499 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:53,500 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:53,599 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:53,601 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:53,601 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:53,677 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:53,678 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:53,680 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:53,751 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:53,753 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:53,753 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:53,819 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:53,819 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:53,820 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:53,906 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:53,907 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:53,908 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:53,992 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:53,993 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:53,994 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:54,057 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:54,057 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:54,058 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:54,134 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:54,135 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:54,136 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:54,217 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:54,218 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:54,219 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:54,294 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:54,294 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:54,295 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:54,356 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:54,356 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:54,357 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:54,414 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:54,414 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:54,415 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:54,476 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:54,476 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:54,478 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:54,535 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:54,537 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:54,537 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:54,594 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:54,594 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:54,595 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:54,673 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:54,673 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:54,675 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:54,761 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:54,762 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:54,762 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:54,823 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:54,823 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:54,823 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:54,885 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:54,886 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:54,887 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:54,954 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:54,954 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:54,955 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:55,027 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:55,027 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:55,029 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:55,090 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:55,091 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:55,091 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:55,156 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:55,157 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:55,157 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:55,220 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:55,220 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:55,221 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:55,276 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:55,277 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:55,278 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:55,344 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:55,344 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:55,345 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:55,406 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:55,406 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:55,407 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:55,481 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:55,482 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:55,483 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:55,579 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:55,580 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:55,581 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:55,726 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:55,726 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:55,728 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:55,806 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:55,807 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:55,807 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:55,874 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:55,875 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:55,876 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:55,944 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:55,944 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:55,944 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:56,015 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:56,017 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:56,018 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:56,078 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:56,079 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:56,080 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:56,145 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:56,146 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:56,148 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:56,210 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:56,210 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:56,212 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:56,274 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:56,275 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:56,276 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:56,338 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:56,339 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:56,339 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:56,402 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:56,402 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:56,404 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:56,465 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:56,465 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:56,466 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:56,561 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:56,562 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:56,563 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:56,719 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:56,720 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:56,722 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:56,858 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:56,858 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:56,859 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:56,922 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:56,922 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:56,923 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:56,976 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:56,977 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:56,978 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:57,030 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:57,031 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:57,031 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:57,087 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:57,087 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:57,090 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:57,136 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:57,136 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:57,136 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:57,183 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:57,184 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:57,185 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:57,242 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:57,242 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:57,243 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:57,283 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:57,284 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:57,285 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:57,326 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:57,326 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:57,328 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:57,393 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:57,396 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:57,399 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:57,459 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:57,460 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:57,461 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:57,499 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:57,499 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:57,501 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:57,580 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:57,581 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:57,581 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:57,625 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:57,626 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:57,626 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:57,669 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:57,669 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:57,670 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:57,735 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:57,736 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:57,737 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:57,775 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:57,775 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:57,776 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:57,820 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:57,820 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:57,821 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:57,862 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:57,863 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:57,863 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:57,914 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:57,915 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:57,916 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:57,957 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:57,958 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:57,959 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:58,037 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:58,038 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:58,040 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:58,092 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:58,093 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:58,094 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:58,136 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:58,136 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:58,137 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:58,191 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:58,191 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:58,193 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:58,236 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:58,236 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:58,238 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:58,284 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:58,284 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:58,285 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:23:58,326 - INFO - Language 'english' matched exactly: english
2025-01-24 13:23:58,327 - ERROR - Error getting recommendations from Spotify: http status: 400, code:-1 - Unsupported URL / URI., reason: None
2025-01-24 13:23:58,329 - ERROR - Traceback:
Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in recommendations
    [self._get_id("artist", a) for a in seed_artists]
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1697, in <listcomp>
    [self._get_id("artist", a) for a in seed_artists]
     ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 2006, in _get_id
    raise SpotifyException(400, -1, "Unsupported URL / URI.")
spotipy.exceptions.SpotifyException: http status: 400, code:-1 - Unsupported URL / URI., reason: None

2025-01-24 13:27:12,476 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:12,997 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '6eUKZXaKkcviH0Ku9w2n3V,3TVXtAsR1Inumwj472S9r4', 'seed_genres': 'rock,pop', 'target_energy': 0.7662282347937267, 'target_tempo': 125.01561780037935, 'target_valence': 0.7079493457709171} returned 404 due to None
2025-01-24 13:27:12,999 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C3TVXtAsR1Inumwj472S9r4&seed_genres=rock%2Cpop&target_energy=0.7662282347937267&target_tempo=125.01561780037935&target_valence=0.7079493457709171:
 None, reason: None
2025-01-24 13:27:13,011 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C3TVXtAsR1Inumwj472S9r4&seed_genres=rock%2Cpop&target_energy=0.7662282347937267&target_tempo=125.01561780037935&target_valence=0.7079493457709171

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C3TVXtAsR1Inumwj472S9r4&seed_genres=rock%2Cpop&target_energy=0.7662282347937267&target_tempo=125.01561780037935&target_valence=0.7079493457709171:
 None, reason: None

2025-01-24 13:27:13,090 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:13,559 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '06HL4z0CvFAxyc27GXpf02,3TVXtAsR1Inumwj472S9r4', 'seed_genres': 'dance,rock', 'target_energy': 0.7044464595601991, 'target_tempo': 138.95571416354053, 'target_valence': 0.8239911314326177} returned 404 due to None
2025-01-24 13:27:13,563 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C3TVXtAsR1Inumwj472S9r4&seed_genres=dance%2Crock&target_energy=0.7044464595601991&target_tempo=138.95571416354053&target_valence=0.8239911314326177:
 None, reason: None
2025-01-24 13:27:13,566 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C3TVXtAsR1Inumwj472S9r4&seed_genres=dance%2Crock&target_energy=0.7044464595601991&target_tempo=138.95571416354053&target_valence=0.8239911314326177

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C3TVXtAsR1Inumwj472S9r4&seed_genres=dance%2Crock&target_energy=0.7044464595601991&target_tempo=138.95571416354053&target_valence=0.8239911314326177:
 None, reason: None

2025-01-24 13:27:13,636 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:14,164 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '3TVXtAsR1Inumwj472S9r4,06HL4z0CvFAxyc27GXpf02', 'seed_genres': 'pop,dance', 'target_energy': 0.8877095793312012, 'target_tempo': 139.04263536943176, 'target_valence': 0.7497023536177151} returned 404 due to None
2025-01-24 13:27:14,164 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C06HL4z0CvFAxyc27GXpf02&seed_genres=pop%2Cdance&target_energy=0.8877095793312012&target_tempo=139.04263536943176&target_valence=0.7497023536177151:
 None, reason: None
2025-01-24 13:27:14,165 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C06HL4z0CvFAxyc27GXpf02&seed_genres=pop%2Cdance&target_energy=0.8877095793312012&target_tempo=139.04263536943176&target_valence=0.7497023536177151

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C06HL4z0CvFAxyc27GXpf02&seed_genres=pop%2Cdance&target_energy=0.8877095793312012&target_tempo=139.04263536943176&target_valence=0.7497023536177151:
 None, reason: None

2025-01-24 13:27:14,209 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:14,708 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '06HL4z0CvFAxyc27GXpf02,6eUKZXaKkcviH0Ku9w2n3V', 'seed_genres': 'rock,pop', 'target_energy': 0.7838688275821339, 'target_tempo': 122.88001838880143, 'target_valence': 0.7623428307385737} returned 404 due to None
2025-01-24 13:27:14,709 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=rock%2Cpop&target_energy=0.7838688275821339&target_tempo=122.88001838880143&target_valence=0.7623428307385737:
 None, reason: None
2025-01-24 13:27:14,711 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=rock%2Cpop&target_energy=0.7838688275821339&target_tempo=122.88001838880143&target_valence=0.7623428307385737

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=rock%2Cpop&target_energy=0.7838688275821339&target_tempo=122.88001838880143&target_valence=0.7623428307385737:
 None, reason: None

2025-01-24 13:27:14,751 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:15,209 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '06HL4z0CvFAxyc27GXpf02,1uNFoZAHBGtllmzznpCI3s', 'seed_genres': 'pop,dance', 'target_energy': 0.7965834149722141, 'target_tempo': 139.11624946787833, 'target_valence': 0.8207281636611572} returned 404 due to None
2025-01-24 13:27:15,210 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=pop%2Cdance&target_energy=0.7965834149722141&target_tempo=139.11624946787833&target_valence=0.8207281636611572:
 None, reason: None
2025-01-24 13:27:15,211 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=pop%2Cdance&target_energy=0.7965834149722141&target_tempo=139.11624946787833&target_valence=0.8207281636611572

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=pop%2Cdance&target_energy=0.7965834149722141&target_tempo=139.11624946787833&target_valence=0.8207281636611572:
 None, reason: None

2025-01-24 13:27:15,251 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:15,748 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '6eUKZXaKkcviH0Ku9w2n3V,7dGJo4pcD2V6oG8kP0tJRR', 'seed_genres': 'rock,dance', 'target_energy': 0.7076347859725298, 'target_tempo': 120.47335330254515, 'target_valence': 0.7853349996565161} returned 404 due to None
2025-01-24 13:27:15,748 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=rock%2Cdance&target_energy=0.7076347859725298&target_tempo=120.47335330254515&target_valence=0.7853349996565161:
 None, reason: None
2025-01-24 13:27:15,749 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=rock%2Cdance&target_energy=0.7076347859725298&target_tempo=120.47335330254515&target_valence=0.7853349996565161

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=rock%2Cdance&target_energy=0.7076347859725298&target_tempo=120.47335330254515&target_valence=0.7853349996565161:
 None, reason: None

2025-01-24 13:27:15,790 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:16,270 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '7dGJo4pcD2V6oG8kP0tJRR,1uNFoZAHBGtllmzznpCI3s', 'seed_genres': 'rock,dance', 'target_energy': 0.7421222126351508, 'target_tempo': 125.15977080513666, 'target_valence': 0.8051356872380471} returned 404 due to None
2025-01-24 13:27:16,273 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=rock%2Cdance&target_energy=0.7421222126351508&target_tempo=125.15977080513666&target_valence=0.8051356872380471:
 None, reason: None
2025-01-24 13:27:16,277 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=rock%2Cdance&target_energy=0.7421222126351508&target_tempo=125.15977080513666&target_valence=0.8051356872380471

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=rock%2Cdance&target_energy=0.7421222126351508&target_tempo=125.15977080513666&target_valence=0.8051356872380471:
 None, reason: None

2025-01-24 13:27:16,362 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:16,884 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '7dGJo4pcD2V6oG8kP0tJRR,3TVXtAsR1Inumwj472S9r4', 'seed_genres': 'pop,dance', 'target_energy': 0.8769967659798463, 'target_tempo': 132.66092168039063, 'target_valence': 0.7009204463640495} returned 404 due to None
2025-01-24 13:27:16,885 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C3TVXtAsR1Inumwj472S9r4&seed_genres=pop%2Cdance&target_energy=0.8769967659798463&target_tempo=132.66092168039063&target_valence=0.7009204463640495:
 None, reason: None
2025-01-24 13:27:16,889 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C3TVXtAsR1Inumwj472S9r4&seed_genres=pop%2Cdance&target_energy=0.8769967659798463&target_tempo=132.66092168039063&target_valence=0.7009204463640495

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C3TVXtAsR1Inumwj472S9r4&seed_genres=pop%2Cdance&target_energy=0.8769967659798463&target_tempo=132.66092168039063&target_valence=0.7009204463640495:
 None, reason: None

2025-01-24 13:27:16,963 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:17,455 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '1uNFoZAHBGtllmzznpCI3s,06HL4z0CvFAxyc27GXpf02', 'seed_genres': 'rock,dance', 'target_energy': 0.8028891379326544, 'target_tempo': 125.89171962517064, 'target_valence': 0.7297783148396882} returned 404 due to None
2025-01-24 13:27:17,456 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C06HL4z0CvFAxyc27GXpf02&seed_genres=rock%2Cdance&target_energy=0.8028891379326544&target_tempo=125.89171962517064&target_valence=0.7297783148396882:
 None, reason: None
2025-01-24 13:27:17,458 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C06HL4z0CvFAxyc27GXpf02&seed_genres=rock%2Cdance&target_energy=0.8028891379326544&target_tempo=125.89171962517064&target_valence=0.7297783148396882

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C06HL4z0CvFAxyc27GXpf02&seed_genres=rock%2Cdance&target_energy=0.8028891379326544&target_tempo=125.89171962517064&target_valence=0.7297783148396882:
 None, reason: None

2025-01-24 13:27:17,494 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:17,974 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '06HL4z0CvFAxyc27GXpf02,3TVXtAsR1Inumwj472S9r4', 'seed_genres': 'rock,pop', 'target_energy': 0.7486801229869785, 'target_tempo': 134.3700133993884, 'target_valence': 0.8537442307022166} returned 404 due to None
2025-01-24 13:27:17,975 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C3TVXtAsR1Inumwj472S9r4&seed_genres=rock%2Cpop&target_energy=0.7486801229869785&target_tempo=134.3700133993884&target_valence=0.8537442307022166:
 None, reason: None
2025-01-24 13:27:17,976 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C3TVXtAsR1Inumwj472S9r4&seed_genres=rock%2Cpop&target_energy=0.7486801229869785&target_tempo=134.3700133993884&target_valence=0.8537442307022166

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C3TVXtAsR1Inumwj472S9r4&seed_genres=rock%2Cpop&target_energy=0.7486801229869785&target_tempo=134.3700133993884&target_valence=0.8537442307022166:
 None, reason: None

2025-01-24 13:27:18,021 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:18,493 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '1uNFoZAHBGtllmzznpCI3s,7dGJo4pcD2V6oG8kP0tJRR', 'seed_genres': 'pop,dance', 'target_energy': 0.7779500363812859, 'target_tempo': 128.8888055526032, 'target_valence': 0.7745858440768209} returned 404 due to None
2025-01-24 13:27:18,494 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=pop%2Cdance&target_energy=0.7779500363812859&target_tempo=128.8888055526032&target_valence=0.7745858440768209:
 None, reason: None
2025-01-24 13:27:18,495 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=pop%2Cdance&target_energy=0.7779500363812859&target_tempo=128.8888055526032&target_valence=0.7745858440768209

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=pop%2Cdance&target_energy=0.7779500363812859&target_tempo=128.8888055526032&target_valence=0.7745858440768209:
 None, reason: None

2025-01-24 13:27:18,531 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:18,996 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '6eUKZXaKkcviH0Ku9w2n3V,3TVXtAsR1Inumwj472S9r4', 'seed_genres': 'dance,pop', 'target_energy': 0.8575819854551703, 'target_tempo': 129.29787594988542, 'target_valence': 0.7390729886613407} returned 404 due to None
2025-01-24 13:27:18,997 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C3TVXtAsR1Inumwj472S9r4&seed_genres=dance%2Cpop&target_energy=0.8575819854551703&target_tempo=129.29787594988542&target_valence=0.7390729886613407:
 None, reason: None
2025-01-24 13:27:19,026 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C3TVXtAsR1Inumwj472S9r4&seed_genres=dance%2Cpop&target_energy=0.8575819854551703&target_tempo=129.29787594988542&target_valence=0.7390729886613407

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C3TVXtAsR1Inumwj472S9r4&seed_genres=dance%2Cpop&target_energy=0.8575819854551703&target_tempo=129.29787594988542&target_valence=0.7390729886613407:
 None, reason: None

2025-01-24 13:27:19,063 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:19,514 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '1uNFoZAHBGtllmzznpCI3s,3TVXtAsR1Inumwj472S9r4', 'seed_genres': 'rock,pop', 'target_energy': 0.8972695103916579, 'target_tempo': 122.66675849481938, 'target_valence': 0.8069222620612881} returned 404 due to None
2025-01-24 13:27:19,515 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C3TVXtAsR1Inumwj472S9r4&seed_genres=rock%2Cpop&target_energy=0.8972695103916579&target_tempo=122.66675849481938&target_valence=0.8069222620612881:
 None, reason: None
2025-01-24 13:27:19,517 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C3TVXtAsR1Inumwj472S9r4&seed_genres=rock%2Cpop&target_energy=0.8972695103916579&target_tempo=122.66675849481938&target_valence=0.8069222620612881

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C3TVXtAsR1Inumwj472S9r4&seed_genres=rock%2Cpop&target_energy=0.8972695103916579&target_tempo=122.66675849481938&target_valence=0.8069222620612881:
 None, reason: None

2025-01-24 13:27:19,610 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:20,343 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '06HL4z0CvFAxyc27GXpf02,1uNFoZAHBGtllmzznpCI3s', 'seed_genres': 'rock,pop', 'target_energy': 0.8356785196087403, 'target_tempo': 136.7751121842215, 'target_valence': 0.748066207721413} returned 404 due to None
2025-01-24 13:27:20,344 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=rock%2Cpop&target_energy=0.8356785196087403&target_tempo=136.7751121842215&target_valence=0.748066207721413:
 None, reason: None
2025-01-24 13:27:20,347 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=rock%2Cpop&target_energy=0.8356785196087403&target_tempo=136.7751121842215&target_valence=0.748066207721413

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=rock%2Cpop&target_energy=0.8356785196087403&target_tempo=136.7751121842215&target_valence=0.748066207721413:
 None, reason: None

2025-01-24 13:27:20,463 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:21,149 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '3TVXtAsR1Inumwj472S9r4,6eUKZXaKkcviH0Ku9w2n3V', 'seed_genres': 'pop,dance', 'target_energy': 0.7994264859766546, 'target_tempo': 120.23090871611312, 'target_valence': 0.8943032058548659} returned 404 due to None
2025-01-24 13:27:21,150 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=pop%2Cdance&target_energy=0.7994264859766546&target_tempo=120.23090871611312&target_valence=0.8943032058548659:
 None, reason: None
2025-01-24 13:27:21,152 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=pop%2Cdance&target_energy=0.7994264859766546&target_tempo=120.23090871611312&target_valence=0.8943032058548659

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=pop%2Cdance&target_energy=0.7994264859766546&target_tempo=120.23090871611312&target_valence=0.8943032058548659:
 None, reason: None

2025-01-24 13:27:21,230 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:21,961 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '7dGJo4pcD2V6oG8kP0tJRR,06HL4z0CvFAxyc27GXpf02', 'seed_genres': 'pop,rock', 'target_energy': 0.8428677957344155, 'target_tempo': 138.71271576867832, 'target_valence': 0.7678075489146302} returned 404 due to None
2025-01-24 13:27:21,961 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C06HL4z0CvFAxyc27GXpf02&seed_genres=pop%2Crock&target_energy=0.8428677957344155&target_tempo=138.71271576867832&target_valence=0.7678075489146302:
 None, reason: None
2025-01-24 13:27:21,963 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C06HL4z0CvFAxyc27GXpf02&seed_genres=pop%2Crock&target_energy=0.8428677957344155&target_tempo=138.71271576867832&target_valence=0.7678075489146302

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C06HL4z0CvFAxyc27GXpf02&seed_genres=pop%2Crock&target_energy=0.8428677957344155&target_tempo=138.71271576867832&target_valence=0.7678075489146302:
 None, reason: None

2025-01-24 13:27:22,076 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:22,782 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '7dGJo4pcD2V6oG8kP0tJRR,1uNFoZAHBGtllmzznpCI3s', 'seed_genres': 'rock,pop', 'target_energy': 0.7801001998743734, 'target_tempo': 139.37643415537414, 'target_valence': 0.8573889034994031} returned 404 due to None
2025-01-24 13:27:22,784 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=rock%2Cpop&target_energy=0.7801001998743734&target_tempo=139.37643415537414&target_valence=0.8573889034994031:
 None, reason: None
2025-01-24 13:27:22,787 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=rock%2Cpop&target_energy=0.7801001998743734&target_tempo=139.37643415537414&target_valence=0.8573889034994031

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=rock%2Cpop&target_energy=0.7801001998743734&target_tempo=139.37643415537414&target_valence=0.8573889034994031:
 None, reason: None

2025-01-24 13:27:22,845 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:23,549 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '1uNFoZAHBGtllmzznpCI3s,06HL4z0CvFAxyc27GXpf02', 'seed_genres': 'dance,pop', 'target_energy': 0.8774972993617752, 'target_tempo': 129.96213005094143, 'target_valence': 0.7916463609513766} returned 404 due to None
2025-01-24 13:27:23,555 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Cpop&target_energy=0.8774972993617752&target_tempo=129.96213005094143&target_valence=0.7916463609513766:
 None, reason: None
2025-01-24 13:27:23,557 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Cpop&target_energy=0.8774972993617752&target_tempo=129.96213005094143&target_valence=0.7916463609513766

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Cpop&target_energy=0.8774972993617752&target_tempo=129.96213005094143&target_valence=0.7916463609513766:
 None, reason: None

2025-01-24 13:27:23,638 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:24,360 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '1uNFoZAHBGtllmzznpCI3s,06HL4z0CvFAxyc27GXpf02', 'seed_genres': 'dance,rock', 'target_energy': 0.7379713943552929, 'target_tempo': 125.93608893713443, 'target_valence': 0.8347696206292928} returned 404 due to None
2025-01-24 13:27:24,361 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Crock&target_energy=0.7379713943552929&target_tempo=125.93608893713443&target_valence=0.8347696206292928:
 None, reason: None
2025-01-24 13:27:24,362 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Crock&target_energy=0.7379713943552929&target_tempo=125.93608893713443&target_valence=0.8347696206292928

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Crock&target_energy=0.7379713943552929&target_tempo=125.93608893713443&target_valence=0.8347696206292928:
 None, reason: None

2025-01-24 13:27:38,554 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:39,296 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '06HL4z0CvFAxyc27GXpf02,6eUKZXaKkcviH0Ku9w2n3V', 'seed_genres': 'pop,dance', 'target_energy': 0.8917195142706603, 'target_tempo': 120.81528180984589, 'target_valence': 0.7707514834311546} returned 404 due to None
2025-01-24 13:27:39,297 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=pop%2Cdance&target_energy=0.8917195142706603&target_tempo=120.81528180984589&target_valence=0.7707514834311546:
 None, reason: None
2025-01-24 13:27:39,301 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=pop%2Cdance&target_energy=0.8917195142706603&target_tempo=120.81528180984589&target_valence=0.7707514834311546

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=pop%2Cdance&target_energy=0.8917195142706603&target_tempo=120.81528180984589&target_valence=0.7707514834311546:
 None, reason: None

2025-01-24 13:27:39,439 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:40,130 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '6eUKZXaKkcviH0Ku9w2n3V,06HL4z0CvFAxyc27GXpf02', 'seed_genres': 'dance,pop', 'target_energy': 0.7121753358666565, 'target_tempo': 129.5588487295532, 'target_valence': 0.8418944761488596} returned 404 due to None
2025-01-24 13:27:40,133 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Cpop&target_energy=0.7121753358666565&target_tempo=129.5588487295532&target_valence=0.8418944761488596:
 None, reason: None
2025-01-24 13:27:40,137 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Cpop&target_energy=0.7121753358666565&target_tempo=129.5588487295532&target_valence=0.8418944761488596

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Cpop&target_energy=0.7121753358666565&target_tempo=129.5588487295532&target_valence=0.8418944761488596:
 None, reason: None

2025-01-24 13:27:40,255 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:40,947 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '3TVXtAsR1Inumwj472S9r4,7dGJo4pcD2V6oG8kP0tJRR', 'seed_genres': 'rock,dance', 'target_energy': 0.7918222758353995, 'target_tempo': 130.50631029204658, 'target_valence': 0.7444260881918572} returned 404 due to None
2025-01-24 13:27:40,949 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=rock%2Cdance&target_energy=0.7918222758353995&target_tempo=130.50631029204658&target_valence=0.7444260881918572:
 None, reason: None
2025-01-24 13:27:40,953 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=rock%2Cdance&target_energy=0.7918222758353995&target_tempo=130.50631029204658&target_valence=0.7444260881918572

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=rock%2Cdance&target_energy=0.7918222758353995&target_tempo=130.50631029204658&target_valence=0.7444260881918572:
 None, reason: None

2025-01-24 13:27:41,063 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:41,747 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '3TVXtAsR1Inumwj472S9r4,6eUKZXaKkcviH0Ku9w2n3V', 'seed_genres': 'pop,dance', 'target_energy': 0.8271039152546578, 'target_tempo': 125.53601117345623, 'target_valence': 0.8679382142607972} returned 404 due to None
2025-01-24 13:27:41,748 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=pop%2Cdance&target_energy=0.8271039152546578&target_tempo=125.53601117345623&target_valence=0.8679382142607972:
 None, reason: None
2025-01-24 13:27:41,752 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=pop%2Cdance&target_energy=0.8271039152546578&target_tempo=125.53601117345623&target_valence=0.8679382142607972

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=pop%2Cdance&target_energy=0.8271039152546578&target_tempo=125.53601117345623&target_valence=0.8679382142607972:
 None, reason: None

2025-01-24 13:27:41,847 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:42,523 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '6eUKZXaKkcviH0Ku9w2n3V,3TVXtAsR1Inumwj472S9r4', 'seed_genres': 'pop,dance', 'target_energy': 0.8216902199877367, 'target_tempo': 128.46335845856848, 'target_valence': 0.849754895812402} returned 404 due to None
2025-01-24 13:27:42,525 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C3TVXtAsR1Inumwj472S9r4&seed_genres=pop%2Cdance&target_energy=0.8216902199877367&target_tempo=128.46335845856848&target_valence=0.849754895812402:
 None, reason: None
2025-01-24 13:27:42,529 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C3TVXtAsR1Inumwj472S9r4&seed_genres=pop%2Cdance&target_energy=0.8216902199877367&target_tempo=128.46335845856848&target_valence=0.849754895812402

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C3TVXtAsR1Inumwj472S9r4&seed_genres=pop%2Cdance&target_energy=0.8216902199877367&target_tempo=128.46335845856848&target_valence=0.849754895812402:
 None, reason: None

2025-01-24 13:27:42,641 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:43,286 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '1uNFoZAHBGtllmzznpCI3s,7dGJo4pcD2V6oG8kP0tJRR', 'seed_genres': 'pop,dance', 'target_energy': 0.7122092246407684, 'target_tempo': 121.78646703494535, 'target_valence': 0.8663043470644652} returned 404 due to None
2025-01-24 13:27:43,288 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=pop%2Cdance&target_energy=0.7122092246407684&target_tempo=121.78646703494535&target_valence=0.8663043470644652:
 None, reason: None
2025-01-24 13:27:43,292 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=pop%2Cdance&target_energy=0.7122092246407684&target_tempo=121.78646703494535&target_valence=0.8663043470644652

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=pop%2Cdance&target_energy=0.7122092246407684&target_tempo=121.78646703494535&target_valence=0.8663043470644652:
 None, reason: None

2025-01-24 13:27:43,432 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:44,106 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '7dGJo4pcD2V6oG8kP0tJRR,06HL4z0CvFAxyc27GXpf02', 'seed_genres': 'dance,rock', 'target_energy': 0.8549702821449608, 'target_tempo': 122.5008717444569, 'target_valence': 0.831496783716569} returned 404 due to None
2025-01-24 13:27:44,107 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Crock&target_energy=0.8549702821449608&target_tempo=122.5008717444569&target_valence=0.831496783716569:
 None, reason: None
2025-01-24 13:27:44,110 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Crock&target_energy=0.8549702821449608&target_tempo=122.5008717444569&target_valence=0.831496783716569

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Crock&target_energy=0.8549702821449608&target_tempo=122.5008717444569&target_valence=0.831496783716569:
 None, reason: None

2025-01-24 13:27:44,226 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:44,914 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '3TVXtAsR1Inumwj472S9r4,06HL4z0CvFAxyc27GXpf02', 'seed_genres': 'dance,rock', 'target_energy': 0.7809167473132044, 'target_tempo': 131.4359208417967, 'target_valence': 0.84419661150463} returned 404 due to None
2025-01-24 13:27:44,917 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Crock&target_energy=0.7809167473132044&target_tempo=131.4359208417967&target_valence=0.84419661150463:
 None, reason: None
2025-01-24 13:27:44,922 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Crock&target_energy=0.7809167473132044&target_tempo=131.4359208417967&target_valence=0.84419661150463

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Crock&target_energy=0.7809167473132044&target_tempo=131.4359208417967&target_valence=0.84419661150463:
 None, reason: None

2025-01-24 13:27:45,045 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:45,726 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '3TVXtAsR1Inumwj472S9r4,06HL4z0CvFAxyc27GXpf02', 'seed_genres': 'pop,rock', 'target_energy': 0.729009529076172, 'target_tempo': 138.64521079252427, 'target_valence': 0.7429477769587238} returned 404 due to None
2025-01-24 13:27:45,728 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C06HL4z0CvFAxyc27GXpf02&seed_genres=pop%2Crock&target_energy=0.729009529076172&target_tempo=138.64521079252427&target_valence=0.7429477769587238:
 None, reason: None
2025-01-24 13:27:45,731 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C06HL4z0CvFAxyc27GXpf02&seed_genres=pop%2Crock&target_energy=0.729009529076172&target_tempo=138.64521079252427&target_valence=0.7429477769587238

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C06HL4z0CvFAxyc27GXpf02&seed_genres=pop%2Crock&target_energy=0.729009529076172&target_tempo=138.64521079252427&target_valence=0.7429477769587238:
 None, reason: None

2025-01-24 13:27:45,839 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:46,504 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '6eUKZXaKkcviH0Ku9w2n3V,1uNFoZAHBGtllmzznpCI3s', 'seed_genres': 'pop,rock', 'target_energy': 0.8132593701834283, 'target_tempo': 125.72187400166447, 'target_valence': 0.821944006134916} returned 404 due to None
2025-01-24 13:27:46,506 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=pop%2Crock&target_energy=0.8132593701834283&target_tempo=125.72187400166447&target_valence=0.821944006134916:
 None, reason: None
2025-01-24 13:27:46,509 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=pop%2Crock&target_energy=0.8132593701834283&target_tempo=125.72187400166447&target_valence=0.821944006134916

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=pop%2Crock&target_energy=0.8132593701834283&target_tempo=125.72187400166447&target_valence=0.821944006134916:
 None, reason: None

2025-01-24 13:27:46,625 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:47,310 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '06HL4z0CvFAxyc27GXpf02,7dGJo4pcD2V6oG8kP0tJRR', 'seed_genres': 'rock,pop', 'target_energy': 0.8597845796451563, 'target_tempo': 125.73590107791536, 'target_valence': 0.8324680676802753} returned 404 due to None
2025-01-24 13:27:47,313 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=rock%2Cpop&target_energy=0.8597845796451563&target_tempo=125.73590107791536&target_valence=0.8324680676802753:
 None, reason: None
2025-01-24 13:27:47,316 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=rock%2Cpop&target_energy=0.8597845796451563&target_tempo=125.73590107791536&target_valence=0.8324680676802753

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=rock%2Cpop&target_energy=0.8597845796451563&target_tempo=125.73590107791536&target_valence=0.8324680676802753:
 None, reason: None

2025-01-24 13:27:47,432 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:48,141 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '6eUKZXaKkcviH0Ku9w2n3V,7dGJo4pcD2V6oG8kP0tJRR', 'seed_genres': 'rock,dance', 'target_energy': 0.7401023769957533, 'target_tempo': 134.34310691161153, 'target_valence': 0.7927412273156135} returned 404 due to None
2025-01-24 13:27:48,142 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=rock%2Cdance&target_energy=0.7401023769957533&target_tempo=134.34310691161153&target_valence=0.7927412273156135:
 None, reason: None
2025-01-24 13:27:48,146 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=rock%2Cdance&target_energy=0.7401023769957533&target_tempo=134.34310691161153&target_valence=0.7927412273156135

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=rock%2Cdance&target_energy=0.7401023769957533&target_tempo=134.34310691161153&target_valence=0.7927412273156135:
 None, reason: None

2025-01-24 13:27:48,212 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:49,076 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '06HL4z0CvFAxyc27GXpf02,7dGJo4pcD2V6oG8kP0tJRR', 'seed_genres': 'dance,pop', 'target_energy': 0.7749335395173551, 'target_tempo': 127.77108435817173, 'target_valence': 0.8892151543852109} returned 404 due to None
2025-01-24 13:27:49,078 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=dance%2Cpop&target_energy=0.7749335395173551&target_tempo=127.77108435817173&target_valence=0.8892151543852109:
 None, reason: None
2025-01-24 13:27:49,081 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=dance%2Cpop&target_energy=0.7749335395173551&target_tempo=127.77108435817173&target_valence=0.8892151543852109

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=dance%2Cpop&target_energy=0.7749335395173551&target_tempo=127.77108435817173&target_valence=0.8892151543852109:
 None, reason: None

2025-01-24 13:27:49,170 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:49,924 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '7dGJo4pcD2V6oG8kP0tJRR,1uNFoZAHBGtllmzznpCI3s', 'seed_genres': 'dance,pop', 'target_energy': 0.8434811940051287, 'target_tempo': 124.71666692181994, 'target_valence': 0.729598291640718} returned 404 due to None
2025-01-24 13:27:49,925 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=dance%2Cpop&target_energy=0.8434811940051287&target_tempo=124.71666692181994&target_valence=0.729598291640718:
 None, reason: None
2025-01-24 13:27:49,928 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=dance%2Cpop&target_energy=0.8434811940051287&target_tempo=124.71666692181994&target_valence=0.729598291640718

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=dance%2Cpop&target_energy=0.8434811940051287&target_tempo=124.71666692181994&target_valence=0.729598291640718:
 None, reason: None

2025-01-24 13:27:50,043 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:50,729 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '3TVXtAsR1Inumwj472S9r4,1uNFoZAHBGtllmzznpCI3s', 'seed_genres': 'dance,rock', 'target_energy': 0.7535579707467958, 'target_tempo': 123.8839020080906, 'target_valence': 0.701989633519644} returned 404 due to None
2025-01-24 13:27:50,730 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=dance%2Crock&target_energy=0.7535579707467958&target_tempo=123.8839020080906&target_valence=0.701989633519644:
 None, reason: None
2025-01-24 13:27:50,731 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=dance%2Crock&target_energy=0.7535579707467958&target_tempo=123.8839020080906&target_valence=0.701989633519644

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=dance%2Crock&target_energy=0.7535579707467958&target_tempo=123.8839020080906&target_valence=0.701989633519644:
 None, reason: None

2025-01-24 13:27:50,822 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:51,506 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '6eUKZXaKkcviH0Ku9w2n3V,06HL4z0CvFAxyc27GXpf02', 'seed_genres': 'pop,dance', 'target_energy': 0.7129327932434012, 'target_tempo': 134.98001095865862, 'target_valence': 0.7918873912629258} returned 404 due to None
2025-01-24 13:27:51,508 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C06HL4z0CvFAxyc27GXpf02&seed_genres=pop%2Cdance&target_energy=0.7129327932434012&target_tempo=134.98001095865862&target_valence=0.7918873912629258:
 None, reason: None
2025-01-24 13:27:51,511 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C06HL4z0CvFAxyc27GXpf02&seed_genres=pop%2Cdance&target_energy=0.7129327932434012&target_tempo=134.98001095865862&target_valence=0.7918873912629258

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C06HL4z0CvFAxyc27GXpf02&seed_genres=pop%2Cdance&target_energy=0.7129327932434012&target_tempo=134.98001095865862&target_valence=0.7918873912629258:
 None, reason: None

2025-01-24 13:27:51,632 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:52,325 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '3TVXtAsR1Inumwj472S9r4,6eUKZXaKkcviH0Ku9w2n3V', 'seed_genres': 'rock,dance', 'target_energy': 0.8139056237917469, 'target_tempo': 125.52965628924343, 'target_valence': 0.8696183159900418} returned 404 due to None
2025-01-24 13:27:52,326 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=rock%2Cdance&target_energy=0.8139056237917469&target_tempo=125.52965628924343&target_valence=0.8696183159900418:
 None, reason: None
2025-01-24 13:27:52,330 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=rock%2Cdance&target_energy=0.8139056237917469&target_tempo=125.52965628924343&target_valence=0.8696183159900418

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=rock%2Cdance&target_energy=0.8139056237917469&target_tempo=125.52965628924343&target_valence=0.8696183159900418:
 None, reason: None

2025-01-24 13:27:52,477 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:53,141 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '1uNFoZAHBGtllmzznpCI3s,7dGJo4pcD2V6oG8kP0tJRR', 'seed_genres': 'pop,dance', 'target_energy': 0.8316941104801612, 'target_tempo': 122.39988590343778, 'target_valence': 0.7116854588608742} returned 404 due to None
2025-01-24 13:27:53,143 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=pop%2Cdance&target_energy=0.8316941104801612&target_tempo=122.39988590343778&target_valence=0.7116854588608742:
 None, reason: None
2025-01-24 13:27:53,147 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=pop%2Cdance&target_energy=0.8316941104801612&target_tempo=122.39988590343778&target_valence=0.7116854588608742

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=pop%2Cdance&target_energy=0.8316941104801612&target_tempo=122.39988590343778&target_valence=0.7116854588608742:
 None, reason: None

2025-01-24 13:27:53,291 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:53,791 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '7dGJo4pcD2V6oG8kP0tJRR,1uNFoZAHBGtllmzznpCI3s', 'seed_genres': 'dance,rock', 'target_energy': 0.8077991877600584, 'target_tempo': 131.20785849541338, 'target_valence': 0.8525842448884827} returned 404 due to None
2025-01-24 13:27:53,792 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=dance%2Crock&target_energy=0.8077991877600584&target_tempo=131.20785849541338&target_valence=0.8525842448884827:
 None, reason: None
2025-01-24 13:27:53,795 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=dance%2Crock&target_energy=0.8077991877600584&target_tempo=131.20785849541338&target_valence=0.8525842448884827

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=dance%2Crock&target_energy=0.8077991877600584&target_tempo=131.20785849541338&target_valence=0.8525842448884827:
 None, reason: None

2025-01-24 13:27:53,909 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:54,404 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '7dGJo4pcD2V6oG8kP0tJRR,06HL4z0CvFAxyc27GXpf02', 'seed_genres': 'dance,rock', 'target_energy': 0.8289942879005272, 'target_tempo': 122.34598073812751, 'target_valence': 0.8327947490772728} returned 404 due to None
2025-01-24 13:27:54,404 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Crock&target_energy=0.8289942879005272&target_tempo=122.34598073812751&target_valence=0.8327947490772728:
 None, reason: None
2025-01-24 13:27:54,407 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Crock&target_energy=0.8289942879005272&target_tempo=122.34598073812751&target_valence=0.8327947490772728

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Crock&target_energy=0.8289942879005272&target_tempo=122.34598073812751&target_valence=0.8327947490772728:
 None, reason: None

2025-01-24 13:27:54,449 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:54,941 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '6eUKZXaKkcviH0Ku9w2n3V,1uNFoZAHBGtllmzznpCI3s', 'seed_genres': 'rock,dance', 'target_energy': 0.7625499434897313, 'target_tempo': 123.06912794929448, 'target_valence': 0.8499031918118464} returned 404 due to None
2025-01-24 13:27:54,941 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=rock%2Cdance&target_energy=0.7625499434897313&target_tempo=123.06912794929448&target_valence=0.8499031918118464:
 None, reason: None
2025-01-24 13:27:54,944 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=rock%2Cdance&target_energy=0.7625499434897313&target_tempo=123.06912794929448&target_valence=0.8499031918118464

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=rock%2Cdance&target_energy=0.7625499434897313&target_tempo=123.06912794929448&target_valence=0.8499031918118464:
 None, reason: None

2025-01-24 13:27:54,997 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:55,512 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '3TVXtAsR1Inumwj472S9r4,6eUKZXaKkcviH0Ku9w2n3V', 'seed_genres': 'pop,rock', 'target_energy': 0.8962175388425137, 'target_tempo': 132.78430421876487, 'target_valence': 0.7034388028514085} returned 404 due to None
2025-01-24 13:27:55,512 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=pop%2Crock&target_energy=0.8962175388425137&target_tempo=132.78430421876487&target_valence=0.7034388028514085:
 None, reason: None
2025-01-24 13:27:55,514 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=pop%2Crock&target_energy=0.8962175388425137&target_tempo=132.78430421876487&target_valence=0.7034388028514085

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=pop%2Crock&target_energy=0.8962175388425137&target_tempo=132.78430421876487&target_valence=0.7034388028514085:
 None, reason: None

2025-01-24 13:27:55,559 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:56,044 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '6eUKZXaKkcviH0Ku9w2n3V,3TVXtAsR1Inumwj472S9r4', 'seed_genres': 'rock,dance', 'target_energy': 0.7191446680866754, 'target_tempo': 129.75112832584819, 'target_valence': 0.8586120859354611} returned 404 due to None
2025-01-24 13:27:56,045 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C3TVXtAsR1Inumwj472S9r4&seed_genres=rock%2Cdance&target_energy=0.7191446680866754&target_tempo=129.75112832584819&target_valence=0.8586120859354611:
 None, reason: None
2025-01-24 13:27:56,045 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C3TVXtAsR1Inumwj472S9r4&seed_genres=rock%2Cdance&target_energy=0.7191446680866754&target_tempo=129.75112832584819&target_valence=0.8586120859354611

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C3TVXtAsR1Inumwj472S9r4&seed_genres=rock%2Cdance&target_energy=0.7191446680866754&target_tempo=129.75112832584819&target_valence=0.8586120859354611:
 None, reason: None

2025-01-24 13:27:56,101 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:56,593 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '1uNFoZAHBGtllmzznpCI3s,06HL4z0CvFAxyc27GXpf02', 'seed_genres': 'rock,pop', 'target_energy': 0.7790875160480614, 'target_tempo': 137.0727208413664, 'target_valence': 0.7408357689142256} returned 404 due to None
2025-01-24 13:27:56,594 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C06HL4z0CvFAxyc27GXpf02&seed_genres=rock%2Cpop&target_energy=0.7790875160480614&target_tempo=137.0727208413664&target_valence=0.7408357689142256:
 None, reason: None
2025-01-24 13:27:56,595 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C06HL4z0CvFAxyc27GXpf02&seed_genres=rock%2Cpop&target_energy=0.7790875160480614&target_tempo=137.0727208413664&target_valence=0.7408357689142256

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C06HL4z0CvFAxyc27GXpf02&seed_genres=rock%2Cpop&target_energy=0.7790875160480614&target_tempo=137.0727208413664&target_valence=0.7408357689142256:
 None, reason: None

2025-01-24 13:27:56,650 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:57,134 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '6eUKZXaKkcviH0Ku9w2n3V,3TVXtAsR1Inumwj472S9r4', 'seed_genres': 'dance,rock', 'target_energy': 0.8273966158188968, 'target_tempo': 130.64871757611652, 'target_valence': 0.8285109623502847} returned 404 due to None
2025-01-24 13:27:57,135 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C3TVXtAsR1Inumwj472S9r4&seed_genres=dance%2Crock&target_energy=0.8273966158188968&target_tempo=130.64871757611652&target_valence=0.8285109623502847:
 None, reason: None
2025-01-24 13:27:57,135 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C3TVXtAsR1Inumwj472S9r4&seed_genres=dance%2Crock&target_energy=0.8273966158188968&target_tempo=130.64871757611652&target_valence=0.8285109623502847

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C3TVXtAsR1Inumwj472S9r4&seed_genres=dance%2Crock&target_energy=0.8273966158188968&target_tempo=130.64871757611652&target_valence=0.8285109623502847:
 None, reason: None

2025-01-24 13:27:57,182 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:57,696 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '06HL4z0CvFAxyc27GXpf02,3TVXtAsR1Inumwj472S9r4', 'seed_genres': 'dance,rock', 'target_energy': 0.7344949960228686, 'target_tempo': 120.72050968541465, 'target_valence': 0.7841198312432329} returned 404 due to None
2025-01-24 13:27:57,698 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C3TVXtAsR1Inumwj472S9r4&seed_genres=dance%2Crock&target_energy=0.7344949960228686&target_tempo=120.72050968541465&target_valence=0.7841198312432329:
 None, reason: None
2025-01-24 13:27:57,701 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C3TVXtAsR1Inumwj472S9r4&seed_genres=dance%2Crock&target_energy=0.7344949960228686&target_tempo=120.72050968541465&target_valence=0.7841198312432329

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C3TVXtAsR1Inumwj472S9r4&seed_genres=dance%2Crock&target_energy=0.7344949960228686&target_tempo=120.72050968541465&target_valence=0.7841198312432329:
 None, reason: None

2025-01-24 13:27:57,808 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:58,357 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '3TVXtAsR1Inumwj472S9r4,7dGJo4pcD2V6oG8kP0tJRR', 'seed_genres': 'rock,pop', 'target_energy': 0.8405009736442707, 'target_tempo': 121.45663054509535, 'target_valence': 0.7192513780790444} returned 404 due to None
2025-01-24 13:27:58,358 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=rock%2Cpop&target_energy=0.8405009736442707&target_tempo=121.45663054509535&target_valence=0.7192513780790444:
 None, reason: None
2025-01-24 13:27:58,362 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=rock%2Cpop&target_energy=0.8405009736442707&target_tempo=121.45663054509535&target_valence=0.7192513780790444

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=rock%2Cpop&target_energy=0.8405009736442707&target_tempo=121.45663054509535&target_valence=0.7192513780790444:
 None, reason: None

2025-01-24 13:27:58,463 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:58,969 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '6eUKZXaKkcviH0Ku9w2n3V,06HL4z0CvFAxyc27GXpf02', 'seed_genres': 'pop,dance', 'target_energy': 0.7790473632703745, 'target_tempo': 127.10654996966718, 'target_valence': 0.8092888636304341} returned 404 due to None
2025-01-24 13:27:58,969 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C06HL4z0CvFAxyc27GXpf02&seed_genres=pop%2Cdance&target_energy=0.7790473632703745&target_tempo=127.10654996966718&target_valence=0.8092888636304341:
 None, reason: None
2025-01-24 13:27:58,970 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C06HL4z0CvFAxyc27GXpf02&seed_genres=pop%2Cdance&target_energy=0.7790473632703745&target_tempo=127.10654996966718&target_valence=0.8092888636304341

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C06HL4z0CvFAxyc27GXpf02&seed_genres=pop%2Cdance&target_energy=0.7790473632703745&target_tempo=127.10654996966718&target_valence=0.8092888636304341:
 None, reason: None

2025-01-24 13:27:59,040 - INFO - Language 'english' matched exactly: english
2025-01-24 13:27:59,508 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '1uNFoZAHBGtllmzznpCI3s,06HL4z0CvFAxyc27GXpf02', 'seed_genres': 'dance,rock', 'target_energy': 0.859827698499566, 'target_tempo': 130.76639467943787, 'target_valence': 0.8777560122773751} returned 404 due to None
2025-01-24 13:27:59,508 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Crock&target_energy=0.859827698499566&target_tempo=130.76639467943787&target_valence=0.8777560122773751:
 None, reason: None
2025-01-24 13:27:59,509 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Crock&target_energy=0.859827698499566&target_tempo=130.76639467943787&target_valence=0.8777560122773751

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Crock&target_energy=0.859827698499566&target_tempo=130.76639467943787&target_valence=0.8777560122773751:
 None, reason: None

2025-01-24 13:27:59,580 - INFO - Language 'english' matched exactly: english
2025-01-24 13:28:00,047 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '7dGJo4pcD2V6oG8kP0tJRR,3TVXtAsR1Inumwj472S9r4', 'seed_genres': 'rock,pop', 'target_energy': 0.7263768902999281, 'target_tempo': 129.51355245434695, 'target_valence': 0.8931641214569257} returned 404 due to None
2025-01-24 13:28:00,048 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C3TVXtAsR1Inumwj472S9r4&seed_genres=rock%2Cpop&target_energy=0.7263768902999281&target_tempo=129.51355245434695&target_valence=0.8931641214569257:
 None, reason: None
2025-01-24 13:28:00,049 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C3TVXtAsR1Inumwj472S9r4&seed_genres=rock%2Cpop&target_energy=0.7263768902999281&target_tempo=129.51355245434695&target_valence=0.8931641214569257

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C3TVXtAsR1Inumwj472S9r4&seed_genres=rock%2Cpop&target_energy=0.7263768902999281&target_tempo=129.51355245434695&target_valence=0.8931641214569257:
 None, reason: None

2025-01-24 13:28:00,096 - INFO - Language 'english' matched exactly: english
2025-01-24 13:28:00,560 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '7dGJo4pcD2V6oG8kP0tJRR,06HL4z0CvFAxyc27GXpf02', 'seed_genres': 'dance,rock', 'target_energy': 0.7185453327679704, 'target_tempo': 129.51493782719774, 'target_valence': 0.7397635838377927} returned 404 due to None
2025-01-24 13:28:00,561 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Crock&target_energy=0.7185453327679704&target_tempo=129.51493782719774&target_valence=0.7397635838377927:
 None, reason: None
2025-01-24 13:28:00,564 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Crock&target_energy=0.7185453327679704&target_tempo=129.51493782719774&target_valence=0.7397635838377927

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Crock&target_energy=0.7185453327679704&target_tempo=129.51493782719774&target_valence=0.7397635838377927:
 None, reason: None

2025-01-24 13:28:00,637 - INFO - Language 'english' matched exactly: english
2025-01-24 13:28:01,142 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '06HL4z0CvFAxyc27GXpf02,6eUKZXaKkcviH0Ku9w2n3V', 'seed_genres': 'dance,rock', 'target_energy': 0.7456422894044761, 'target_tempo': 122.45315627449634, 'target_valence': 0.7735419435045875} returned 404 due to None
2025-01-24 13:28:01,143 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=dance%2Crock&target_energy=0.7456422894044761&target_tempo=122.45315627449634&target_valence=0.7735419435045875:
 None, reason: None
2025-01-24 13:28:01,145 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=dance%2Crock&target_energy=0.7456422894044761&target_tempo=122.45315627449634&target_valence=0.7735419435045875

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=dance%2Crock&target_energy=0.7456422894044761&target_tempo=122.45315627449634&target_valence=0.7735419435045875:
 None, reason: None

2025-01-24 13:28:01,212 - INFO - Language 'english' matched exactly: english
2025-01-24 13:28:01,716 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '7dGJo4pcD2V6oG8kP0tJRR,06HL4z0CvFAxyc27GXpf02', 'seed_genres': 'dance,pop', 'target_energy': 0.815801940586712, 'target_tempo': 132.3962291815698, 'target_valence': 0.7298069382424486} returned 404 due to None
2025-01-24 13:28:01,717 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Cpop&target_energy=0.815801940586712&target_tempo=132.3962291815698&target_valence=0.7298069382424486:
 None, reason: None
2025-01-24 13:28:01,718 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Cpop&target_energy=0.815801940586712&target_tempo=132.3962291815698&target_valence=0.7298069382424486

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Cpop&target_energy=0.815801940586712&target_tempo=132.3962291815698&target_valence=0.7298069382424486:
 None, reason: None

2025-01-24 13:28:01,760 - INFO - Language 'english' matched exactly: english
2025-01-24 13:28:02,263 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '6eUKZXaKkcviH0Ku9w2n3V,06HL4z0CvFAxyc27GXpf02', 'seed_genres': 'rock,pop', 'target_energy': 0.8603581750493136, 'target_tempo': 131.18281572736575, 'target_valence': 0.7166545293626521} returned 404 due to None
2025-01-24 13:28:02,264 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C06HL4z0CvFAxyc27GXpf02&seed_genres=rock%2Cpop&target_energy=0.8603581750493136&target_tempo=131.18281572736575&target_valence=0.7166545293626521:
 None, reason: None
2025-01-24 13:28:02,266 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C06HL4z0CvFAxyc27GXpf02&seed_genres=rock%2Cpop&target_energy=0.8603581750493136&target_tempo=131.18281572736575&target_valence=0.7166545293626521

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C06HL4z0CvFAxyc27GXpf02&seed_genres=rock%2Cpop&target_energy=0.8603581750493136&target_tempo=131.18281572736575&target_valence=0.7166545293626521:
 None, reason: None

2025-01-24 13:28:02,305 - INFO - Language 'english' matched exactly: english
2025-01-24 13:28:02,829 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '3TVXtAsR1Inumwj472S9r4,7dGJo4pcD2V6oG8kP0tJRR', 'seed_genres': 'rock,pop', 'target_energy': 0.8366526398501878, 'target_tempo': 134.8277184013062, 'target_valence': 0.7881607357156829} returned 404 due to None
2025-01-24 13:28:02,830 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=rock%2Cpop&target_energy=0.8366526398501878&target_tempo=134.8277184013062&target_valence=0.7881607357156829:
 None, reason: None
2025-01-24 13:28:02,834 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=rock%2Cpop&target_energy=0.8366526398501878&target_tempo=134.8277184013062&target_valence=0.7881607357156829

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=rock%2Cpop&target_energy=0.8366526398501878&target_tempo=134.8277184013062&target_valence=0.7881607357156829:
 None, reason: None

2025-01-24 13:28:02,932 - INFO - Language 'english' matched exactly: english
2025-01-24 13:28:03,431 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '6eUKZXaKkcviH0Ku9w2n3V,06HL4z0CvFAxyc27GXpf02', 'seed_genres': 'pop,dance', 'target_energy': 0.8600127472299132, 'target_tempo': 136.87832543648398, 'target_valence': 0.8337653182685738} returned 404 due to None
2025-01-24 13:28:03,433 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C06HL4z0CvFAxyc27GXpf02&seed_genres=pop%2Cdance&target_energy=0.8600127472299132&target_tempo=136.87832543648398&target_valence=0.8337653182685738:
 None, reason: None
2025-01-24 13:28:03,436 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C06HL4z0CvFAxyc27GXpf02&seed_genres=pop%2Cdance&target_energy=0.8600127472299132&target_tempo=136.87832543648398&target_valence=0.8337653182685738

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C06HL4z0CvFAxyc27GXpf02&seed_genres=pop%2Cdance&target_energy=0.8600127472299132&target_tempo=136.87832543648398&target_valence=0.8337653182685738:
 None, reason: None

2025-01-24 13:28:03,531 - INFO - Language 'english' matched exactly: english
2025-01-24 13:28:04,004 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '1uNFoZAHBGtllmzznpCI3s,6eUKZXaKkcviH0Ku9w2n3V', 'seed_genres': 'dance,rock', 'target_energy': 0.7303651781827301, 'target_tempo': 137.3640742223119, 'target_valence': 0.8709855040722532} returned 404 due to None
2025-01-24 13:28:04,006 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=dance%2Crock&target_energy=0.7303651781827301&target_tempo=137.3640742223119&target_valence=0.8709855040722532:
 None, reason: None
2025-01-24 13:28:04,009 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=dance%2Crock&target_energy=0.7303651781827301&target_tempo=137.3640742223119&target_valence=0.8709855040722532

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=dance%2Crock&target_energy=0.7303651781827301&target_tempo=137.3640742223119&target_valence=0.8709855040722532:
 None, reason: None

2025-01-24 13:28:04,085 - INFO - Language 'english' matched exactly: english
2025-01-24 13:28:04,580 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '6eUKZXaKkcviH0Ku9w2n3V,3TVXtAsR1Inumwj472S9r4', 'seed_genres': 'dance,pop', 'target_energy': 0.7177361473049753, 'target_tempo': 122.72112050485224, 'target_valence': 0.8590128736070672} returned 404 due to None
2025-01-24 13:28:04,581 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C3TVXtAsR1Inumwj472S9r4&seed_genres=dance%2Cpop&target_energy=0.7177361473049753&target_tempo=122.72112050485224&target_valence=0.8590128736070672:
 None, reason: None
2025-01-24 13:28:04,585 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C3TVXtAsR1Inumwj472S9r4&seed_genres=dance%2Cpop&target_energy=0.7177361473049753&target_tempo=122.72112050485224&target_valence=0.8590128736070672

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C3TVXtAsR1Inumwj472S9r4&seed_genres=dance%2Cpop&target_energy=0.7177361473049753&target_tempo=122.72112050485224&target_valence=0.8590128736070672:
 None, reason: None

2025-01-24 13:28:04,679 - INFO - Language 'english' matched exactly: english
2025-01-24 13:28:05,163 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '3TVXtAsR1Inumwj472S9r4,6eUKZXaKkcviH0Ku9w2n3V', 'seed_genres': 'dance,pop', 'target_energy': 0.7226900022480509, 'target_tempo': 128.2899751217023, 'target_valence': 0.880057224001771} returned 404 due to None
2025-01-24 13:28:05,165 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=dance%2Cpop&target_energy=0.7226900022480509&target_tempo=128.2899751217023&target_valence=0.880057224001771:
 None, reason: None
2025-01-24 13:28:05,169 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=dance%2Cpop&target_energy=0.7226900022480509&target_tempo=128.2899751217023&target_valence=0.880057224001771

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=dance%2Cpop&target_energy=0.7226900022480509&target_tempo=128.2899751217023&target_valence=0.880057224001771:
 None, reason: None

2025-01-24 13:28:05,255 - INFO - Language 'english' matched exactly: english
2025-01-24 13:28:05,759 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '06HL4z0CvFAxyc27GXpf02,1uNFoZAHBGtllmzznpCI3s', 'seed_genres': 'rock,pop', 'target_energy': 0.7460619725576809, 'target_tempo': 128.9431920738136, 'target_valence': 0.815032911771598} returned 404 due to None
2025-01-24 13:28:05,760 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=rock%2Cpop&target_energy=0.7460619725576809&target_tempo=128.9431920738136&target_valence=0.815032911771598:
 None, reason: None
2025-01-24 13:28:05,761 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=rock%2Cpop&target_energy=0.7460619725576809&target_tempo=128.9431920738136&target_valence=0.815032911771598

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=rock%2Cpop&target_energy=0.7460619725576809&target_tempo=128.9431920738136&target_valence=0.815032911771598:
 None, reason: None

2025-01-24 13:28:05,820 - INFO - Language 'english' matched exactly: english
2025-01-24 13:28:06,274 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '3TVXtAsR1Inumwj472S9r4,06HL4z0CvFAxyc27GXpf02', 'seed_genres': 'pop,dance', 'target_energy': 0.8100389257174527, 'target_tempo': 122.77549259912115, 'target_valence': 0.8229823635731548} returned 404 due to None
2025-01-24 13:28:06,275 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C06HL4z0CvFAxyc27GXpf02&seed_genres=pop%2Cdance&target_energy=0.8100389257174527&target_tempo=122.77549259912115&target_valence=0.8229823635731548:
 None, reason: None
2025-01-24 13:28:06,276 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C06HL4z0CvFAxyc27GXpf02&seed_genres=pop%2Cdance&target_energy=0.8100389257174527&target_tempo=122.77549259912115&target_valence=0.8229823635731548

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=3TVXtAsR1Inumwj472S9r4%2C06HL4z0CvFAxyc27GXpf02&seed_genres=pop%2Cdance&target_energy=0.8100389257174527&target_tempo=122.77549259912115&target_valence=0.8229823635731548:
 None, reason: None

2025-01-24 13:28:06,316 - INFO - Language 'english' matched exactly: english
2025-01-24 13:28:06,802 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '6eUKZXaKkcviH0Ku9w2n3V,7dGJo4pcD2V6oG8kP0tJRR', 'seed_genres': 'pop,dance', 'target_energy': 0.7129443197425426, 'target_tempo': 135.95824885972675, 'target_valence': 0.8954267472847387} returned 404 due to None
2025-01-24 13:28:06,802 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=pop%2Cdance&target_energy=0.7129443197425426&target_tempo=135.95824885972675&target_valence=0.8954267472847387:
 None, reason: None
2025-01-24 13:28:06,804 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=pop%2Cdance&target_energy=0.7129443197425426&target_tempo=135.95824885972675&target_valence=0.8954267472847387

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=6eUKZXaKkcviH0Ku9w2n3V%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=pop%2Cdance&target_energy=0.7129443197425426&target_tempo=135.95824885972675&target_valence=0.8954267472847387:
 None, reason: None

2025-01-24 13:28:06,849 - INFO - Language 'english' matched exactly: english
2025-01-24 13:28:07,313 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '06HL4z0CvFAxyc27GXpf02,7dGJo4pcD2V6oG8kP0tJRR', 'seed_genres': 'rock,pop', 'target_energy': 0.859714089047313, 'target_tempo': 121.01910087163202, 'target_valence': 0.8379420093909029} returned 404 due to None
2025-01-24 13:28:07,314 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=rock%2Cpop&target_energy=0.859714089047313&target_tempo=121.01910087163202&target_valence=0.8379420093909029:
 None, reason: None
2025-01-24 13:28:07,315 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=rock%2Cpop&target_energy=0.859714089047313&target_tempo=121.01910087163202&target_valence=0.8379420093909029

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=rock%2Cpop&target_energy=0.859714089047313&target_tempo=121.01910087163202&target_valence=0.8379420093909029:
 None, reason: None

2025-01-24 13:28:07,354 - INFO - Language 'english' matched exactly: english
2025-01-24 13:28:07,886 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '1uNFoZAHBGtllmzznpCI3s,3TVXtAsR1Inumwj472S9r4', 'seed_genres': 'dance,pop', 'target_energy': 0.7477076572470026, 'target_tempo': 122.84061760641082, 'target_valence': 0.7643420425540008} returned 404 due to None
2025-01-24 13:28:07,887 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C3TVXtAsR1Inumwj472S9r4&seed_genres=dance%2Cpop&target_energy=0.7477076572470026&target_tempo=122.84061760641082&target_valence=0.7643420425540008:
 None, reason: None
2025-01-24 13:28:07,887 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C3TVXtAsR1Inumwj472S9r4&seed_genres=dance%2Cpop&target_energy=0.7477076572470026&target_tempo=122.84061760641082&target_valence=0.7643420425540008

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C3TVXtAsR1Inumwj472S9r4&seed_genres=dance%2Cpop&target_energy=0.7477076572470026&target_tempo=122.84061760641082&target_valence=0.7643420425540008:
 None, reason: None

2025-01-24 13:28:07,932 - INFO - Language 'english' matched exactly: english
2025-01-24 13:28:08,453 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '06HL4z0CvFAxyc27GXpf02,1uNFoZAHBGtllmzznpCI3s', 'seed_genres': 'pop,rock', 'target_energy': 0.8661938958484267, 'target_tempo': 124.84968839047437, 'target_valence': 0.788258155853054} returned 404 due to None
2025-01-24 13:28:08,455 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=pop%2Crock&target_energy=0.8661938958484267&target_tempo=124.84968839047437&target_valence=0.788258155853054:
 None, reason: None
2025-01-24 13:28:08,458 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=pop%2Crock&target_energy=0.8661938958484267&target_tempo=124.84968839047437&target_valence=0.788258155853054

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=pop%2Crock&target_energy=0.8661938958484267&target_tempo=124.84968839047437&target_valence=0.788258155853054:
 None, reason: None

2025-01-24 13:28:08,548 - INFO - Language 'english' matched exactly: english
2025-01-24 13:28:09,034 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '7dGJo4pcD2V6oG8kP0tJRR,06HL4z0CvFAxyc27GXpf02', 'seed_genres': 'dance,rock', 'target_energy': 0.7929893286425926, 'target_tempo': 135.76975790645926, 'target_valence': 0.7349501953955837} returned 404 due to None
2025-01-24 13:28:09,036 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Crock&target_energy=0.7929893286425926&target_tempo=135.76975790645926&target_valence=0.7349501953955837:
 None, reason: None
2025-01-24 13:28:09,041 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Crock&target_energy=0.7929893286425926&target_tempo=135.76975790645926&target_valence=0.7349501953955837

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C06HL4z0CvFAxyc27GXpf02&seed_genres=dance%2Crock&target_energy=0.7929893286425926&target_tempo=135.76975790645926&target_valence=0.7349501953955837:
 None, reason: None

2025-01-24 13:28:09,148 - INFO - Language 'english' matched exactly: english
2025-01-24 13:28:09,623 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '1uNFoZAHBGtllmzznpCI3s,7dGJo4pcD2V6oG8kP0tJRR', 'seed_genres': 'pop,rock', 'target_energy': 0.8294635638098904, 'target_tempo': 124.07362917154326, 'target_valence': 0.8312263625081424} returned 404 due to None
2025-01-24 13:28:09,625 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=pop%2Crock&target_energy=0.8294635638098904&target_tempo=124.07362917154326&target_valence=0.8312263625081424:
 None, reason: None
2025-01-24 13:28:09,629 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=pop%2Crock&target_energy=0.8294635638098904&target_tempo=124.07362917154326&target_valence=0.8312263625081424

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1uNFoZAHBGtllmzznpCI3s%2C7dGJo4pcD2V6oG8kP0tJRR&seed_genres=pop%2Crock&target_energy=0.8294635638098904&target_tempo=124.07362917154326&target_valence=0.8312263625081424:
 None, reason: None

2025-01-24 13:28:09,711 - INFO - Language 'english' matched exactly: english
2025-01-24 13:28:10,185 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '7dGJo4pcD2V6oG8kP0tJRR,1uNFoZAHBGtllmzznpCI3s', 'seed_genres': 'rock,pop', 'target_energy': 0.7723110983032839, 'target_tempo': 124.55719929486979, 'target_valence': 0.8574064985301416} returned 404 due to None
2025-01-24 13:28:10,190 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=rock%2Cpop&target_energy=0.7723110983032839&target_tempo=124.55719929486979&target_valence=0.8574064985301416:
 None, reason: None
2025-01-24 13:28:10,190 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=rock%2Cpop&target_energy=0.7723110983032839&target_tempo=124.55719929486979&target_valence=0.8574064985301416

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=7dGJo4pcD2V6oG8kP0tJRR%2C1uNFoZAHBGtllmzznpCI3s&seed_genres=rock%2Cpop&target_energy=0.7723110983032839&target_tempo=124.55719929486979&target_valence=0.8574064985301416:
 None, reason: None

2025-01-24 13:28:10,247 - INFO - Language 'english' matched exactly: english
2025-01-24 13:28:10,734 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/recommendations with Params: {'limit': 10, 'seed_artists': '06HL4z0CvFAxyc27GXpf02,6eUKZXaKkcviH0Ku9w2n3V', 'seed_genres': 'rock,pop', 'target_energy': 0.7550804774321737, 'target_tempo': 127.48106508617582, 'target_valence': 0.8640073420133282} returned 404 due to None
2025-01-24 13:28:10,736 - ERROR - Error getting recommendations from Spotify: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=rock%2Cpop&target_energy=0.7550804774321737&target_tempo=127.48106508617582&target_valence=0.8640073420133282:
 None, reason: None
2025-01-24 13:28:10,738 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=rock%2Cpop&target_energy=0.7550804774321737&target_tempo=127.48106508617582&target_valence=0.8640073420133282

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 461, in fetch_random_tracks
    tracks = await get_recommendations(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 411, in get_recommendations
    recommendations = spotify.recommendations(**params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1728, in recommendations
    return self._get("recommendations", **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 404, code:-1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=06HL4z0CvFAxyc27GXpf02%2C6eUKZXaKkcviH0Ku9w2n3V&seed_genres=rock%2Cpop&target_energy=0.7550804774321737&target_tempo=127.48106508617582&target_valence=0.8640073420133282:
 None, reason: None

2025-01-24 14:24:00,372 - INFO - Initializing Spotify client...
2025-01-24 14:24:01,182 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:01,184 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:01,185 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:01,186 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:01,191 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:01,197 - INFO - Initializing Spotify client...
2025-01-24 14:24:03,085 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:03,086 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:03,087 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:03,089 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:03,094 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:03,217 - INFO - Initializing Spotify client...
2025-01-24 14:24:04,312 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:04,313 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:04,314 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:04,314 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:04,317 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:04,325 - INFO - Initializing Spotify client...
2025-01-24 14:24:05,084 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:05,084 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:05,086 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:05,086 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:05,087 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:05,172 - INFO - Initializing Spotify client...
2025-01-24 14:24:05,869 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:05,870 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:05,872 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:05,873 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:05,878 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:05,891 - INFO - Initializing Spotify client...
2025-01-24 14:24:06,620 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:06,621 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:06,623 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:06,624 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:06,628 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:06,740 - INFO - Initializing Spotify client...
2025-01-24 14:24:07,411 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:07,414 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:07,415 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:07,415 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:07,419 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:07,432 - INFO - Initializing Spotify client...
2025-01-24 14:24:08,130 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:08,131 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:08,133 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:08,134 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:08,138 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:08,245 - INFO - Initializing Spotify client...
2025-01-24 14:24:08,929 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:08,930 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:08,932 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:08,933 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:08,937 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:08,952 - INFO - Initializing Spotify client...
2025-01-24 14:24:09,619 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:09,622 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:09,622 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:09,624 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:09,631 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:09,747 - INFO - Initializing Spotify client...
2025-01-24 14:24:10,438 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:10,440 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:10,440 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:10,441 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:10,443 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:10,447 - INFO - Initializing Spotify client...
2025-01-24 14:24:11,082 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:11,085 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:11,085 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:11,087 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:11,092 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:11,200 - INFO - Initializing Spotify client...
2025-01-24 14:24:11,897 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:11,898 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:11,899 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:11,900 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:11,905 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:11,919 - INFO - Initializing Spotify client...
2025-01-24 14:24:12,664 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:12,665 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:12,667 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:12,667 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:12,671 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:12,800 - INFO - Initializing Spotify client...
2025-01-24 14:24:13,486 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:13,486 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:13,489 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:13,490 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:13,494 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:13,505 - INFO - Initializing Spotify client...
2025-01-24 14:24:14,181 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:14,182 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:14,184 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:14,184 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:14,188 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:14,300 - INFO - Initializing Spotify client...
2025-01-24 14:24:14,980 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:14,982 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:14,983 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:14,984 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:14,987 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:15,002 - INFO - Initializing Spotify client...
2025-01-24 14:24:15,687 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:15,689 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:15,690 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:15,691 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:15,696 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:15,819 - INFO - Initializing Spotify client...
2025-01-24 14:24:16,496 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:16,498 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:16,498 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:16,499 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:16,503 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:16,517 - INFO - Initializing Spotify client...
2025-01-24 14:24:17,202 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:17,203 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:17,204 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:17,206 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:17,212 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:17,354 - INFO - Initializing Spotify client...
2025-01-24 14:24:18,020 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:18,022 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:18,024 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:18,025 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:18,030 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:18,045 - INFO - Initializing Spotify client...
2025-01-24 14:24:18,729 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:18,730 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:18,731 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:18,732 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:18,736 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:18,847 - INFO - Initializing Spotify client...
2025-01-24 14:24:19,528 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:19,529 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:19,531 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:19,532 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:19,536 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:19,549 - INFO - Initializing Spotify client...
2025-01-24 14:24:20,278 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:20,280 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:20,281 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:20,281 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:20,285 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:20,394 - INFO - Initializing Spotify client...
2025-01-24 14:24:21,130 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:21,131 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:21,132 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:21,132 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:21,136 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:21,151 - INFO - Initializing Spotify client...
2025-01-24 14:24:21,851 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:21,852 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:21,853 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:21,854 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:21,860 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:21,960 - INFO - Initializing Spotify client...
2025-01-24 14:24:22,683 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:22,686 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:22,687 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:22,688 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:22,691 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:22,698 - INFO - Initializing Spotify client...
2025-01-24 14:24:23,466 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:23,467 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:23,468 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:23,469 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:23,472 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:31,528 - INFO - Initializing Spotify client...
2025-01-24 14:24:32,241 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:32,242 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:32,242 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:32,243 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:32,244 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:32,251 - INFO - Initializing Spotify client...
2025-01-24 14:24:32,980 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:32,982 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:32,984 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:32,985 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:32,988 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:33,094 - INFO - Initializing Spotify client...
2025-01-24 14:24:33,776 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:33,777 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:33,779 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:33,779 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:33,782 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:33,793 - INFO - Initializing Spotify client...
2025-01-24 14:24:34,530 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:34,530 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:34,532 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:34,532 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:34,537 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:34,654 - INFO - Initializing Spotify client...
2025-01-24 14:24:35,319 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:35,320 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:35,323 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:35,324 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:35,328 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:35,342 - INFO - Initializing Spotify client...
2025-01-24 14:24:36,045 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:36,047 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:36,049 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:36,049 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:36,054 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:36,160 - INFO - Initializing Spotify client...
2025-01-24 14:24:36,845 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:36,847 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:36,848 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:36,849 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:36,853 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:36,864 - INFO - Initializing Spotify client...
2025-01-24 14:24:37,542 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:37,542 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:37,544 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:37,545 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:37,549 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:37,655 - INFO - Initializing Spotify client...
2025-01-24 14:24:38,335 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:38,336 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:38,339 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:38,340 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:38,344 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:38,356 - INFO - Initializing Spotify client...
2025-01-24 14:24:39,070 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:39,073 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:39,075 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:39,076 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:39,080 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:39,188 - INFO - Initializing Spotify client...
2025-01-24 14:24:39,864 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:39,866 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:39,867 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:39,868 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:39,871 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:39,881 - INFO - Initializing Spotify client...
2025-01-24 14:24:40,582 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:40,584 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:40,585 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:40,586 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:40,591 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:40,739 - INFO - Initializing Spotify client...
2025-01-24 14:24:41,397 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:41,398 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:41,399 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:41,400 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:41,406 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:41,417 - INFO - Initializing Spotify client...
2025-01-24 14:24:42,097 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:42,099 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:42,100 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:42,101 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:42,106 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:42,225 - INFO - Initializing Spotify client...
2025-01-24 14:24:42,876 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:42,877 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:42,879 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:42,880 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:42,882 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:42,898 - INFO - Initializing Spotify client...
2025-01-24 14:24:43,644 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:43,644 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:43,646 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:43,647 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:43,651 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:43,782 - INFO - Initializing Spotify client...
2025-01-24 14:24:44,470 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:44,472 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:44,473 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:44,474 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:44,476 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:44,490 - INFO - Initializing Spotify client...
2025-01-24 14:24:45,400 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:45,401 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:45,401 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:45,403 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:45,404 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:45,520 - INFO - Initializing Spotify client...
2025-01-24 14:24:46,273 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:46,274 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:46,275 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:46,276 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:46,278 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:46,284 - INFO - Initializing Spotify client...
2025-01-24 14:24:46,997 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:46,997 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:46,999 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:47,000 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:47,004 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:47,158 - INFO - Initializing Spotify client...
2025-01-24 14:24:47,810 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:47,811 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:47,814 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:47,815 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:47,819 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:47,831 - INFO - Initializing Spotify client...
2025-01-24 14:24:48,576 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:48,577 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:48,579 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:48,580 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:48,582 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:48,717 - INFO - Initializing Spotify client...
2025-01-24 14:24:49,397 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:49,398 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:49,401 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:49,401 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:49,407 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:49,421 - INFO - Initializing Spotify client...
2025-01-24 14:24:50,144 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:50,146 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:50,148 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:50,149 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:50,154 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:50,256 - INFO - Initializing Spotify client...
2025-01-24 14:24:50,729 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:50,730 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:50,732 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:50,734 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:50,738 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:50,754 - INFO - Initializing Spotify client...
2025-01-24 14:24:51,235 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:51,237 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:51,238 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:51,239 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:51,241 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:51,332 - INFO - Initializing Spotify client...
2025-01-24 14:24:51,827 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:51,828 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:51,828 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:51,829 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:51,830 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:51,832 - INFO - Initializing Spotify client...
2025-01-24 14:24:52,319 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:52,320 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:52,321 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:52,322 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:52,322 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:52,395 - INFO - Initializing Spotify client...
2025-01-24 14:24:52,875 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:52,875 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:52,877 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:52,878 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:52,881 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:52,887 - INFO - Initializing Spotify client...
2025-01-24 14:24:53,368 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:53,369 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:53,369 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:53,370 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:53,372 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:53,431 - INFO - Initializing Spotify client...
2025-01-24 14:24:53,951 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:53,952 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:53,953 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:53,953 - ERROR - Error getting recommendations from Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:53,954 - ERROR - Traceback:
Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 468, in fetch_random_tracks
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-01-24 14:24:53,956 - INFO - Initializing Spotify client...
2025-01-24 14:24:54,447 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC with Params: {} returned 403 due to None
2025-01-24 14:24:54,448 - ERROR - Failed to initialize Spotify client: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:54,449 - ERROR - Client ID present: True, Client Secret present: True
2025-01-24 14:24:54,449 - ERROR - Error getting playlist recommendations: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None
2025-01-24 14:24:54,451 - ERROR - Traceback (most recent call last):
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 275, in _internal_call
    response.raise_for_status()
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\requests\models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 156, in detect_emotion_endpoint
    spotify = get_spotify_client()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 55, in get_spotify_client
    client.audio_features(['spotify:track:4uLU6hMCjMI75M1A2tKUQC'])
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 1753, in audio_features
    results = self._get("audio-features/?ids=" + ",".join(tlist))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 327, in _get
    return self._internal_call("GET", url, payload, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\palpu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\spotipy\client.py", line 297, in _internal_call
    raise SpotifyException(
spotipy.exceptions.SpotifyException: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=4uLU6hMCjMI75M1A2tKUQC:
 None, reason: None

2025-05-23 10:43:48,432 - INFO - Starting emotion detection request
2025-05-23 10:43:48,434 - INFO - Validated language: english
2025-05-23 10:43:48,551 - INFO - Initialized emotion detector
2025-05-23 10:43:48,551 - INFO - Starting image decoding
2025-05-23 10:43:48,553 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:43:48,555 - DEBUG - Successfully decoded base64 data, size: 28363 bytes
2025-05-23 10:43:48,732 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:43:48,743 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:43:48,748 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:43:48,749 - INFO - Starting emotion detection
2025-05-23 10:43:48,986 - ERROR - No face detected in image
2025-05-23 10:43:48,987 - ERROR - Error detecting emotion: 400: No face detected in image
2025-05-23 10:43:48,988 - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 140, in detect_emotion_endpoint
    raise HTTPException(status_code=400, detail="No face detected in image")
fastapi.exceptions.HTTPException: 400: No face detected in image

2025-05-23 10:44:15,897 - INFO - Starting emotion detection request
2025-05-23 10:44:15,898 - INFO - Validated language: english
2025-05-23 10:44:15,947 - INFO - Initialized emotion detector
2025-05-23 10:44:15,948 - INFO - Starting image decoding
2025-05-23 10:44:15,948 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:15,948 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:15,950 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:15,954 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:15,954 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:15,954 - INFO - Starting emotion detection
2025-05-23 10:44:16,016 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:16,016 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:16,017 - INFO - Initializing Spotify client...
2025-05-23 10:44:16,017 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:16,017 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:16,033 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic OTU3NTEzZmI1ZDgyNDVhZmI1ZjMxNDkzODkwZjJlMjU6YTMyNWFlMmM3YTMxNGZmYzliNTA2MzZkNGIyNTg2YWI='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 10:44:16,045 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 10:44:17,078 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 200 None
2025-05-23 10:44:17,095 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:17,100 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:18,060 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:18,062 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:18,065 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:18,079 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:18,345 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:18,348 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:18,348 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:18,349 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:18,354 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:18,354 - INFO - Preparing response
2025-05-23 10:44:18,377 - INFO - Starting emotion detection request
2025-05-23 10:44:18,377 - INFO - Validated language: english
2025-05-23 10:44:18,420 - INFO - Initialized emotion detector
2025-05-23 10:44:18,420 - INFO - Starting image decoding
2025-05-23 10:44:18,420 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:18,421 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:18,421 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:18,425 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:18,426 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:18,426 - INFO - Starting emotion detection
2025-05-23 10:44:18,457 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:18,458 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:18,458 - INFO - Initializing Spotify client...
2025-05-23 10:44:18,459 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:18,459 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:18,460 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:18,463 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:19,370 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:19,374 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:19,378 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:19,379 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:19,547 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:19,549 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:19,549 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:19,551 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:19,554 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:19,556 - INFO - Preparing response
2025-05-23 10:44:19,578 - INFO - Starting emotion detection request
2025-05-23 10:44:19,579 - INFO - Validated language: english
2025-05-23 10:44:19,675 - INFO - Initialized emotion detector
2025-05-23 10:44:19,677 - INFO - Starting image decoding
2025-05-23 10:44:19,677 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:19,678 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:19,680 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:19,684 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:19,685 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:19,685 - INFO - Starting emotion detection
2025-05-23 10:44:19,731 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:19,733 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:19,733 - INFO - Initializing Spotify client...
2025-05-23 10:44:19,734 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:19,736 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:19,738 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:19,745 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:20,710 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:20,712 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:20,717 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:20,717 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:20,907 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:20,910 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:20,911 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:20,912 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:20,916 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:20,918 - INFO - Preparing response
2025-05-23 10:44:20,933 - INFO - Starting emotion detection request
2025-05-23 10:44:20,933 - INFO - Validated language: english
2025-05-23 10:44:21,000 - INFO - Initialized emotion detector
2025-05-23 10:44:21,002 - INFO - Starting image decoding
2025-05-23 10:44:21,002 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:21,003 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:21,003 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:21,008 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:21,010 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:21,011 - INFO - Starting emotion detection
2025-05-23 10:44:21,097 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:21,111 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:21,112 - INFO - Initializing Spotify client...
2025-05-23 10:44:21,114 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:21,116 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:21,124 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:21,128 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:22,067 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:22,068 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:22,071 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:22,072 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:22,340 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:22,340 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:22,341 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:22,342 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:22,345 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:22,346 - INFO - Preparing response
2025-05-23 10:44:22,360 - INFO - Starting emotion detection request
2025-05-23 10:44:22,360 - INFO - Validated language: english
2025-05-23 10:44:22,424 - INFO - Initialized emotion detector
2025-05-23 10:44:22,425 - INFO - Starting image decoding
2025-05-23 10:44:22,425 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:22,427 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:22,427 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:22,430 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:22,431 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:22,432 - INFO - Starting emotion detection
2025-05-23 10:44:22,491 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:22,493 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:22,493 - INFO - Initializing Spotify client...
2025-05-23 10:44:22,493 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:22,494 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:22,495 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:22,506 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:23,545 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:23,548 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:23,550 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:23,551 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:23,722 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:23,723 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:23,724 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:23,725 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:23,727 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:23,728 - INFO - Preparing response
2025-05-23 10:44:23,738 - INFO - Starting emotion detection request
2025-05-23 10:44:23,739 - INFO - Validated language: english
2025-05-23 10:44:23,790 - INFO - Initialized emotion detector
2025-05-23 10:44:23,790 - INFO - Starting image decoding
2025-05-23 10:44:23,790 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:23,791 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:23,792 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:23,795 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:23,795 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:23,796 - INFO - Starting emotion detection
2025-05-23 10:44:23,824 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:23,826 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:23,826 - INFO - Initializing Spotify client...
2025-05-23 10:44:23,826 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:23,826 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:23,827 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:23,831 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:24,793 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:24,794 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:24,798 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:24,799 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:24,974 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:24,974 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:24,976 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:24,976 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:24,979 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:24,980 - INFO - Preparing response
2025-05-23 10:44:24,994 - INFO - Starting emotion detection request
2025-05-23 10:44:24,994 - INFO - Validated language: english
2025-05-23 10:44:25,068 - INFO - Initialized emotion detector
2025-05-23 10:44:25,069 - INFO - Starting image decoding
2025-05-23 10:44:25,070 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:25,071 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:25,072 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:25,079 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:25,081 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:25,081 - INFO - Starting emotion detection
2025-05-23 10:44:25,139 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:25,139 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:25,139 - INFO - Initializing Spotify client...
2025-05-23 10:44:25,140 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:25,140 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:25,141 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:25,145 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:26,339 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:26,342 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:26,348 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:26,350 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:26,576 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:26,577 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:26,577 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:26,578 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:26,580 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:26,580 - INFO - Preparing response
2025-05-23 10:44:26,593 - INFO - Starting emotion detection request
2025-05-23 10:44:26,593 - INFO - Validated language: english
2025-05-23 10:44:26,646 - INFO - Initialized emotion detector
2025-05-23 10:44:26,646 - INFO - Starting image decoding
2025-05-23 10:44:26,647 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:26,648 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:26,648 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:26,650 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:26,650 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:26,652 - INFO - Starting emotion detection
2025-05-23 10:44:26,669 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:26,670 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:26,670 - INFO - Initializing Spotify client...
2025-05-23 10:44:26,671 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:26,671 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:26,672 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:26,674 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:27,599 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:27,601 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:27,605 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:27,605 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:27,769 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:27,770 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:27,772 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:27,772 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:27,774 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:27,775 - INFO - Preparing response
2025-05-23 10:44:27,793 - INFO - Starting emotion detection request
2025-05-23 10:44:27,793 - INFO - Validated language: english
2025-05-23 10:44:27,853 - INFO - Initialized emotion detector
2025-05-23 10:44:27,853 - INFO - Starting image decoding
2025-05-23 10:44:27,854 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:27,854 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:27,855 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:27,857 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:27,858 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:27,858 - INFO - Starting emotion detection
2025-05-23 10:44:27,891 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:27,892 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:27,892 - INFO - Initializing Spotify client...
2025-05-23 10:44:27,892 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:27,893 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:27,895 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:27,898 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:28,905 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:28,906 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:28,909 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:28,910 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:29,132 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:29,133 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:29,133 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:29,134 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:29,136 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:29,137 - INFO - Preparing response
2025-05-23 10:44:29,152 - INFO - Starting emotion detection request
2025-05-23 10:44:29,154 - INFO - Validated language: english
2025-05-23 10:44:29,219 - INFO - Initialized emotion detector
2025-05-23 10:44:29,220 - INFO - Starting image decoding
2025-05-23 10:44:29,220 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:29,221 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:29,222 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:29,225 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:29,226 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:29,226 - INFO - Starting emotion detection
2025-05-23 10:44:29,272 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:29,274 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:29,275 - INFO - Initializing Spotify client...
2025-05-23 10:44:29,276 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:29,277 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:29,277 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:29,283 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:30,356 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:30,358 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:30,361 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:30,362 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:30,612 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:30,614 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:30,615 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:30,615 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:30,618 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:30,618 - INFO - Preparing response
2025-05-23 10:44:30,633 - INFO - Starting emotion detection request
2025-05-23 10:44:30,634 - INFO - Validated language: english
2025-05-23 10:44:30,681 - INFO - Initialized emotion detector
2025-05-23 10:44:30,683 - INFO - Starting image decoding
2025-05-23 10:44:30,683 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:30,684 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:30,685 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:30,687 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:30,688 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:30,688 - INFO - Starting emotion detection
2025-05-23 10:44:30,716 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:30,717 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:30,717 - INFO - Initializing Spotify client...
2025-05-23 10:44:30,717 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:30,718 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:30,719 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:30,722 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:31,668 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:31,670 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:31,672 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:31,672 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:31,927 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:31,927 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:31,929 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:31,930 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:31,932 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:31,954 - INFO - Preparing response
2025-05-23 10:44:31,983 - INFO - Starting emotion detection request
2025-05-23 10:44:31,984 - INFO - Validated language: english
2025-05-23 10:44:32,006 - INFO - Initialized emotion detector
2025-05-23 10:44:32,006 - INFO - Starting image decoding
2025-05-23 10:44:32,006 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:32,006 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:32,008 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:32,008 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:32,010 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:32,010 - INFO - Starting emotion detection
2025-05-23 10:44:32,020 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:32,020 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:32,021 - INFO - Initializing Spotify client...
2025-05-23 10:44:32,021 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:32,022 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:32,022 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:32,024 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:32,568 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:32,569 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:32,571 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:32,571 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:32,833 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:32,834 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:32,834 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:32,834 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:32,835 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:32,835 - INFO - Preparing response
2025-05-23 10:44:32,866 - INFO - Starting emotion detection request
2025-05-23 10:44:32,866 - INFO - Validated language: english
2025-05-23 10:44:32,885 - INFO - Initialized emotion detector
2025-05-23 10:44:32,886 - INFO - Starting image decoding
2025-05-23 10:44:32,887 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:32,887 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:32,887 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:32,888 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:32,889 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:32,889 - INFO - Starting emotion detection
2025-05-23 10:44:32,902 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:32,902 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:32,902 - INFO - Initializing Spotify client...
2025-05-23 10:44:32,902 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:32,902 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:32,903 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:32,904 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:33,523 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:33,524 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:33,526 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:33,526 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:33,685 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:33,686 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:33,687 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:33,687 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:33,688 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:33,688 - INFO - Preparing response
2025-05-23 10:44:33,712 - INFO - Starting emotion detection request
2025-05-23 10:44:33,712 - INFO - Validated language: english
2025-05-23 10:44:33,734 - INFO - Initialized emotion detector
2025-05-23 10:44:33,734 - INFO - Starting image decoding
2025-05-23 10:44:33,734 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:33,734 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:33,735 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:33,735 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:33,737 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:33,737 - INFO - Starting emotion detection
2025-05-23 10:44:33,750 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:33,751 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:33,751 - INFO - Initializing Spotify client...
2025-05-23 10:44:33,751 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:33,751 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:33,751 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:33,753 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:34,397 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:34,399 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:34,400 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:34,401 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:34,557 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:34,557 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:34,557 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:34,557 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:34,558 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:34,558 - INFO - Preparing response
2025-05-23 10:44:34,580 - INFO - Starting emotion detection request
2025-05-23 10:44:34,580 - INFO - Validated language: english
2025-05-23 10:44:34,608 - INFO - Initialized emotion detector
2025-05-23 10:44:34,608 - INFO - Starting image decoding
2025-05-23 10:44:34,608 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:34,610 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:34,610 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:34,612 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:34,612 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:34,612 - INFO - Starting emotion detection
2025-05-23 10:44:34,627 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:34,627 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:34,627 - INFO - Initializing Spotify client...
2025-05-23 10:44:34,627 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:34,627 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:34,629 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:34,630 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:35,239 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:35,240 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:35,243 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:35,243 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:35,560 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:35,561 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:35,562 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:35,562 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:35,563 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:35,564 - INFO - Preparing response
2025-05-23 10:44:35,578 - INFO - Starting emotion detection request
2025-05-23 10:44:35,578 - INFO - Validated language: english
2025-05-23 10:44:35,601 - INFO - Initialized emotion detector
2025-05-23 10:44:35,602 - INFO - Starting image decoding
2025-05-23 10:44:35,602 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:35,603 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:35,603 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:35,605 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:35,605 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:35,605 - INFO - Starting emotion detection
2025-05-23 10:44:35,619 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:35,620 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:35,620 - INFO - Initializing Spotify client...
2025-05-23 10:44:35,620 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:35,620 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:35,620 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:35,622 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:36,213 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:36,213 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:36,214 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:36,215 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:36,473 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:36,474 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:36,474 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:36,475 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:36,476 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:36,476 - INFO - Preparing response
2025-05-23 10:44:36,488 - INFO - Starting emotion detection request
2025-05-23 10:44:36,489 - INFO - Validated language: english
2025-05-23 10:44:36,520 - INFO - Initialized emotion detector
2025-05-23 10:44:36,521 - INFO - Starting image decoding
2025-05-23 10:44:36,521 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:36,521 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:36,522 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:36,524 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:36,524 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:36,524 - INFO - Starting emotion detection
2025-05-23 10:44:36,534 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:36,534 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:36,535 - INFO - Initializing Spotify client...
2025-05-23 10:44:36,535 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:36,535 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:36,537 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:36,540 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:37,102 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:37,102 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:37,104 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:37,105 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:37,360 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:37,363 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:37,363 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:37,363 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:37,365 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:37,365 - INFO - Preparing response
2025-05-23 10:44:37,389 - INFO - Starting emotion detection request
2025-05-23 10:44:37,390 - INFO - Validated language: english
2025-05-23 10:44:37,411 - INFO - Initialized emotion detector
2025-05-23 10:44:37,411 - INFO - Starting image decoding
2025-05-23 10:44:37,415 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:37,415 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:37,415 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:37,417 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:37,417 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:37,417 - INFO - Starting emotion detection
2025-05-23 10:44:37,428 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:37,428 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:37,429 - INFO - Initializing Spotify client...
2025-05-23 10:44:37,430 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:37,430 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:37,431 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:37,433 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:38,100 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:38,100 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:38,102 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:38,102 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:38,277 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:38,279 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:38,280 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:38,281 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:38,284 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:38,284 - INFO - Preparing response
2025-05-23 10:44:38,301 - INFO - Starting emotion detection request
2025-05-23 10:44:38,302 - INFO - Validated language: english
2025-05-23 10:44:38,322 - INFO - Initialized emotion detector
2025-05-23 10:44:38,323 - INFO - Starting image decoding
2025-05-23 10:44:38,324 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:38,324 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:38,324 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:38,325 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:38,327 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:38,327 - INFO - Starting emotion detection
2025-05-23 10:44:38,341 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:38,343 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:38,343 - INFO - Initializing Spotify client...
2025-05-23 10:44:38,344 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:38,344 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:38,345 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:38,347 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:38,950 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:38,952 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:38,954 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:38,954 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:39,121 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:39,122 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:39,122 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:39,123 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:39,124 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:39,125 - INFO - Preparing response
2025-05-23 10:44:39,136 - INFO - Starting emotion detection request
2025-05-23 10:44:39,136 - INFO - Validated language: english
2025-05-23 10:44:39,156 - INFO - Initialized emotion detector
2025-05-23 10:44:39,156 - INFO - Starting image decoding
2025-05-23 10:44:39,157 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:39,157 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:39,157 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:39,158 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:39,158 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:39,159 - INFO - Starting emotion detection
2025-05-23 10:44:39,174 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:39,175 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:39,175 - INFO - Initializing Spotify client...
2025-05-23 10:44:39,175 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:39,175 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:39,175 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:39,177 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:39,732 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:39,734 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:39,736 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:39,737 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:39,955 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:39,959 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:39,959 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:39,960 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:39,962 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:39,963 - INFO - Preparing response
2025-05-23 10:44:39,992 - INFO - Starting emotion detection request
2025-05-23 10:44:39,992 - INFO - Validated language: english
2025-05-23 10:44:40,013 - INFO - Initialized emotion detector
2025-05-23 10:44:40,014 - INFO - Starting image decoding
2025-05-23 10:44:40,015 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:40,017 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:40,018 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:40,019 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:40,020 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:40,020 - INFO - Starting emotion detection
2025-05-23 10:44:40,029 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:40,029 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:40,029 - INFO - Initializing Spotify client...
2025-05-23 10:44:40,029 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:40,029 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:40,031 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:40,033 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:40,556 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:40,571 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:40,571 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:40,573 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:40,738 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:40,753 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:40,753 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:40,757 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:40,758 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:40,758 - INFO - Preparing response
2025-05-23 10:44:40,795 - INFO - Starting emotion detection request
2025-05-23 10:44:40,795 - INFO - Validated language: english
2025-05-23 10:44:40,816 - INFO - Initialized emotion detector
2025-05-23 10:44:40,816 - INFO - Starting image decoding
2025-05-23 10:44:40,816 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:40,816 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:40,817 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:40,818 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:40,818 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:40,818 - INFO - Starting emotion detection
2025-05-23 10:44:40,831 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:40,831 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:40,832 - INFO - Initializing Spotify client...
2025-05-23 10:44:40,832 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:40,832 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:40,832 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:40,833 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:41,810 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:41,810 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:41,813 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:41,814 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:41,984 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:41,985 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:41,986 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:41,986 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:41,987 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:41,987 - INFO - Preparing response
2025-05-23 10:44:42,001 - INFO - Starting emotion detection request
2025-05-23 10:44:42,001 - INFO - Validated language: english
2025-05-23 10:44:42,026 - INFO - Initialized emotion detector
2025-05-23 10:44:42,026 - INFO - Starting image decoding
2025-05-23 10:44:42,026 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:42,026 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:42,027 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:42,028 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:42,028 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:42,028 - INFO - Starting emotion detection
2025-05-23 10:44:42,041 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:42,042 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:42,042 - INFO - Initializing Spotify client...
2025-05-23 10:44:42,042 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:42,043 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:42,043 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:42,044 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:42,595 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:42,595 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:42,597 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:42,597 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:42,758 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:42,760 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:42,760 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:42,761 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:42,762 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:42,764 - INFO - Preparing response
2025-05-23 10:44:42,776 - INFO - Starting emotion detection request
2025-05-23 10:44:42,776 - INFO - Validated language: english
2025-05-23 10:44:42,799 - INFO - Initialized emotion detector
2025-05-23 10:44:42,799 - INFO - Starting image decoding
2025-05-23 10:44:42,799 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:42,800 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:42,800 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:42,801 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:42,801 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:42,802 - INFO - Starting emotion detection
2025-05-23 10:44:42,815 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:42,815 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:42,816 - INFO - Initializing Spotify client...
2025-05-23 10:44:42,816 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:42,816 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:42,817 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:42,818 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:43,480 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:43,482 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:43,484 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:43,484 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:43,654 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:43,661 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:43,661 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:43,662 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:43,663 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:43,664 - INFO - Preparing response
2025-05-23 10:44:43,676 - INFO - Starting emotion detection request
2025-05-23 10:44:43,676 - INFO - Validated language: english
2025-05-23 10:44:43,699 - INFO - Initialized emotion detector
2025-05-23 10:44:43,699 - INFO - Starting image decoding
2025-05-23 10:44:43,700 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:43,700 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:43,700 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:43,702 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:43,702 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:43,703 - INFO - Starting emotion detection
2025-05-23 10:44:43,716 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:43,717 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:43,717 - INFO - Initializing Spotify client...
2025-05-23 10:44:43,717 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:43,717 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:43,718 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:43,719 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:44,275 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:44,275 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:44,278 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:44,278 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:44,428 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:44,474 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:44,475 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:44,475 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:44,475 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:44,476 - INFO - Preparing response
2025-05-23 10:44:44,619 - INFO - Starting emotion detection request
2025-05-23 10:44:44,620 - INFO - Validated language: english
2025-05-23 10:44:44,642 - INFO - Initialized emotion detector
2025-05-23 10:44:44,642 - INFO - Starting image decoding
2025-05-23 10:44:44,642 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:44,642 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:44,642 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:44,643 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:44,643 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:44,643 - INFO - Starting emotion detection
2025-05-23 10:44:44,658 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:44,658 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:44,659 - INFO - Initializing Spotify client...
2025-05-23 10:44:44,659 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:44,659 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:44,659 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:44,661 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:45,374 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:45,376 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:45,378 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:45,378 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:45,542 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:45,542 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:45,544 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:45,544 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:45,546 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:45,547 - INFO - Preparing response
2025-05-23 10:44:45,562 - INFO - Starting emotion detection request
2025-05-23 10:44:45,563 - INFO - Validated language: english
2025-05-23 10:44:45,595 - INFO - Initialized emotion detector
2025-05-23 10:44:45,596 - INFO - Starting image decoding
2025-05-23 10:44:45,596 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:45,597 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:45,598 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:45,599 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:45,600 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:45,600 - INFO - Starting emotion detection
2025-05-23 10:44:45,628 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:45,629 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:45,630 - INFO - Initializing Spotify client...
2025-05-23 10:44:45,631 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:45,631 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:45,632 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:45,634 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:46,245 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:46,246 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:46,248 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:46,249 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:46,407 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:46,407 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:46,408 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:46,408 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:46,409 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:46,409 - INFO - Preparing response
2025-05-23 10:44:46,423 - INFO - Starting emotion detection request
2025-05-23 10:44:46,424 - INFO - Validated language: english
2025-05-23 10:44:46,454 - INFO - Initialized emotion detector
2025-05-23 10:44:46,456 - INFO - Starting image decoding
2025-05-23 10:44:46,456 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:46,456 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:46,456 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:46,458 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:46,459 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:46,460 - INFO - Starting emotion detection
2025-05-23 10:44:46,483 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:46,484 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:46,484 - INFO - Initializing Spotify client...
2025-05-23 10:44:46,485 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:46,485 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:46,486 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:46,487 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:47,195 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:47,198 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:47,202 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:47,203 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:47,359 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:47,361 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:47,361 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:47,361 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:47,363 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:47,363 - INFO - Preparing response
2025-05-23 10:44:47,373 - INFO - Starting emotion detection request
2025-05-23 10:44:47,374 - INFO - Validated language: english
2025-05-23 10:44:47,397 - INFO - Initialized emotion detector
2025-05-23 10:44:47,397 - INFO - Starting image decoding
2025-05-23 10:44:47,397 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:47,398 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:47,398 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:47,400 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:47,401 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:47,401 - INFO - Starting emotion detection
2025-05-23 10:44:47,416 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:47,416 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:47,416 - INFO - Initializing Spotify client...
2025-05-23 10:44:47,416 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:47,416 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:47,418 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:47,419 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:48,066 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:48,067 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:48,069 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:48,069 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:48,314 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:48,315 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:48,315 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:48,316 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:48,317 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:48,317 - INFO - Preparing response
2025-05-23 10:44:48,325 - INFO - Starting emotion detection request
2025-05-23 10:44:48,326 - INFO - Validated language: english
2025-05-23 10:44:48,350 - INFO - Initialized emotion detector
2025-05-23 10:44:48,351 - INFO - Starting image decoding
2025-05-23 10:44:48,351 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:48,351 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:48,352 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:48,353 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:48,353 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:48,354 - INFO - Starting emotion detection
2025-05-23 10:44:48,368 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:48,369 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:48,369 - INFO - Initializing Spotify client...
2025-05-23 10:44:48,369 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:48,369 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:48,370 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:48,372 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:49,141 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:49,149 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:49,152 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:49,155 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:49,378 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:49,378 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:49,381 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:49,381 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:49,383 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:49,383 - INFO - Preparing response
2025-05-23 10:44:49,396 - INFO - Starting emotion detection request
2025-05-23 10:44:49,396 - INFO - Validated language: english
2025-05-23 10:44:49,420 - INFO - Initialized emotion detector
2025-05-23 10:44:49,421 - INFO - Starting image decoding
2025-05-23 10:44:49,421 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:49,421 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:49,422 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:49,423 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:49,423 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:49,424 - INFO - Starting emotion detection
2025-05-23 10:44:49,437 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:49,438 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:49,438 - INFO - Initializing Spotify client...
2025-05-23 10:44:49,438 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:49,439 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:49,440 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:49,442 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:50,050 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:50,051 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:50,053 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:50,054 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:50,294 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:50,296 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:50,297 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:50,297 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:50,299 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:50,299 - INFO - Preparing response
2025-05-23 10:44:50,309 - INFO - Starting emotion detection request
2025-05-23 10:44:50,309 - INFO - Validated language: english
2025-05-23 10:44:50,334 - INFO - Initialized emotion detector
2025-05-23 10:44:50,335 - INFO - Starting image decoding
2025-05-23 10:44:50,335 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:50,335 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:50,335 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:50,337 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:50,337 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:50,338 - INFO - Starting emotion detection
2025-05-23 10:44:50,357 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:50,357 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:50,358 - INFO - Initializing Spotify client...
2025-05-23 10:44:50,358 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:50,358 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:50,358 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:50,359 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:50,994 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:50,996 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:50,999 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:51,000 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:51,280 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:51,281 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:51,281 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:51,282 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:51,283 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:51,283 - INFO - Preparing response
2025-05-23 10:44:51,302 - INFO - Starting emotion detection request
2025-05-23 10:44:51,302 - INFO - Validated language: english
2025-05-23 10:44:51,375 - INFO - Initialized emotion detector
2025-05-23 10:44:51,378 - INFO - Starting image decoding
2025-05-23 10:44:51,380 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:51,380 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:51,381 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:51,382 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:51,382 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:51,382 - INFO - Starting emotion detection
2025-05-23 10:44:51,401 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:51,401 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:51,402 - INFO - Initializing Spotify client...
2025-05-23 10:44:51,402 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:51,402 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:51,403 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:51,404 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:52,785 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:52,786 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:52,787 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:52,787 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:53,061 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:53,063 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:53,065 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:53,065 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:53,068 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:53,068 - INFO - Preparing response
2025-05-23 10:44:53,080 - INFO - Starting emotion detection request
2025-05-23 10:44:53,081 - INFO - Validated language: english
2025-05-23 10:44:53,103 - INFO - Initialized emotion detector
2025-05-23 10:44:53,103 - INFO - Starting image decoding
2025-05-23 10:44:53,104 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:53,104 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:53,104 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:53,105 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:53,105 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:53,105 - INFO - Starting emotion detection
2025-05-23 10:44:53,117 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:53,117 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:53,118 - INFO - Initializing Spotify client...
2025-05-23 10:44:53,118 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:53,118 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:53,118 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:53,119 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:53,752 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:53,753 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:53,755 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:53,757 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:53,916 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:53,917 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:53,918 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:53,918 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:53,919 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:53,920 - INFO - Preparing response
2025-05-23 10:44:53,929 - INFO - Starting emotion detection request
2025-05-23 10:44:53,932 - INFO - Validated language: english
2025-05-23 10:44:53,953 - INFO - Initialized emotion detector
2025-05-23 10:44:53,953 - INFO - Starting image decoding
2025-05-23 10:44:53,953 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:53,954 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:53,954 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:53,955 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:53,955 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:53,955 - INFO - Starting emotion detection
2025-05-23 10:44:53,968 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:53,969 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:53,969 - INFO - Initializing Spotify client...
2025-05-23 10:44:53,969 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:53,969 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:53,969 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:53,971 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:54,563 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:54,564 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:54,566 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:54,566 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:54,744 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:54,746 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:54,747 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:54,747 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:54,750 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:54,751 - INFO - Preparing response
2025-05-23 10:44:54,766 - INFO - Starting emotion detection request
2025-05-23 10:44:54,767 - INFO - Validated language: english
2025-05-23 10:44:54,812 - INFO - Initialized emotion detector
2025-05-23 10:44:54,812 - INFO - Starting image decoding
2025-05-23 10:44:54,812 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:54,812 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:54,812 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:54,814 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:54,816 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:54,816 - INFO - Starting emotion detection
2025-05-23 10:44:54,846 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:54,846 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:54,846 - INFO - Initializing Spotify client...
2025-05-23 10:44:54,846 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:54,847 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:54,848 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:54,851 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:55,805 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:55,806 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:55,809 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:55,810 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:55,967 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:55,968 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:55,969 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:55,969 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:55,971 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:55,972 - INFO - Preparing response
2025-05-23 10:44:55,980 - INFO - Starting emotion detection request
2025-05-23 10:44:55,982 - INFO - Validated language: english
2025-05-23 10:44:56,028 - INFO - Initialized emotion detector
2025-05-23 10:44:56,030 - INFO - Starting image decoding
2025-05-23 10:44:56,030 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:56,030 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:56,031 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:56,034 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:56,034 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:56,034 - INFO - Starting emotion detection
2025-05-23 10:44:56,061 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:56,062 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:56,063 - INFO - Initializing Spotify client...
2025-05-23 10:44:56,063 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:56,064 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:56,064 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:56,068 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:57,058 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:57,060 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:57,061 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:57,062 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:57,286 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:57,287 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:57,290 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:57,290 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:57,292 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:57,292 - INFO - Preparing response
2025-05-23 10:44:57,301 - INFO - Starting emotion detection request
2025-05-23 10:44:57,301 - INFO - Validated language: english
2025-05-23 10:44:57,352 - INFO - Initialized emotion detector
2025-05-23 10:44:57,353 - INFO - Starting image decoding
2025-05-23 10:44:57,353 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:57,353 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:57,354 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:57,356 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:57,357 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:57,357 - INFO - Starting emotion detection
2025-05-23 10:44:57,378 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:57,380 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:57,380 - INFO - Initializing Spotify client...
2025-05-23 10:44:57,381 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:57,381 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:57,382 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:57,386 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:44:58,501 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:44:58,503 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:44:58,507 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:44:58,507 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:58,773 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:44:58,776 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:44:58,777 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:44:58,778 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:44:58,782 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:44:58,783 - INFO - Preparing response
2025-05-23 10:44:58,800 - INFO - Starting emotion detection request
2025-05-23 10:44:58,802 - INFO - Validated language: english
2025-05-23 10:44:58,861 - INFO - Initialized emotion detector
2025-05-23 10:44:58,863 - INFO - Starting image decoding
2025-05-23 10:44:58,864 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:44:58,864 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:44:58,865 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:44:58,868 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:44:58,868 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:44:58,868 - INFO - Starting emotion detection
2025-05-23 10:44:58,920 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:44:58,921 - INFO - Attempting to get playlist recommendations
2025-05-23 10:44:58,921 - INFO - Initializing Spotify client...
2025-05-23 10:44:58,921 - DEBUG - Using Client ID: 95751...
2025-05-23 10:44:58,923 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:44:58,923 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:44:58,928 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:45:00,374 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:45:00,377 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:45:00,383 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:45:00,385 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:45:00,553 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:45:00,556 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:45:00,558 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:45:00,559 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:45:00,561 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:45:00,561 - INFO - Preparing response
2025-05-23 10:45:00,594 - INFO - Starting emotion detection request
2025-05-23 10:45:00,594 - INFO - Validated language: english
2025-05-23 10:45:00,645 - INFO - Initialized emotion detector
2025-05-23 10:45:00,647 - INFO - Starting image decoding
2025-05-23 10:45:00,648 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:45:00,648 - DEBUG - Successfully decoded base64 data, size: 22071 bytes
2025-05-23 10:45:00,648 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:45:00,650 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:45:00,652 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:45:00,652 - INFO - Starting emotion detection
2025-05-23 10:45:00,676 - INFO - Detected emotion: {'emotion': 'happy', 'confidence': 0.8, 'emotion_scores': {'happy': 0.8, 'sad': 0.05, 'angry': 0.05, 'neutral': 0.05, 'surprise': 0.03, 'fear': 0.01, 'disgust': 0.01}}
2025-05-23 10:45:00,677 - INFO - Attempting to get playlist recommendations
2025-05-23 10:45:00,677 - INFO - Initializing Spotify client...
2025-05-23 10:45:00,677 - DEBUG - Using Client ID: 95751...
2025-05-23 10:45:00,678 - DEBUG - Testing Spotify client with search query...
2025-05-23 10:45:00,680 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:45:00,685 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 10:45:01,642 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 10:45:01,643 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 10:45:01,647 - DEBUG - Testing Spotify client with audio features...
2025-05-23 10:45:01,647 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQAbs3U9D5i4tlo-c9Tz3utSRM_62ZG4ylgtYLdj3Bz7psebAihjYj_SUUDM5acoUINHOF_ZK7bJB1EgqqnMonNVyTZ0BGneDTMFQvjY6VIOYEvJr7r0ae-wJ6sEECC67NSaFx-MSqc', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 10:45:01,810 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 10:45:01,811 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 10:45:01,811 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 10:45:01,812 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 10:45:01,814 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 10:45:01,818 - INFO - Preparing response
2025-05-23 10:48:32,900 - INFO - Starting emotion detection request
2025-05-23 10:48:32,905 - INFO - Validated language: english
2025-05-23 10:48:33,021 - INFO - Initialized emotion detector
2025-05-23 10:48:33,077 - INFO - Starting image decoding
2025-05-23 10:48:33,142 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:48:33,177 - DEBUG - Successfully decoded base64 data, size: 20287 bytes
2025-05-23 10:48:33,192 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:48:33,243 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:48:33,293 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:48:33,342 - INFO - Starting emotion detection
2025-05-23 10:48:33,412 - ERROR - No face detected in image
2025-05-23 10:48:33,449 - ERROR - Error detecting emotion: 400: No face detected in image
2025-05-23 10:48:33,491 - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 140, in detect_emotion_endpoint
    raise HTTPException(status_code=400, detail="No face detected in image")
fastapi.exceptions.HTTPException: 400: No face detected in image

2025-05-23 10:49:15,137 - INFO - Starting emotion detection request
2025-05-23 10:49:15,208 - INFO - Validated language: english
2025-05-23 10:49:16,115 - INFO - Initialized emotion detector
2025-05-23 10:49:16,140 - INFO - Starting image decoding
2025-05-23 10:49:16,149 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:49:16,158 - DEBUG - Successfully decoded base64 data, size: 19909 bytes
2025-05-23 10:49:16,499 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:49:16,512 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:49:16,514 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:49:16,515 - INFO - Starting emotion detection
2025-05-23 10:49:17,041 - ERROR - No face detected in image
2025-05-23 10:49:17,301 - ERROR - Error detecting emotion: 400: No face detected in image
2025-05-23 10:49:17,456 - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 140, in detect_emotion_endpoint
    raise HTTPException(status_code=400, detail="No face detected in image")
fastapi.exceptions.HTTPException: 400: No face detected in image

2025-05-23 10:49:31,581 - INFO - Starting emotion detection request
2025-05-23 10:49:31,581 - INFO - Validated language: english
2025-05-23 10:49:31,701 - INFO - Initialized emotion detector
2025-05-23 10:49:31,717 - INFO - Starting image decoding
2025-05-23 10:49:31,724 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 10:49:31,761 - DEBUG - Successfully decoded base64 data, size: 21304 bytes
2025-05-23 10:49:31,784 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 10:49:31,807 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 10:49:31,843 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 10:49:31,858 - INFO - Starting emotion detection
2025-05-23 10:49:31,964 - ERROR - No face detected in image
2025-05-23 10:49:31,999 - ERROR - Error detecting emotion: 400: No face detected in image
2025-05-23 10:49:32,019 - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 140, in detect_emotion_endpoint
    raise HTTPException(status_code=400, detail="No face detected in image")
fastapi.exceptions.HTTPException: 400: No face detected in image

2025-05-23 11:01:33,006 - INFO - Starting emotion detection request
2025-05-23 11:01:33,007 - INFO - Validated language: english
2025-05-23 11:01:33,075 - INFO - Initialized emotion detector
2025-05-23 11:01:33,076 - INFO - Starting image decoding
2025-05-23 11:01:33,076 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 11:01:33,077 - DEBUG - Successfully decoded base64 data, size: 18940 bytes
2025-05-23 11:01:33,082 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 11:01:33,088 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 11:01:33,088 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 11:01:33,090 - INFO - Starting emotion detection
2025-05-23 11:01:33,114 - ERROR - No face detected in image
2025-05-23 11:01:33,114 - ERROR - Error detecting emotion: 400: No face detected in image
2025-05-23 11:01:33,116 - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 140, in detect_emotion_endpoint
    raise HTTPException(status_code=400, detail="No face detected in image")
fastapi.exceptions.HTTPException: 400: No face detected in image

2025-05-23 11:02:39,207 - INFO - Starting emotion detection request
2025-05-23 11:02:39,209 - INFO - Validated language: english
2025-05-23 11:02:39,306 - INFO - Initialized emotion detector
2025-05-23 11:02:39,306 - INFO - Starting image decoding
2025-05-23 11:02:39,307 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 11:02:39,307 - DEBUG - Successfully decoded base64 data, size: 18679 bytes
2025-05-23 11:02:39,308 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 11:02:39,311 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 11:02:39,312 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 11:02:39,312 - INFO - Starting emotion detection
2025-05-23 11:02:39,344 - ERROR - No face detected in image
2025-05-23 11:02:39,345 - ERROR - Error detecting emotion: 400: No face detected in image
2025-05-23 11:02:39,346 - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 140, in detect_emotion_endpoint
    raise HTTPException(status_code=400, detail="No face detected in image")
fastapi.exceptions.HTTPException: 400: No face detected in image

2025-05-23 11:03:09,220 - INFO - Starting emotion detection request
2025-05-23 11:03:09,220 - INFO - Validated language: english
2025-05-23 11:03:09,295 - INFO - Initialized emotion detector
2025-05-23 11:03:09,296 - INFO - Starting image decoding
2025-05-23 11:03:09,297 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 11:03:09,298 - DEBUG - Successfully decoded base64 data, size: 22256 bytes
2025-05-23 11:03:09,299 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 11:03:09,304 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 11:03:09,305 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 11:03:09,306 - INFO - Starting emotion detection
2025-05-23 11:03:09,333 - ERROR - No face detected in image
2025-05-23 11:03:09,334 - ERROR - Error detecting emotion: 400: No face detected in image
2025-05-23 11:03:09,336 - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 140, in detect_emotion_endpoint
    raise HTTPException(status_code=400, detail="No face detected in image")
fastapi.exceptions.HTTPException: 400: No face detected in image

2025-05-23 11:07:55,115 - INFO - Starting emotion detection request
2025-05-23 11:07:55,116 - INFO - Validated language: english
2025-05-23 11:07:55,200 - INFO - Initialized emotion detector
2025-05-23 11:07:55,200 - INFO - Starting image decoding
2025-05-23 11:07:55,201 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 11:07:55,202 - DEBUG - Successfully decoded base64 data, size: 22005 bytes
2025-05-23 11:07:55,203 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 11:07:55,208 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 11:07:55,209 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 11:07:55,210 - INFO - Starting emotion detection
2025-05-23 11:07:55,243 - ERROR - No face detected in image
2025-05-23 11:07:55,244 - ERROR - Error detecting emotion: 400: No face detected in image
2025-05-23 11:07:55,246 - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 140, in detect_emotion_endpoint
    raise HTTPException(status_code=400, detail="No face detected in image")
fastapi.exceptions.HTTPException: 400: No face detected in image

2025-05-23 11:09:50,556 - INFO - Starting emotion detection request
2025-05-23 11:09:50,557 - INFO - Validated language: english
2025-05-23 11:09:50,650 - INFO - Initialized emotion detector
2025-05-23 11:09:50,650 - INFO - Starting image decoding
2025-05-23 11:09:50,652 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 11:09:50,653 - DEBUG - Successfully decoded base64 data, size: 18898 bytes
2025-05-23 11:09:50,725 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 11:09:50,730 - DEBUG - Converted to NumPy array with shape: (288, 512, 3)
2025-05-23 11:09:50,731 - INFO - Successfully decoded image with shape: (288, 512, 3)
2025-05-23 11:09:50,733 - INFO - Starting emotion detection
2025-05-23 11:09:50,960 - WARNING - No faces detected in the image
2025-05-23 11:09:50,961 - ERROR - No face detected in image
2025-05-23 11:09:50,962 - ERROR - Error detecting emotion: 400: No face detected in image
2025-05-23 11:09:50,966 - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 140, in detect_emotion_endpoint
    raise HTTPException(status_code=400, detail="No face detected in image")
fastapi.exceptions.HTTPException: 400: No face detected in image

2025-05-23 12:13:40,013 - INFO - Starting emotion detection request
2025-05-23 12:13:40,014 - INFO - Validated language: english
2025-05-23 12:13:40,049 - INFO - Initialized emotion detector
2025-05-23 12:13:40,049 - INFO - Starting image decoding
2025-05-23 12:13:40,050 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:13:40,050 - DEBUG - Successfully decoded base64 data, size: 23819 bytes
2025-05-23 12:13:40,079 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:13:40,105 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:13:40,106 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:13:40,118 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:13:40,179 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:13:40,181 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:13:40,182 - INFO - Starting emotion detection
2025-05-23 12:13:40,182 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:13:40,187 - DEBUG - Attempting face detection with RGB->GRAY
2025-05-23 12:13:40,189 - DEBUG - Grayscale image shape: (480, 853), dtype: uint8
2025-05-23 12:13:40,201 - DEBUG - Saved debug grayscale image to debug_gray_RGB_GRAY.png
2025-05-23 12:13:41,567 - DEBUG - Attempting face detection with BGR->GRAY
2025-05-23 12:13:41,567 - DEBUG - Grayscale image shape: (480, 853), dtype: uint8
2025-05-23 12:13:41,574 - DEBUG - Saved debug grayscale image to debug_gray_BGR_GRAY.png
2025-05-23 12:13:42,797 - DEBUG - Attempting face detection with Direct BGR->GRAY
2025-05-23 12:13:42,797 - DEBUG - Grayscale image shape: (480, 853), dtype: uint8
2025-05-23 12:13:42,804 - DEBUG - Saved debug grayscale image to debug_gray_Direct BGR_GRAY.png
2025-05-23 12:13:43,974 - WARNING - No faces detected in the image after trying all methods
2025-05-23 12:13:43,975 - ERROR - No face detected in image
2025-05-23 12:13:43,975 - ERROR - Error detecting emotion: 400: No face detected in image
2025-05-23 12:13:43,976 - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 140, in detect_emotion_endpoint
    raise HTTPException(status_code=400, detail="No face detected in image")
fastapi.exceptions.HTTPException: 400: No face detected in image

2025-05-23 12:16:29,631 - INFO - Starting emotion detection request
2025-05-23 12:16:29,632 - INFO - Validated language: english
2025-05-23 12:16:29,634 - INFO - Initialized emotion detector
2025-05-23 12:16:29,634 - INFO - Starting image decoding
2025-05-23 12:16:29,635 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:16:29,636 - DEBUG - Successfully decoded base64 data, size: 23097 bytes
2025-05-23 12:16:29,696 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:16:29,731 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:16:29,731 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:16:29,741 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:16:29,804 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:16:29,804 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:16:29,805 - INFO - Starting emotion detection
2025-05-23 12:16:29,805 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:16:29,868 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:16:30,928 - DEBUG - Creating converter from 3 to 5
2025-05-23 12:16:31,219 - ERROR - DeepFace analysis failed: Face could not be detected. Please confirm that the picture is a face photo or consider to set enforce_detection param to False.
2025-05-23 12:16:31,222 - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\emotion_detection.py", line 40, in detect_emotion
    result = DeepFace.analyze(
             ^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\venv\Lib\site-packages\deepface\DeepFace.py", line 313, in analyze
    img_objs = functions.extract_faces(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\venv\Lib\site-packages\deepface\commons\functions.py", line 115, in extract_faces
    raise ValueError(
ValueError: Face could not be detected. Please confirm that the picture is a face photo or consider to set enforce_detection param to False.

2025-05-23 12:16:31,222 - ERROR - Could not detect face or analyze emotions. Please ensure your face is clearly visible, well-lit, and looking at the camera.
2025-05-23 12:16:31,223 - ERROR - Error detecting emotion: 400: Could not detect face or analyze emotions. Please ensure your face is clearly visible, well-lit, and looking at the camera.
2025-05-23 12:16:31,223 - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 140, in detect_emotion_endpoint
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: Could not detect face or analyze emotions. Please ensure your face is clearly visible, well-lit, and looking at the camera.

2025-05-23 12:16:45,700 - INFO - Starting emotion detection request
2025-05-23 12:16:45,701 - INFO - Validated language: english
2025-05-23 12:16:45,702 - INFO - Initialized emotion detector
2025-05-23 12:16:45,702 - INFO - Starting image decoding
2025-05-23 12:16:45,703 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:16:45,704 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:16:45,704 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:16:45,760 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:16:45,761 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:16:45,770 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:16:45,829 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:16:45,831 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:16:45,831 - INFO - Starting emotion detection
2025-05-23 12:16:45,831 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:16:45,890 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:16:46,420 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:16:46,420 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:16:46,421 - INFO - Attempting to get playlist recommendations
2025-05-23 12:16:46,421 - INFO - Initializing Spotify client...
2025-05-23 12:16:46,421 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:16:46,422 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:16:46,422 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic NmYxMDQzODVlNmQ2NDgxNTk0NDdjYzAzYzY3MDNiNmQ6MmYxMDIwZGNhNjAxNDdjOWI4NjJjZmMyZGU3ZGM5Mjc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 12:16:46,427 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 12:16:47,099 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 200 None
2025-05-23 12:16:47,108 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:16:47,111 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:16:47,915 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:16:47,918 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:16:47,920 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:16:47,932 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:16:48,093 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:16:48,095 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:16:48,095 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:16:48,096 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:16:48,098 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:16:48,098 - INFO - Preparing response
2025-05-23 12:16:48,113 - INFO - Starting emotion detection request
2025-05-23 12:16:48,113 - INFO - Validated language: english
2025-05-23 12:16:48,113 - INFO - Initialized emotion detector
2025-05-23 12:16:48,114 - INFO - Starting image decoding
2025-05-23 12:16:48,115 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:16:48,115 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:16:48,116 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:16:48,152 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:16:48,152 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:16:48,162 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:16:48,222 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:16:48,222 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:16:48,223 - INFO - Starting emotion detection
2025-05-23 12:16:48,223 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:16:48,281 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:16:48,450 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:16:48,450 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:16:48,451 - INFO - Attempting to get playlist recommendations
2025-05-23 12:16:48,451 - INFO - Initializing Spotify client...
2025-05-23 12:16:48,451 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:16:48,452 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:16:48,452 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:16:48,455 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:16:49,119 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:16:49,125 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:16:49,128 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:16:49,129 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:16:49,287 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:16:49,288 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:16:49,289 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:16:49,290 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:16:49,293 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:16:49,295 - INFO - Preparing response
2025-05-23 12:16:49,314 - INFO - Starting emotion detection request
2025-05-23 12:16:49,315 - INFO - Validated language: english
2025-05-23 12:16:49,315 - INFO - Initialized emotion detector
2025-05-23 12:16:49,316 - INFO - Starting image decoding
2025-05-23 12:16:49,317 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:16:49,318 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:16:49,318 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:16:49,356 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:16:49,358 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:16:49,367 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:16:49,426 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:16:49,426 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:16:49,427 - INFO - Starting emotion detection
2025-05-23 12:16:49,427 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:16:49,485 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:16:49,650 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:16:49,651 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:16:49,651 - INFO - Attempting to get playlist recommendations
2025-05-23 12:16:49,651 - INFO - Initializing Spotify client...
2025-05-23 12:16:49,651 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:16:49,652 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:16:49,652 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:16:49,654 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:16:50,354 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:16:50,356 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:16:50,366 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:16:50,367 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:16:50,536 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:16:50,539 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:16:50,539 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:16:50,541 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:16:50,547 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:16:50,549 - INFO - Preparing response
2025-05-23 12:16:50,571 - INFO - Starting emotion detection request
2025-05-23 12:16:50,586 - INFO - Validated language: english
2025-05-23 12:16:50,591 - INFO - Initialized emotion detector
2025-05-23 12:16:50,594 - INFO - Starting image decoding
2025-05-23 12:16:50,596 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:16:50,597 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:16:50,598 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:16:50,627 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:16:50,628 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:16:50,636 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:16:50,698 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:16:50,698 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:16:50,698 - INFO - Starting emotion detection
2025-05-23 12:16:50,700 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:16:50,757 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:16:50,917 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:16:50,917 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:16:50,918 - INFO - Attempting to get playlist recommendations
2025-05-23 12:16:50,918 - INFO - Initializing Spotify client...
2025-05-23 12:16:50,918 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:16:50,919 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:16:50,919 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:16:50,922 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:16:51,618 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:16:51,620 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:16:51,623 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:16:51,624 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:16:51,799 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:16:51,800 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:16:51,801 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:16:51,801 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:16:51,803 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:16:51,803 - INFO - Preparing response
2025-05-23 12:16:51,816 - INFO - Starting emotion detection request
2025-05-23 12:16:51,817 - INFO - Validated language: english
2025-05-23 12:16:51,817 - INFO - Initialized emotion detector
2025-05-23 12:16:51,817 - INFO - Starting image decoding
2025-05-23 12:16:51,818 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:16:51,818 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:16:51,818 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:16:51,856 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:16:51,858 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:16:51,869 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:16:51,947 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:16:51,947 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:16:51,949 - INFO - Starting emotion detection
2025-05-23 12:16:51,949 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:16:52,008 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:16:52,169 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:16:52,170 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:16:52,170 - INFO - Attempting to get playlist recommendations
2025-05-23 12:16:52,170 - INFO - Initializing Spotify client...
2025-05-23 12:16:52,170 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:16:52,171 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:16:52,171 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:16:52,174 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:16:53,515 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:16:53,516 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:16:53,518 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:16:53,520 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:16:53,824 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:16:53,825 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:16:53,826 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:16:53,827 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:16:53,830 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:16:53,831 - INFO - Preparing response
2025-05-23 12:16:53,869 - INFO - Starting emotion detection request
2025-05-23 12:16:53,869 - INFO - Validated language: english
2025-05-23 12:16:53,870 - INFO - Initialized emotion detector
2025-05-23 12:16:53,871 - INFO - Starting image decoding
2025-05-23 12:16:53,873 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:16:53,874 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:16:53,875 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:16:53,914 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:16:53,914 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:16:53,926 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:16:54,001 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:16:54,001 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:16:54,001 - INFO - Starting emotion detection
2025-05-23 12:16:54,002 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:16:54,064 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:16:54,238 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:16:54,239 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:16:54,239 - INFO - Attempting to get playlist recommendations
2025-05-23 12:16:54,239 - INFO - Initializing Spotify client...
2025-05-23 12:16:54,240 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:16:54,240 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:16:54,240 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:16:54,242 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:16:55,174 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:16:55,176 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:16:55,180 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:16:55,181 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:16:55,345 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:16:55,346 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:16:55,346 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:16:55,347 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:16:55,348 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:16:55,349 - INFO - Preparing response
2025-05-23 12:16:55,376 - INFO - Starting emotion detection request
2025-05-23 12:16:55,376 - INFO - Validated language: english
2025-05-23 12:16:55,378 - INFO - Initialized emotion detector
2025-05-23 12:16:55,378 - INFO - Starting image decoding
2025-05-23 12:16:55,380 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:16:55,380 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:16:55,381 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:16:55,425 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:16:55,426 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:16:55,435 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:16:55,499 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:16:55,500 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:16:55,500 - INFO - Starting emotion detection
2025-05-23 12:16:55,500 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:16:55,560 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:16:55,715 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:16:55,716 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:16:55,716 - INFO - Attempting to get playlist recommendations
2025-05-23 12:16:55,716 - INFO - Initializing Spotify client...
2025-05-23 12:16:55,716 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:16:55,717 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:16:55,717 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:16:55,719 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:16:56,407 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:16:56,408 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:16:56,411 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:16:56,411 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:16:56,571 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:16:56,573 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:16:56,574 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:16:56,575 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:16:56,578 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:16:56,578 - INFO - Preparing response
2025-05-23 12:16:56,594 - INFO - Starting emotion detection request
2025-05-23 12:16:56,595 - INFO - Validated language: english
2025-05-23 12:16:56,595 - INFO - Initialized emotion detector
2025-05-23 12:16:56,595 - INFO - Starting image decoding
2025-05-23 12:16:56,596 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:16:56,597 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:16:56,598 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:16:56,626 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:16:56,626 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:16:56,635 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:16:56,698 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:16:56,698 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:16:56,699 - INFO - Starting emotion detection
2025-05-23 12:16:56,699 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:16:56,760 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:16:56,907 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:16:56,907 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:16:56,907 - INFO - Attempting to get playlist recommendations
2025-05-23 12:16:56,908 - INFO - Initializing Spotify client...
2025-05-23 12:16:56,908 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:16:56,909 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:16:56,909 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:16:56,911 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:16:57,612 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:16:57,622 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:16:57,628 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:16:57,629 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:16:57,807 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:16:57,809 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:16:57,809 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:16:57,810 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:16:57,812 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:16:57,812 - INFO - Preparing response
2025-05-23 12:16:57,830 - INFO - Starting emotion detection request
2025-05-23 12:16:57,831 - INFO - Validated language: english
2025-05-23 12:16:57,832 - INFO - Initialized emotion detector
2025-05-23 12:16:57,833 - INFO - Starting image decoding
2025-05-23 12:16:57,834 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:16:57,834 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:16:57,836 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:16:57,864 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:16:57,865 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:16:57,871 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:16:57,910 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:16:57,911 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:16:57,911 - INFO - Starting emotion detection
2025-05-23 12:16:57,911 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:16:57,948 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:16:58,027 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:16:58,027 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:16:58,027 - INFO - Attempting to get playlist recommendations
2025-05-23 12:16:58,027 - INFO - Initializing Spotify client...
2025-05-23 12:16:58,027 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:16:58,027 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:16:58,028 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:16:58,028 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:16:58,582 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:16:58,584 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:16:58,584 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:16:58,584 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:16:58,740 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:16:58,740 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:16:58,741 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:16:58,741 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:16:58,741 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:16:58,741 - INFO - Preparing response
2025-05-23 12:16:58,757 - INFO - Starting emotion detection request
2025-05-23 12:16:58,758 - INFO - Validated language: english
2025-05-23 12:16:58,758 - INFO - Initialized emotion detector
2025-05-23 12:16:58,758 - INFO - Starting image decoding
2025-05-23 12:16:58,758 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:16:58,759 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:16:58,759 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:16:58,773 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:16:58,774 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:16:58,779 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:16:58,814 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:16:58,814 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:16:58,814 - INFO - Starting emotion detection
2025-05-23 12:16:58,816 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:16:58,852 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:16:58,933 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:16:58,933 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:16:58,933 - INFO - Attempting to get playlist recommendations
2025-05-23 12:16:58,934 - INFO - Initializing Spotify client...
2025-05-23 12:16:58,934 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:16:58,934 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:16:58,934 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:16:58,935 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:16:59,573 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:16:59,574 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:16:59,577 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:16:59,578 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:16:59,759 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:16:59,759 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:16:59,759 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:16:59,760 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:16:59,762 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:16:59,763 - INFO - Preparing response
2025-05-23 12:16:59,784 - INFO - Starting emotion detection request
2025-05-23 12:16:59,786 - INFO - Validated language: english
2025-05-23 12:16:59,786 - INFO - Initialized emotion detector
2025-05-23 12:16:59,786 - INFO - Starting image decoding
2025-05-23 12:16:59,786 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:16:59,787 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:16:59,787 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:16:59,809 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:16:59,809 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:16:59,815 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:16:59,851 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:16:59,852 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:16:59,852 - INFO - Starting emotion detection
2025-05-23 12:16:59,853 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:16:59,889 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:16:59,975 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:16:59,976 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:16:59,976 - INFO - Attempting to get playlist recommendations
2025-05-23 12:16:59,976 - INFO - Initializing Spotify client...
2025-05-23 12:16:59,976 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:16:59,976 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:16:59,976 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:16:59,978 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:00,527 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:00,529 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:00,530 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:00,531 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:00,698 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:00,698 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:00,698 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:00,699 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:00,700 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:00,700 - INFO - Preparing response
2025-05-23 12:17:00,712 - INFO - Starting emotion detection request
2025-05-23 12:17:00,712 - INFO - Validated language: english
2025-05-23 12:17:00,712 - INFO - Initialized emotion detector
2025-05-23 12:17:00,714 - INFO - Starting image decoding
2025-05-23 12:17:00,714 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:00,714 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:00,716 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:00,730 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:00,731 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:00,736 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:00,773 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:00,773 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:00,773 - INFO - Starting emotion detection
2025-05-23 12:17:00,775 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:00,810 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:00,894 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:00,894 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:00,894 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:00,894 - INFO - Initializing Spotify client...
2025-05-23 12:17:00,894 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:00,894 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:00,894 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:00,896 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:01,481 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:01,482 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:01,482 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:01,484 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:01,660 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:01,661 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:01,661 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:01,661 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:01,662 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:01,663 - INFO - Preparing response
2025-05-23 12:17:01,686 - INFO - Starting emotion detection request
2025-05-23 12:17:01,686 - INFO - Validated language: english
2025-05-23 12:17:01,687 - INFO - Initialized emotion detector
2025-05-23 12:17:01,688 - INFO - Starting image decoding
2025-05-23 12:17:01,688 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:01,690 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:01,690 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:01,725 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:01,726 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:01,735 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:01,780 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:01,780 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:01,780 - INFO - Starting emotion detection
2025-05-23 12:17:01,781 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:01,821 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:01,907 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:01,907 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:01,907 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:01,908 - INFO - Initializing Spotify client...
2025-05-23 12:17:01,908 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:01,908 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:01,908 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:01,909 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:02,429 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:02,429 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:02,432 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:02,432 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:02,593 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:02,595 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:02,595 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:02,596 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:02,598 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:02,599 - INFO - Preparing response
2025-05-23 12:17:02,615 - INFO - Starting emotion detection request
2025-05-23 12:17:02,615 - INFO - Validated language: english
2025-05-23 12:17:02,616 - INFO - Initialized emotion detector
2025-05-23 12:17:02,616 - INFO - Starting image decoding
2025-05-23 12:17:02,617 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:02,618 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:02,618 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:02,641 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:02,642 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:02,647 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:02,685 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:02,685 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:02,685 - INFO - Starting emotion detection
2025-05-23 12:17:02,686 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:02,729 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:02,810 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:02,810 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:02,810 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:02,810 - INFO - Initializing Spotify client...
2025-05-23 12:17:02,810 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:02,810 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:02,810 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:02,811 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:03,386 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:03,387 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:03,388 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:03,388 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:03,564 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:03,565 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:03,565 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:03,565 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:03,566 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:03,567 - INFO - Preparing response
2025-05-23 12:17:03,579 - INFO - Starting emotion detection request
2025-05-23 12:17:03,579 - INFO - Validated language: english
2025-05-23 12:17:03,579 - INFO - Initialized emotion detector
2025-05-23 12:17:03,580 - INFO - Starting image decoding
2025-05-23 12:17:03,580 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:03,580 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:03,580 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:03,597 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:03,598 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:03,603 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:03,639 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:03,640 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:03,640 - INFO - Starting emotion detection
2025-05-23 12:17:03,640 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:03,677 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:03,755 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:03,755 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:03,755 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:03,755 - INFO - Initializing Spotify client...
2025-05-23 12:17:03,756 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:03,756 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:03,756 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:03,757 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:04,266 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:04,267 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:04,268 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:04,269 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:04,434 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:04,435 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:04,436 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:04,437 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:04,439 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:04,439 - INFO - Preparing response
2025-05-23 12:17:04,458 - INFO - Starting emotion detection request
2025-05-23 12:17:04,459 - INFO - Validated language: english
2025-05-23 12:17:04,459 - INFO - Initialized emotion detector
2025-05-23 12:17:04,459 - INFO - Starting image decoding
2025-05-23 12:17:04,460 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:04,460 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:04,460 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:04,494 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:04,495 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:04,501 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:04,536 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:04,536 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:04,537 - INFO - Starting emotion detection
2025-05-23 12:17:04,537 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:04,576 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:04,662 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:04,662 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:04,662 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:04,662 - INFO - Initializing Spotify client...
2025-05-23 12:17:04,662 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:04,662 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:04,664 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:04,664 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:05,228 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:05,228 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:05,229 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:05,229 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:05,402 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:05,403 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:05,403 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:05,404 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:05,406 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:05,406 - INFO - Preparing response
2025-05-23 12:17:05,420 - INFO - Starting emotion detection request
2025-05-23 12:17:05,420 - INFO - Validated language: english
2025-05-23 12:17:05,420 - INFO - Initialized emotion detector
2025-05-23 12:17:05,421 - INFO - Starting image decoding
2025-05-23 12:17:05,421 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:05,422 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:05,422 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:05,445 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:05,446 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:05,452 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:05,489 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:05,489 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:05,489 - INFO - Starting emotion detection
2025-05-23 12:17:05,490 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:05,526 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:05,607 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:05,607 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:05,607 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:05,607 - INFO - Initializing Spotify client...
2025-05-23 12:17:05,607 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:05,608 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:05,608 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:05,608 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:06,149 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:06,150 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:06,151 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:06,151 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:06,310 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:06,310 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:06,310 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:06,310 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:06,312 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:06,312 - INFO - Preparing response
2025-05-23 12:17:06,351 - INFO - Starting emotion detection request
2025-05-23 12:17:06,352 - INFO - Validated language: english
2025-05-23 12:17:06,352 - INFO - Initialized emotion detector
2025-05-23 12:17:06,352 - INFO - Starting image decoding
2025-05-23 12:17:06,353 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:06,353 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:06,353 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:06,380 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:06,381 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:06,388 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:06,442 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:06,444 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:06,444 - INFO - Starting emotion detection
2025-05-23 12:17:06,444 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:06,484 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:06,576 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:06,576 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:06,576 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:06,576 - INFO - Initializing Spotify client...
2025-05-23 12:17:06,576 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:06,576 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:06,578 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:06,579 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:07,132 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:07,134 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:07,136 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:07,136 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:07,305 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:07,306 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:07,306 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:07,306 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:07,306 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:07,308 - INFO - Preparing response
2025-05-23 12:17:07,319 - INFO - Starting emotion detection request
2025-05-23 12:17:07,319 - INFO - Validated language: english
2025-05-23 12:17:07,320 - INFO - Initialized emotion detector
2025-05-23 12:17:07,320 - INFO - Starting image decoding
2025-05-23 12:17:07,321 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:07,321 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:07,322 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:07,339 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:07,339 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:07,345 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:07,381 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:07,382 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:07,382 - INFO - Starting emotion detection
2025-05-23 12:17:07,382 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:07,436 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:07,524 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:07,524 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:07,524 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:07,524 - INFO - Initializing Spotify client...
2025-05-23 12:17:07,524 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:07,525 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:07,525 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:07,526 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:08,080 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:08,080 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:08,082 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:08,082 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:08,252 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:08,253 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:08,253 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:08,253 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:08,255 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:08,255 - INFO - Preparing response
2025-05-23 12:17:08,262 - INFO - Starting emotion detection request
2025-05-23 12:17:08,262 - INFO - Validated language: english
2025-05-23 12:17:08,264 - INFO - Initialized emotion detector
2025-05-23 12:17:08,264 - INFO - Starting image decoding
2025-05-23 12:17:08,264 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:08,264 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:08,264 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:08,278 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:08,278 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:08,284 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:08,319 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:08,320 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:08,320 - INFO - Starting emotion detection
2025-05-23 12:17:08,320 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:08,357 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:08,441 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:08,441 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:08,442 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:08,442 - INFO - Initializing Spotify client...
2025-05-23 12:17:08,442 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:08,442 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:08,442 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:08,444 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:09,000 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:09,001 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:09,001 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:09,002 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:09,175 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:09,175 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:09,176 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:09,176 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:09,177 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:09,177 - INFO - Preparing response
2025-05-23 12:17:09,191 - INFO - Starting emotion detection request
2025-05-23 12:17:09,191 - INFO - Validated language: english
2025-05-23 12:17:09,191 - INFO - Initialized emotion detector
2025-05-23 12:17:09,191 - INFO - Starting image decoding
2025-05-23 12:17:09,191 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:09,191 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:09,191 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:09,206 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:09,208 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:09,213 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:09,251 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:09,251 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:09,251 - INFO - Starting emotion detection
2025-05-23 12:17:09,251 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:09,289 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:09,374 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:09,374 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:09,374 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:09,374 - INFO - Initializing Spotify client...
2025-05-23 12:17:09,374 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:09,374 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:09,375 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:09,376 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:09,964 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:09,965 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:09,966 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:09,966 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:10,142 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:10,142 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:10,142 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:10,142 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:10,143 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:10,144 - INFO - Preparing response
2025-05-23 12:17:10,150 - INFO - Starting emotion detection request
2025-05-23 12:17:10,150 - INFO - Validated language: english
2025-05-23 12:17:10,150 - INFO - Initialized emotion detector
2025-05-23 12:17:10,150 - INFO - Starting image decoding
2025-05-23 12:17:10,151 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:10,151 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:10,151 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:10,165 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:10,166 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:10,171 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:10,212 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:10,212 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:10,212 - INFO - Starting emotion detection
2025-05-23 12:17:10,212 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:10,248 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:10,442 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:10,442 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:10,442 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:10,442 - INFO - Initializing Spotify client...
2025-05-23 12:17:10,442 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:10,442 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:10,443 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:10,444 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:11,022 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:11,023 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:11,024 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:11,024 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:11,199 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:11,199 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:11,199 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:11,199 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:11,200 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:11,201 - INFO - Preparing response
2025-05-23 12:17:11,210 - INFO - Starting emotion detection request
2025-05-23 12:17:11,210 - INFO - Validated language: english
2025-05-23 12:17:11,210 - INFO - Initialized emotion detector
2025-05-23 12:17:11,210 - INFO - Starting image decoding
2025-05-23 12:17:11,210 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:11,210 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:11,210 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:11,227 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:11,227 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:11,232 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:11,272 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:11,272 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:11,273 - INFO - Starting emotion detection
2025-05-23 12:17:11,273 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:11,309 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:11,402 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:11,402 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:11,402 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:11,402 - INFO - Initializing Spotify client...
2025-05-23 12:17:11,402 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:11,403 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:11,403 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:11,404 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:11,925 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:11,926 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:11,931 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:11,932 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:12,087 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:12,089 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:12,089 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:12,089 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:12,090 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:12,090 - INFO - Preparing response
2025-05-23 12:17:12,102 - INFO - Starting emotion detection request
2025-05-23 12:17:12,102 - INFO - Validated language: english
2025-05-23 12:17:12,102 - INFO - Initialized emotion detector
2025-05-23 12:17:12,102 - INFO - Starting image decoding
2025-05-23 12:17:12,103 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:12,103 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:12,103 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:12,124 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:12,125 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:12,129 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:12,166 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:12,166 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:12,166 - INFO - Starting emotion detection
2025-05-23 12:17:12,166 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:12,201 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:12,280 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:12,280 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:12,280 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:12,280 - INFO - Initializing Spotify client...
2025-05-23 12:17:12,280 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:12,280 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:12,280 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:12,282 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:12,884 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:13,186 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:13,186 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:13,187 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:13,354 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:13,356 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:13,357 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:13,357 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:13,361 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:13,361 - INFO - Preparing response
2025-05-23 12:17:13,386 - INFO - Starting emotion detection request
2025-05-23 12:17:13,386 - INFO - Validated language: english
2025-05-23 12:17:13,387 - INFO - Initialized emotion detector
2025-05-23 12:17:13,388 - INFO - Starting image decoding
2025-05-23 12:17:13,389 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:13,389 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:13,390 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:13,430 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:13,430 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:13,441 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:13,494 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:13,495 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:13,495 - INFO - Starting emotion detection
2025-05-23 12:17:13,495 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:13,533 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:13,617 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:13,617 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:13,618 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:13,618 - INFO - Initializing Spotify client...
2025-05-23 12:17:13,618 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:13,618 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:13,619 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:13,620 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:14,150 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:14,150 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:14,153 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:14,154 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:14,316 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:14,317 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:14,317 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:14,318 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:14,320 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:14,321 - INFO - Preparing response
2025-05-23 12:17:14,341 - INFO - Starting emotion detection request
2025-05-23 12:17:14,346 - INFO - Validated language: english
2025-05-23 12:17:14,346 - INFO - Initialized emotion detector
2025-05-23 12:17:14,347 - INFO - Starting image decoding
2025-05-23 12:17:14,348 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:14,348 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:14,349 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:14,367 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:14,367 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:14,373 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:14,409 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:14,409 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:14,409 - INFO - Starting emotion detection
2025-05-23 12:17:14,409 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:14,446 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:14,528 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:14,528 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:14,529 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:14,529 - INFO - Initializing Spotify client...
2025-05-23 12:17:14,529 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:14,529 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:14,529 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:14,530 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:15,102 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:15,103 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:15,103 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:15,104 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:15,282 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:15,283 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:15,283 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:15,284 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:15,284 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:15,284 - INFO - Preparing response
2025-05-23 12:17:15,301 - INFO - Starting emotion detection request
2025-05-23 12:17:15,302 - INFO - Validated language: english
2025-05-23 12:17:15,303 - INFO - Initialized emotion detector
2025-05-23 12:17:15,303 - INFO - Starting image decoding
2025-05-23 12:17:15,304 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:15,304 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:15,305 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:15,325 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:15,326 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:15,332 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:15,380 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:15,381 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:15,381 - INFO - Starting emotion detection
2025-05-23 12:17:15,381 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:15,420 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:15,503 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:15,503 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:15,503 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:15,503 - INFO - Initializing Spotify client...
2025-05-23 12:17:15,503 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:15,505 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:15,505 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:15,506 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:16,200 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:16,200 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:16,202 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:16,203 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:16,373 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:16,375 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:16,375 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:16,375 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:16,377 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:16,377 - INFO - Preparing response
2025-05-23 12:17:16,384 - INFO - Starting emotion detection request
2025-05-23 12:17:16,385 - INFO - Validated language: english
2025-05-23 12:17:16,385 - INFO - Initialized emotion detector
2025-05-23 12:17:16,385 - INFO - Starting image decoding
2025-05-23 12:17:16,386 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:16,386 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:16,386 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:16,401 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:16,401 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:16,407 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:16,444 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:16,444 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:16,444 - INFO - Starting emotion detection
2025-05-23 12:17:16,445 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:16,501 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:16,608 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:16,608 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:16,608 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:16,608 - INFO - Initializing Spotify client...
2025-05-23 12:17:16,608 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:16,608 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:16,609 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:16,610 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:17,184 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:17,186 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:17,189 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:17,189 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:17,353 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:17,354 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:17,354 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:17,355 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:17,356 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:17,357 - INFO - Preparing response
2025-05-23 12:17:17,365 - INFO - Starting emotion detection request
2025-05-23 12:17:17,366 - INFO - Validated language: english
2025-05-23 12:17:17,366 - INFO - Initialized emotion detector
2025-05-23 12:17:17,366 - INFO - Starting image decoding
2025-05-23 12:17:17,366 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:17,366 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:17,366 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:17,381 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:17,382 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:17,389 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:17,427 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:17,427 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:17,428 - INFO - Starting emotion detection
2025-05-23 12:17:17,428 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:17,468 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:17,558 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:17,558 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:17,558 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:17,559 - INFO - Initializing Spotify client...
2025-05-23 12:17:17,559 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:17,559 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:17,559 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:17,561 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:18,119 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:18,122 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:18,127 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:18,128 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:18,297 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:18,298 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:18,300 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:18,300 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:18,305 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:18,306 - INFO - Preparing response
2025-05-23 12:17:18,320 - INFO - Starting emotion detection request
2025-05-23 12:17:18,321 - INFO - Validated language: english
2025-05-23 12:17:18,321 - INFO - Initialized emotion detector
2025-05-23 12:17:18,322 - INFO - Starting image decoding
2025-05-23 12:17:18,323 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:18,325 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:18,326 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:18,348 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:18,348 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:18,355 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:18,393 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:18,395 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:18,395 - INFO - Starting emotion detection
2025-05-23 12:17:18,395 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:18,433 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:18,528 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:18,529 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:18,529 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:18,529 - INFO - Initializing Spotify client...
2025-05-23 12:17:18,529 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:18,529 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:18,529 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:18,531 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:19,088 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:19,089 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:19,090 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:19,090 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:19,257 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:19,258 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:19,258 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:19,258 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:19,261 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:19,262 - INFO - Preparing response
2025-05-23 12:17:19,274 - INFO - Starting emotion detection request
2025-05-23 12:17:19,274 - INFO - Validated language: english
2025-05-23 12:17:19,275 - INFO - Initialized emotion detector
2025-05-23 12:17:19,275 - INFO - Starting image decoding
2025-05-23 12:17:19,275 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:19,276 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:19,276 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:19,293 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:19,295 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:19,301 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:19,340 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:19,340 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:19,341 - INFO - Starting emotion detection
2025-05-23 12:17:19,341 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:19,379 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:19,474 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:19,474 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:19,474 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:19,475 - INFO - Initializing Spotify client...
2025-05-23 12:17:19,475 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:19,475 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:19,476 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:19,476 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:20,073 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:20,074 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:20,076 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:20,076 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:20,252 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:20,253 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:20,254 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:20,254 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:20,256 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:20,256 - INFO - Preparing response
2025-05-23 12:17:20,267 - INFO - Starting emotion detection request
2025-05-23 12:17:20,268 - INFO - Validated language: english
2025-05-23 12:17:20,268 - INFO - Initialized emotion detector
2025-05-23 12:17:20,269 - INFO - Starting image decoding
2025-05-23 12:17:20,270 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:20,270 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:20,272 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:20,292 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:20,294 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:20,299 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:20,336 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:20,337 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:20,337 - INFO - Starting emotion detection
2025-05-23 12:17:20,338 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:20,375 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:20,474 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:20,474 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:20,475 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:20,475 - INFO - Initializing Spotify client...
2025-05-23 12:17:20,475 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:20,476 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:20,476 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:20,478 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:21,111 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:21,113 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:21,116 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:21,117 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:21,294 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:21,295 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:21,296 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:21,296 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:21,298 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:21,298 - INFO - Preparing response
2025-05-23 12:17:21,313 - INFO - Starting emotion detection request
2025-05-23 12:17:21,313 - INFO - Validated language: english
2025-05-23 12:17:21,313 - INFO - Initialized emotion detector
2025-05-23 12:17:21,313 - INFO - Starting image decoding
2025-05-23 12:17:21,314 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:21,314 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:21,316 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:21,343 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:21,343 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:21,349 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:21,389 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:21,389 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:21,389 - INFO - Starting emotion detection
2025-05-23 12:17:21,390 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:21,428 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:21,536 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:21,536 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:21,537 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:21,537 - INFO - Initializing Spotify client...
2025-05-23 12:17:21,537 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:21,538 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:21,539 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:21,540 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:22,163 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:22,164 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:22,164 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:22,165 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:22,346 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:22,347 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:22,347 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:22,348 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:22,348 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:22,350 - INFO - Preparing response
2025-05-23 12:17:22,359 - INFO - Starting emotion detection request
2025-05-23 12:17:22,359 - INFO - Validated language: english
2025-05-23 12:17:22,360 - INFO - Initialized emotion detector
2025-05-23 12:17:22,360 - INFO - Starting image decoding
2025-05-23 12:17:22,360 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:22,360 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:22,360 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:22,380 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:22,381 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:22,387 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:22,428 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:22,428 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:22,428 - INFO - Starting emotion detection
2025-05-23 12:17:22,428 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:22,466 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:22,558 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:22,558 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:22,558 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:22,558 - INFO - Initializing Spotify client...
2025-05-23 12:17:22,558 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:22,558 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:22,558 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:22,559 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:23,123 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:23,124 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:23,125 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:23,125 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:23,301 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:23,302 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:23,303 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:23,303 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:23,306 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:23,306 - INFO - Preparing response
2025-05-23 12:17:23,319 - INFO - Starting emotion detection request
2025-05-23 12:17:23,320 - INFO - Validated language: english
2025-05-23 12:17:23,320 - INFO - Initialized emotion detector
2025-05-23 12:17:23,321 - INFO - Starting image decoding
2025-05-23 12:17:23,321 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:23,321 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:23,321 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:23,340 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:23,340 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:23,346 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:23,392 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:23,393 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:23,394 - INFO - Starting emotion detection
2025-05-23 12:17:23,394 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:23,430 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:23,516 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:23,516 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:23,516 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:23,517 - INFO - Initializing Spotify client...
2025-05-23 12:17:23,517 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:23,517 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:23,518 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:23,519 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:24,056 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:24,058 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:24,058 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:24,058 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:24,213 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:24,214 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:24,214 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:24,214 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:24,216 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:24,217 - INFO - Preparing response
2025-05-23 12:17:24,225 - INFO - Starting emotion detection request
2025-05-23 12:17:24,225 - INFO - Validated language: english
2025-05-23 12:17:24,225 - INFO - Initialized emotion detector
2025-05-23 12:17:24,225 - INFO - Starting image decoding
2025-05-23 12:17:24,225 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:24,226 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:24,226 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:24,240 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:24,241 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:24,246 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:24,284 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:24,286 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:24,286 - INFO - Starting emotion detection
2025-05-23 12:17:24,286 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:24,323 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:24,408 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:24,409 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:24,409 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:24,409 - INFO - Initializing Spotify client...
2025-05-23 12:17:24,409 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:24,409 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:24,410 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:24,411 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:24,992 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:24,992 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:24,993 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:24,993 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:25,175 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:25,176 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:25,176 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:25,176 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:25,177 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:25,177 - INFO - Preparing response
2025-05-23 12:17:25,188 - INFO - Starting emotion detection request
2025-05-23 12:17:25,188 - INFO - Validated language: english
2025-05-23 12:17:25,188 - INFO - Initialized emotion detector
2025-05-23 12:17:25,188 - INFO - Starting image decoding
2025-05-23 12:17:25,188 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:25,188 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:25,189 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:25,203 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:25,203 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:25,209 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:25,247 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:25,247 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:25,247 - INFO - Starting emotion detection
2025-05-23 12:17:25,247 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:25,284 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:25,362 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:25,362 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:25,362 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:25,363 - INFO - Initializing Spotify client...
2025-05-23 12:17:25,363 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:25,363 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:25,363 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:25,364 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:25,918 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:25,918 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:25,920 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:25,920 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:26,089 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:26,090 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:26,090 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:26,090 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:26,092 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:26,092 - INFO - Preparing response
2025-05-23 12:17:26,100 - INFO - Starting emotion detection request
2025-05-23 12:17:26,101 - INFO - Validated language: english
2025-05-23 12:17:26,101 - INFO - Initialized emotion detector
2025-05-23 12:17:26,101 - INFO - Starting image decoding
2025-05-23 12:17:26,101 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:26,101 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:26,102 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:26,119 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:26,119 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:26,126 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:26,161 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:26,161 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:26,162 - INFO - Starting emotion detection
2025-05-23 12:17:26,162 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:26,212 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:26,326 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:26,327 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:26,327 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:26,327 - INFO - Initializing Spotify client...
2025-05-23 12:17:26,327 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:26,327 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:26,328 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:26,329 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:26,924 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:26,925 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:26,926 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:26,926 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:27,093 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:27,094 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:27,095 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:27,095 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:27,096 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:27,096 - INFO - Preparing response
2025-05-23 12:17:27,105 - INFO - Starting emotion detection request
2025-05-23 12:17:27,106 - INFO - Validated language: english
2025-05-23 12:17:27,106 - INFO - Initialized emotion detector
2025-05-23 12:17:27,106 - INFO - Starting image decoding
2025-05-23 12:17:27,106 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:27,106 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:27,106 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:27,122 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:27,123 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:27,127 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:27,167 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:27,167 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:27,168 - INFO - Starting emotion detection
2025-05-23 12:17:27,168 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:27,206 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:27,293 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:27,293 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:27,293 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:27,293 - INFO - Initializing Spotify client...
2025-05-23 12:17:27,295 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:27,295 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:27,295 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:27,297 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:27,911 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:27,913 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:27,917 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:27,918 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:28,086 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:28,086 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:28,087 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:28,087 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:28,087 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:28,088 - INFO - Preparing response
2025-05-23 12:17:28,093 - INFO - Starting emotion detection request
2025-05-23 12:17:28,094 - INFO - Validated language: english
2025-05-23 12:17:28,094 - INFO - Initialized emotion detector
2025-05-23 12:17:28,094 - INFO - Starting image decoding
2025-05-23 12:17:28,094 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:28,094 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:28,094 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:28,108 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:28,109 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:28,114 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:28,150 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:28,152 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:28,152 - INFO - Starting emotion detection
2025-05-23 12:17:28,152 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:28,187 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:28,270 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:28,270 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:28,270 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:28,271 - INFO - Initializing Spotify client...
2025-05-23 12:17:28,271 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:28,271 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:28,271 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:28,272 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:28,879 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:28,880 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:28,881 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:28,881 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:29,054 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:29,054 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:29,054 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:29,054 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:29,056 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:29,056 - INFO - Preparing response
2025-05-23 12:17:29,062 - INFO - Starting emotion detection request
2025-05-23 12:17:29,062 - INFO - Validated language: english
2025-05-23 12:17:29,062 - INFO - Initialized emotion detector
2025-05-23 12:17:29,062 - INFO - Starting image decoding
2025-05-23 12:17:29,062 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:29,062 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:29,064 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:29,078 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:29,078 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:29,084 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:29,120 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:29,120 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:29,120 - INFO - Starting emotion detection
2025-05-23 12:17:29,121 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:29,156 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:29,237 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:29,237 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:29,237 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:29,237 - INFO - Initializing Spotify client...
2025-05-23 12:17:29,237 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:29,237 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:29,237 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:29,239 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:29,800 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:29,802 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:29,804 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:29,804 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:29,973 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:29,974 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:29,975 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:29,975 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:29,976 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:29,976 - INFO - Preparing response
2025-05-23 12:17:29,984 - INFO - Starting emotion detection request
2025-05-23 12:17:29,985 - INFO - Validated language: english
2025-05-23 12:17:29,985 - INFO - Initialized emotion detector
2025-05-23 12:17:29,985 - INFO - Starting image decoding
2025-05-23 12:17:29,985 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:29,986 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:29,987 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:30,002 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:30,003 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:30,010 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:30,045 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:30,046 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:30,046 - INFO - Starting emotion detection
2025-05-23 12:17:30,046 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:30,086 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:30,168 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:30,168 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:30,168 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:30,168 - INFO - Initializing Spotify client...
2025-05-23 12:17:30,168 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:30,169 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:30,169 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:30,170 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:30,733 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:30,736 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:30,739 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:30,739 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:30,903 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:30,903 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:30,904 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:30,904 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:30,906 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:30,906 - INFO - Preparing response
2025-05-23 12:17:30,920 - INFO - Starting emotion detection request
2025-05-23 12:17:30,921 - INFO - Validated language: english
2025-05-23 12:17:30,921 - INFO - Initialized emotion detector
2025-05-23 12:17:30,921 - INFO - Starting image decoding
2025-05-23 12:17:30,921 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:30,921 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:30,922 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:30,935 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:30,936 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:30,941 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:30,978 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:30,978 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:30,978 - INFO - Starting emotion detection
2025-05-23 12:17:30,978 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:31,014 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:31,091 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:31,091 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:31,091 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:31,091 - INFO - Initializing Spotify client...
2025-05-23 12:17:31,091 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:31,092 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:31,092 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:31,095 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:31,853 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:31,853 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:31,854 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:31,855 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:32,017 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:32,018 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:32,018 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:32,018 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:32,019 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:32,019 - INFO - Preparing response
2025-05-23 12:17:32,035 - INFO - Starting emotion detection request
2025-05-23 12:17:32,035 - INFO - Validated language: english
2025-05-23 12:17:32,035 - INFO - Initialized emotion detector
2025-05-23 12:17:32,035 - INFO - Starting image decoding
2025-05-23 12:17:32,035 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:32,036 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:32,036 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:32,051 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:32,051 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:32,058 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:32,094 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:32,095 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:32,095 - INFO - Starting emotion detection
2025-05-23 12:17:32,095 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:32,131 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:32,213 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:32,213 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:32,213 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:32,213 - INFO - Initializing Spotify client...
2025-05-23 12:17:32,213 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:32,213 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:32,214 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:32,215 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:32,793 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:32,794 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:32,795 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:32,796 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:32,957 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:32,957 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:32,957 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:32,958 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:32,958 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:32,959 - INFO - Preparing response
2025-05-23 12:17:32,985 - INFO - Starting emotion detection request
2025-05-23 12:17:32,986 - INFO - Validated language: english
2025-05-23 12:17:32,986 - INFO - Initialized emotion detector
2025-05-23 12:17:32,986 - INFO - Starting image decoding
2025-05-23 12:17:32,986 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:32,987 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:32,987 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:33,021 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:33,022 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:33,030 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:33,070 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:33,070 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:33,071 - INFO - Starting emotion detection
2025-05-23 12:17:33,071 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:33,107 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:33,187 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:33,187 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:33,188 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:33,188 - INFO - Initializing Spotify client...
2025-05-23 12:17:33,188 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:33,188 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:33,188 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:33,189 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:33,737 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:33,737 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:33,739 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:33,740 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:33,906 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:33,906 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:33,908 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:33,908 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:33,909 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:33,909 - INFO - Preparing response
2025-05-23 12:17:33,923 - INFO - Starting emotion detection request
2025-05-23 12:17:33,924 - INFO - Validated language: english
2025-05-23 12:17:33,924 - INFO - Initialized emotion detector
2025-05-23 12:17:33,924 - INFO - Starting image decoding
2025-05-23 12:17:33,924 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:33,924 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:33,924 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:33,939 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:33,939 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:33,945 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:33,986 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:33,986 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:33,986 - INFO - Starting emotion detection
2025-05-23 12:17:33,986 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:34,024 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:34,104 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:34,104 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:34,104 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:34,105 - INFO - Initializing Spotify client...
2025-05-23 12:17:34,105 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:34,105 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:34,105 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:34,106 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:34,704 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:34,704 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:34,706 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:34,706 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:34,864 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:34,864 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:34,864 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:34,864 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:34,866 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:34,867 - INFO - Preparing response
2025-05-23 12:17:34,882 - INFO - Starting emotion detection request
2025-05-23 12:17:34,882 - INFO - Validated language: english
2025-05-23 12:17:34,883 - INFO - Initialized emotion detector
2025-05-23 12:17:34,883 - INFO - Starting image decoding
2025-05-23 12:17:34,883 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:34,884 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:34,884 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:34,900 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:34,901 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:34,906 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:34,942 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:34,942 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:34,944 - INFO - Starting emotion detection
2025-05-23 12:17:34,944 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:34,979 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:35,062 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:35,062 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:35,062 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:35,062 - INFO - Initializing Spotify client...
2025-05-23 12:17:35,064 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:35,064 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:35,064 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:35,065 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:35,598 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:35,599 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:35,599 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:35,600 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:35,763 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:35,764 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:35,764 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:35,765 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:35,767 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:35,768 - INFO - Preparing response
2025-05-23 12:17:35,786 - INFO - Starting emotion detection request
2025-05-23 12:17:35,787 - INFO - Validated language: english
2025-05-23 12:17:35,787 - INFO - Initialized emotion detector
2025-05-23 12:17:35,787 - INFO - Starting image decoding
2025-05-23 12:17:35,789 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:35,789 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:35,790 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:35,816 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:35,817 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:35,826 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:35,869 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:35,870 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:35,870 - INFO - Starting emotion detection
2025-05-23 12:17:35,870 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:35,907 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:35,987 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:35,987 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:35,987 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:35,988 - INFO - Initializing Spotify client...
2025-05-23 12:17:35,988 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:35,988 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:35,988 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:35,989 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:36,582 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:36,583 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:36,585 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:36,585 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:36,743 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:36,744 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:36,744 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:36,744 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:36,744 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:36,745 - INFO - Preparing response
2025-05-23 12:17:36,760 - INFO - Starting emotion detection request
2025-05-23 12:17:36,760 - INFO - Validated language: english
2025-05-23 12:17:36,762 - INFO - Initialized emotion detector
2025-05-23 12:17:36,762 - INFO - Starting image decoding
2025-05-23 12:17:36,762 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:36,762 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:36,763 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:36,777 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:36,778 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:36,783 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:36,824 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:36,824 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:36,825 - INFO - Starting emotion detection
2025-05-23 12:17:36,825 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:36,890 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:36,969 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:36,970 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:36,970 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:36,970 - INFO - Initializing Spotify client...
2025-05-23 12:17:36,970 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:36,970 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:36,970 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:36,972 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:37,509 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:37,510 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:37,511 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:37,511 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:37,677 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:37,677 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:37,678 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:37,678 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:37,679 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:37,679 - INFO - Preparing response
2025-05-23 12:17:37,689 - INFO - Starting emotion detection request
2025-05-23 12:17:37,690 - INFO - Validated language: english
2025-05-23 12:17:37,690 - INFO - Initialized emotion detector
2025-05-23 12:17:37,690 - INFO - Starting image decoding
2025-05-23 12:17:37,690 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:37,691 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:37,691 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:37,705 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:37,705 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:37,711 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:37,746 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:37,746 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:37,746 - INFO - Starting emotion detection
2025-05-23 12:17:37,747 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:37,782 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:37,866 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:37,866 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:37,866 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:37,866 - INFO - Initializing Spotify client...
2025-05-23 12:17:37,866 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:37,867 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:37,867 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:37,868 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:38,428 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:38,429 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:38,429 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:38,429 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:38,607 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:38,607 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:38,607 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:38,607 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:38,608 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:38,608 - INFO - Preparing response
2025-05-23 12:17:38,623 - INFO - Starting emotion detection request
2025-05-23 12:17:38,624 - INFO - Validated language: english
2025-05-23 12:17:38,624 - INFO - Initialized emotion detector
2025-05-23 12:17:38,624 - INFO - Starting image decoding
2025-05-23 12:17:38,624 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:38,625 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:38,626 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:38,642 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:38,642 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:38,648 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:38,687 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:38,689 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:38,689 - INFO - Starting emotion detection
2025-05-23 12:17:38,689 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:38,727 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:38,807 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:38,807 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:38,807 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:38,808 - INFO - Initializing Spotify client...
2025-05-23 12:17:38,808 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:38,808 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:38,808 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:38,808 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:39,406 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:39,408 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:39,408 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:39,408 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:39,573 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:39,574 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:39,575 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:39,575 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:39,577 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:39,577 - INFO - Preparing response
2025-05-23 12:17:39,595 - INFO - Starting emotion detection request
2025-05-23 12:17:39,596 - INFO - Validated language: english
2025-05-23 12:17:39,596 - INFO - Initialized emotion detector
2025-05-23 12:17:39,596 - INFO - Starting image decoding
2025-05-23 12:17:39,597 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:39,597 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:39,598 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:39,621 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:39,621 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:39,628 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:39,670 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:39,671 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:39,671 - INFO - Starting emotion detection
2025-05-23 12:17:39,671 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:39,709 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:39,793 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:39,793 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:39,793 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:39,793 - INFO - Initializing Spotify client...
2025-05-23 12:17:39,794 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:39,795 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:39,795 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:39,796 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:40,415 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:40,417 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:40,420 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:40,421 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:40,594 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:40,595 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:40,595 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:40,595 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:40,596 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:40,596 - INFO - Preparing response
2025-05-23 12:17:40,609 - INFO - Starting emotion detection request
2025-05-23 12:17:40,610 - INFO - Validated language: english
2025-05-23 12:17:40,610 - INFO - Initialized emotion detector
2025-05-23 12:17:40,610 - INFO - Starting image decoding
2025-05-23 12:17:40,610 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:40,610 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:40,610 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:40,625 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:40,625 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:40,631 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:40,669 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:40,669 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:40,670 - INFO - Starting emotion detection
2025-05-23 12:17:40,670 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:40,707 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:40,802 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:40,802 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:40,802 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:40,802 - INFO - Initializing Spotify client...
2025-05-23 12:17:40,802 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:40,803 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:40,803 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:40,804 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:41,688 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:41,688 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:41,689 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:41,689 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:41,848 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:41,850 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:41,851 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:41,851 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:41,854 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:41,855 - INFO - Preparing response
2025-05-23 12:17:41,876 - INFO - Starting emotion detection request
2025-05-23 12:17:41,876 - INFO - Validated language: english
2025-05-23 12:17:41,877 - INFO - Initialized emotion detector
2025-05-23 12:17:41,878 - INFO - Starting image decoding
2025-05-23 12:17:41,879 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:41,879 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:41,879 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:41,902 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:41,902 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:41,909 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:41,947 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:41,947 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:41,948 - INFO - Starting emotion detection
2025-05-23 12:17:41,948 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:41,984 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:42,068 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:42,068 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:42,069 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:42,069 - INFO - Initializing Spotify client...
2025-05-23 12:17:42,069 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:42,069 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:42,070 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:42,071 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:42,619 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:42,620 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:42,621 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:42,621 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:42,783 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:42,784 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:42,784 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:42,784 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:42,784 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:42,784 - INFO - Preparing response
2025-05-23 12:17:42,795 - INFO - Starting emotion detection request
2025-05-23 12:17:42,795 - INFO - Validated language: english
2025-05-23 12:17:42,796 - INFO - Initialized emotion detector
2025-05-23 12:17:42,796 - INFO - Starting image decoding
2025-05-23 12:17:42,796 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:42,796 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:42,797 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:42,810 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:42,811 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:42,817 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:42,854 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:42,854 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:42,854 - INFO - Starting emotion detection
2025-05-23 12:17:42,855 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:42,892 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:42,984 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:42,984 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:42,984 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:42,984 - INFO - Initializing Spotify client...
2025-05-23 12:17:42,984 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:42,985 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:42,985 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:42,986 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:43,566 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:43,567 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:43,568 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:43,568 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:43,737 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:43,737 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:43,738 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:43,738 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:43,739 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:43,739 - INFO - Preparing response
2025-05-23 12:17:43,750 - INFO - Starting emotion detection request
2025-05-23 12:17:43,750 - INFO - Validated language: english
2025-05-23 12:17:43,751 - INFO - Initialized emotion detector
2025-05-23 12:17:43,751 - INFO - Starting image decoding
2025-05-23 12:17:43,751 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:43,751 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:43,751 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:43,768 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:43,768 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:43,774 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:43,810 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:43,810 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:43,810 - INFO - Starting emotion detection
2025-05-23 12:17:43,811 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:43,848 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:43,925 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:43,925 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:43,925 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:43,925 - INFO - Initializing Spotify client...
2025-05-23 12:17:43,925 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:43,926 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:43,926 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:43,928 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:44,481 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:44,483 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:44,484 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:44,484 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:44,647 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:44,649 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:44,649 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:44,650 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:44,651 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:44,651 - INFO - Preparing response
2025-05-23 12:17:44,664 - INFO - Starting emotion detection request
2025-05-23 12:17:44,665 - INFO - Validated language: english
2025-05-23 12:17:44,665 - INFO - Initialized emotion detector
2025-05-23 12:17:44,665 - INFO - Starting image decoding
2025-05-23 12:17:44,665 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:44,666 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:44,666 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:44,680 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:44,680 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:44,686 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:44,722 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:44,723 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:44,723 - INFO - Starting emotion detection
2025-05-23 12:17:44,723 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:44,759 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:44,843 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:44,843 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:44,843 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:44,843 - INFO - Initializing Spotify client...
2025-05-23 12:17:44,844 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:44,845 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:44,845 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:44,846 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:45,474 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:45,475 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:45,476 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:45,478 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:45,655 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:45,655 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:45,655 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:45,655 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:45,656 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:45,656 - INFO - Preparing response
2025-05-23 12:17:45,666 - INFO - Starting emotion detection request
2025-05-23 12:17:45,666 - INFO - Validated language: english
2025-05-23 12:17:45,666 - INFO - Initialized emotion detector
2025-05-23 12:17:45,666 - INFO - Starting image decoding
2025-05-23 12:17:45,666 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:45,666 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:45,667 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:45,682 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:45,682 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:45,689 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:45,729 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:45,729 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:45,729 - INFO - Starting emotion detection
2025-05-23 12:17:45,729 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:45,768 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:45,850 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:45,851 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:45,851 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:45,851 - INFO - Initializing Spotify client...
2025-05-23 12:17:45,851 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:45,852 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:45,852 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:45,853 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:46,381 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:46,382 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:46,383 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:46,383 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:46,545 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:46,546 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:46,547 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:46,547 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:46,549 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:46,549 - INFO - Preparing response
2025-05-23 12:17:46,563 - INFO - Starting emotion detection request
2025-05-23 12:17:46,564 - INFO - Validated language: english
2025-05-23 12:17:46,564 - INFO - Initialized emotion detector
2025-05-23 12:17:46,564 - INFO - Starting image decoding
2025-05-23 12:17:46,566 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:46,567 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:46,568 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:46,587 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:46,587 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:46,592 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:46,634 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:46,634 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:46,634 - INFO - Starting emotion detection
2025-05-23 12:17:46,635 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:46,671 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:46,755 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:46,755 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:46,755 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:46,755 - INFO - Initializing Spotify client...
2025-05-23 12:17:46,755 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:46,756 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:46,756 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:46,756 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:47,332 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:47,333 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:47,334 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:47,334 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:47,664 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:47,667 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:47,667 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:47,668 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:47,669 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:47,669 - INFO - Preparing response
2025-05-23 12:17:47,691 - INFO - Starting emotion detection request
2025-05-23 12:17:47,691 - INFO - Validated language: english
2025-05-23 12:17:47,692 - INFO - Initialized emotion detector
2025-05-23 12:17:47,692 - INFO - Starting image decoding
2025-05-23 12:17:47,694 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:47,695 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:47,695 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:47,723 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:47,723 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:47,728 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:47,764 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:47,765 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:47,765 - INFO - Starting emotion detection
2025-05-23 12:17:47,765 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:47,801 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:47,889 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:47,889 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:47,889 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:47,889 - INFO - Initializing Spotify client...
2025-05-23 12:17:47,889 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:47,890 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:47,890 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:47,891 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:48,501 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:48,502 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:48,503 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:48,503 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:48,662 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:48,663 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:48,663 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:48,663 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:48,666 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:48,666 - INFO - Preparing response
2025-05-23 12:17:48,686 - INFO - Starting emotion detection request
2025-05-23 12:17:48,686 - INFO - Validated language: english
2025-05-23 12:17:48,687 - INFO - Initialized emotion detector
2025-05-23 12:17:48,687 - INFO - Starting image decoding
2025-05-23 12:17:48,687 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:48,687 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:48,689 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:48,714 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:48,714 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:48,720 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:48,760 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:48,760 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:48,760 - INFO - Starting emotion detection
2025-05-23 12:17:48,762 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:48,797 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:48,875 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:48,875 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:48,876 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:48,876 - INFO - Initializing Spotify client...
2025-05-23 12:17:48,876 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:48,877 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:48,877 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:48,878 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:49,452 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:49,452 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:49,453 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:49,453 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:49,628 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:49,629 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:49,630 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:49,630 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:49,632 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:49,632 - INFO - Preparing response
2025-05-23 12:17:49,648 - INFO - Starting emotion detection request
2025-05-23 12:17:49,649 - INFO - Validated language: english
2025-05-23 12:17:49,649 - INFO - Initialized emotion detector
2025-05-23 12:17:49,649 - INFO - Starting image decoding
2025-05-23 12:17:49,649 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:49,650 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:49,650 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:49,684 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:49,684 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:49,694 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:49,734 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:49,734 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:49,734 - INFO - Starting emotion detection
2025-05-23 12:17:49,735 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:49,773 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:49,880 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:49,881 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:49,881 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:49,881 - INFO - Initializing Spotify client...
2025-05-23 12:17:49,882 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:49,882 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:49,882 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:49,884 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:50,450 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:50,459 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:50,464 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:50,465 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:50,636 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:50,637 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:50,637 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:50,638 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:50,639 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:50,639 - INFO - Preparing response
2025-05-23 12:17:50,646 - INFO - Starting emotion detection request
2025-05-23 12:17:50,647 - INFO - Validated language: english
2025-05-23 12:17:50,648 - INFO - Initialized emotion detector
2025-05-23 12:17:50,648 - INFO - Starting image decoding
2025-05-23 12:17:50,648 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:50,648 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:50,649 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:50,662 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:50,664 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:50,670 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:50,706 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:50,708 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:50,708 - INFO - Starting emotion detection
2025-05-23 12:17:50,708 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:50,745 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:50,835 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:50,836 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:50,836 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:50,836 - INFO - Initializing Spotify client...
2025-05-23 12:17:50,836 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:50,836 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:50,837 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:50,838 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:51,434 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:51,436 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:51,439 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:51,439 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:51,625 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:51,626 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:51,626 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:51,626 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:51,629 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:51,629 - INFO - Preparing response
2025-05-23 12:17:51,708 - INFO - Starting emotion detection request
2025-05-23 12:17:51,709 - INFO - Validated language: english
2025-05-23 12:17:51,709 - INFO - Initialized emotion detector
2025-05-23 12:17:51,710 - INFO - Starting image decoding
2025-05-23 12:17:51,710 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:51,710 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:51,712 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:51,761 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:51,762 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:51,770 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:51,809 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:51,810 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:51,810 - INFO - Starting emotion detection
2025-05-23 12:17:51,810 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:51,855 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:51,944 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:51,944 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:51,944 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:51,944 - INFO - Initializing Spotify client...
2025-05-23 12:17:51,944 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:51,944 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:51,946 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:51,947 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:52,536 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:52,537 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:52,537 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:52,538 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:52,707 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:52,707 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:52,707 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:52,707 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:52,708 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:52,708 - INFO - Preparing response
2025-05-23 12:17:52,719 - INFO - Starting emotion detection request
2025-05-23 12:17:52,719 - INFO - Validated language: english
2025-05-23 12:17:52,719 - INFO - Initialized emotion detector
2025-05-23 12:17:52,719 - INFO - Starting image decoding
2025-05-23 12:17:52,719 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:52,720 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:52,720 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:52,734 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:52,734 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:52,739 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:52,786 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:52,787 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:52,787 - INFO - Starting emotion detection
2025-05-23 12:17:52,787 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:52,830 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:52,909 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:52,909 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:52,909 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:52,909 - INFO - Initializing Spotify client...
2025-05-23 12:17:52,909 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:52,909 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:52,910 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:52,910 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:53,515 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:53,516 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:53,517 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:53,517 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:53,680 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:53,680 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:53,680 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:53,681 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:53,682 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:53,682 - INFO - Preparing response
2025-05-23 12:17:53,694 - INFO - Starting emotion detection request
2025-05-23 12:17:53,694 - INFO - Validated language: english
2025-05-23 12:17:53,694 - INFO - Initialized emotion detector
2025-05-23 12:17:53,694 - INFO - Starting image decoding
2025-05-23 12:17:53,695 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:53,695 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:53,695 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:53,710 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:53,710 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:53,717 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:53,754 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:53,754 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:53,754 - INFO - Starting emotion detection
2025-05-23 12:17:53,754 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:53,790 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:53,870 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:53,870 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:53,871 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:53,871 - INFO - Initializing Spotify client...
2025-05-23 12:17:53,871 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:53,871 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:53,872 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:53,873 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:54,412 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:54,413 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:54,415 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:54,415 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:54,570 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:54,572 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:54,572 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:54,572 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:54,575 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:54,575 - INFO - Preparing response
2025-05-23 12:17:54,596 - INFO - Starting emotion detection request
2025-05-23 12:17:54,597 - INFO - Validated language: english
2025-05-23 12:17:54,598 - INFO - Initialized emotion detector
2025-05-23 12:17:54,599 - INFO - Starting image decoding
2025-05-23 12:17:54,599 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:54,599 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:54,601 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:54,625 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:54,625 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:54,632 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:54,686 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:54,686 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:54,686 - INFO - Starting emotion detection
2025-05-23 12:17:54,686 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:54,725 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:54,804 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:54,804 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:54,805 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:54,805 - INFO - Initializing Spotify client...
2025-05-23 12:17:54,805 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:54,805 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:54,805 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:54,806 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:55,416 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:55,417 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:55,418 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:55,418 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:55,584 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:55,584 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:55,584 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:55,584 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:55,586 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:55,586 - INFO - Preparing response
2025-05-23 12:17:55,600 - INFO - Starting emotion detection request
2025-05-23 12:17:55,601 - INFO - Validated language: english
2025-05-23 12:17:55,601 - INFO - Initialized emotion detector
2025-05-23 12:17:55,602 - INFO - Starting image decoding
2025-05-23 12:17:55,602 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:55,603 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:55,603 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:55,623 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:55,624 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:55,629 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:55,667 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:55,667 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:55,667 - INFO - Starting emotion detection
2025-05-23 12:17:55,668 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:55,705 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:55,787 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:55,787 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:55,787 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:55,787 - INFO - Initializing Spotify client...
2025-05-23 12:17:55,788 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:55,788 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:55,788 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:55,789 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:56,342 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:56,344 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:56,345 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:56,345 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:56,506 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:56,508 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:56,508 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:56,508 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:56,508 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:56,510 - INFO - Preparing response
2025-05-23 12:17:56,522 - INFO - Starting emotion detection request
2025-05-23 12:17:56,523 - INFO - Validated language: english
2025-05-23 12:17:56,523 - INFO - Initialized emotion detector
2025-05-23 12:17:56,523 - INFO - Starting image decoding
2025-05-23 12:17:56,523 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:56,524 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:56,524 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:56,541 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:56,542 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:56,548 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:56,587 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:56,589 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:56,589 - INFO - Starting emotion detection
2025-05-23 12:17:56,589 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:56,626 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:56,710 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:56,710 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:56,710 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:56,710 - INFO - Initializing Spotify client...
2025-05-23 12:17:56,710 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:56,712 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:56,712 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:56,713 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:57,257 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:57,259 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:57,259 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:57,260 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:57,417 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:57,418 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:57,419 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:57,419 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:57,420 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:57,420 - INFO - Preparing response
2025-05-23 12:17:57,434 - INFO - Starting emotion detection request
2025-05-23 12:17:57,435 - INFO - Validated language: english
2025-05-23 12:17:57,435 - INFO - Initialized emotion detector
2025-05-23 12:17:57,435 - INFO - Starting image decoding
2025-05-23 12:17:57,435 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:57,435 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:57,436 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:57,452 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:57,452 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:57,458 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:57,495 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:57,496 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:57,496 - INFO - Starting emotion detection
2025-05-23 12:17:57,496 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:57,534 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:57,624 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:57,624 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:57,625 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:57,625 - INFO - Initializing Spotify client...
2025-05-23 12:17:57,625 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:57,626 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:57,626 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:57,627 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:58,246 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:58,246 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:58,247 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:58,247 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:58,413 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:58,414 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:58,414 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:58,414 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:58,414 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:58,414 - INFO - Preparing response
2025-05-23 12:17:58,424 - INFO - Starting emotion detection request
2025-05-23 12:17:58,424 - INFO - Validated language: english
2025-05-23 12:17:58,424 - INFO - Initialized emotion detector
2025-05-23 12:17:58,425 - INFO - Starting image decoding
2025-05-23 12:17:58,425 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:58,425 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:58,425 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:58,444 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:58,444 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:58,450 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:58,487 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:58,487 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:58,487 - INFO - Starting emotion detection
2025-05-23 12:17:58,487 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:58,525 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:58,610 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:58,611 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:58,611 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:58,611 - INFO - Initializing Spotify client...
2025-05-23 12:17:58,611 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:58,612 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:58,612 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:58,613 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:17:59,170 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:17:59,171 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:17:59,172 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:17:59,172 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:59,334 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:17:59,335 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:17:59,336 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:17:59,336 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:17:59,339 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:17:59,339 - INFO - Preparing response
2025-05-23 12:17:59,361 - INFO - Starting emotion detection request
2025-05-23 12:17:59,362 - INFO - Validated language: english
2025-05-23 12:17:59,362 - INFO - Initialized emotion detector
2025-05-23 12:17:59,363 - INFO - Starting image decoding
2025-05-23 12:17:59,363 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:17:59,364 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:17:59,365 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:17:59,395 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:17:59,395 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:17:59,401 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:59,457 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:17:59,457 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:17:59,458 - INFO - Starting emotion detection
2025-05-23 12:17:59,458 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:17:59,501 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:17:59,605 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:17:59,605 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:17:59,605 - INFO - Attempting to get playlist recommendations
2025-05-23 12:17:59,605 - INFO - Initializing Spotify client...
2025-05-23 12:17:59,605 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:17:59,606 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:17:59,606 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:17:59,607 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:00,155 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:00,155 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:00,156 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:00,156 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:00,314 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:00,314 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:00,316 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:00,316 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:00,316 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:00,317 - INFO - Preparing response
2025-05-23 12:18:00,364 - INFO - Starting emotion detection request
2025-05-23 12:18:00,365 - INFO - Validated language: english
2025-05-23 12:18:00,365 - INFO - Initialized emotion detector
2025-05-23 12:18:00,365 - INFO - Starting image decoding
2025-05-23 12:18:00,365 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:00,366 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:00,367 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:00,391 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:00,391 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:00,399 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:00,435 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:00,435 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:00,435 - INFO - Starting emotion detection
2025-05-23 12:18:00,436 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:00,471 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:00,547 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:00,547 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:00,547 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:00,547 - INFO - Initializing Spotify client...
2025-05-23 12:18:00,547 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:00,549 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:00,549 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:00,550 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:01,130 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:01,130 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:01,132 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:01,132 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:01,287 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:01,288 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:01,288 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:01,288 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:01,289 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:01,290 - INFO - Preparing response
2025-05-23 12:18:01,303 - INFO - Starting emotion detection request
2025-05-23 12:18:01,304 - INFO - Validated language: english
2025-05-23 12:18:01,304 - INFO - Initialized emotion detector
2025-05-23 12:18:01,304 - INFO - Starting image decoding
2025-05-23 12:18:01,305 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:01,305 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:01,306 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:01,327 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:01,327 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:01,334 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:01,375 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:01,376 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:01,376 - INFO - Starting emotion detection
2025-05-23 12:18:01,376 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:01,417 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:01,506 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:01,506 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:01,506 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:01,508 - INFO - Initializing Spotify client...
2025-05-23 12:18:01,508 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:01,508 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:01,509 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:01,509 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:02,102 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:02,102 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:02,103 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:02,103 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:02,274 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:02,275 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:02,276 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:02,276 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:02,277 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:02,277 - INFO - Preparing response
2025-05-23 12:18:02,285 - INFO - Starting emotion detection request
2025-05-23 12:18:02,285 - INFO - Validated language: english
2025-05-23 12:18:02,286 - INFO - Initialized emotion detector
2025-05-23 12:18:02,286 - INFO - Starting image decoding
2025-05-23 12:18:02,286 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:02,286 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:02,286 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:02,302 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:02,302 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:02,308 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:02,345 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:02,346 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:02,346 - INFO - Starting emotion detection
2025-05-23 12:18:02,346 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:02,387 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:02,484 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:02,484 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:02,484 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:02,484 - INFO - Initializing Spotify client...
2025-05-23 12:18:02,484 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:02,484 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:02,485 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:02,486 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:03,102 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:03,103 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:03,104 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:03,104 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:03,275 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:03,276 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:03,276 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:03,277 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:03,278 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:03,279 - INFO - Preparing response
2025-05-23 12:18:03,288 - INFO - Starting emotion detection request
2025-05-23 12:18:03,289 - INFO - Validated language: english
2025-05-23 12:18:03,289 - INFO - Initialized emotion detector
2025-05-23 12:18:03,290 - INFO - Starting image decoding
2025-05-23 12:18:03,290 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:03,291 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:03,291 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:03,319 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:03,319 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:03,325 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:03,363 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:03,363 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:03,364 - INFO - Starting emotion detection
2025-05-23 12:18:03,364 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:03,401 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:03,481 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:03,481 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:03,481 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:03,481 - INFO - Initializing Spotify client...
2025-05-23 12:18:03,481 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:03,482 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:03,482 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:03,482 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:04,004 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:04,005 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:04,006 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:04,006 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:04,169 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:04,171 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:04,171 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:04,172 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:04,174 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:04,175 - INFO - Preparing response
2025-05-23 12:18:04,198 - INFO - Starting emotion detection request
2025-05-23 12:18:04,199 - INFO - Validated language: english
2025-05-23 12:18:04,199 - INFO - Initialized emotion detector
2025-05-23 12:18:04,199 - INFO - Starting image decoding
2025-05-23 12:18:04,201 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:04,201 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:04,202 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:04,232 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:04,232 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:04,242 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:04,290 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:04,291 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:04,291 - INFO - Starting emotion detection
2025-05-23 12:18:04,291 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:04,343 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:04,429 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:04,429 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:04,430 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:04,430 - INFO - Initializing Spotify client...
2025-05-23 12:18:04,430 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:04,430 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:04,430 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:04,432 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:04,957 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:04,958 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:04,959 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:04,959 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:05,123 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:05,123 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:05,124 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:05,124 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:05,126 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:05,126 - INFO - Preparing response
2025-05-23 12:18:05,142 - INFO - Starting emotion detection request
2025-05-23 12:18:05,142 - INFO - Validated language: english
2025-05-23 12:18:05,143 - INFO - Initialized emotion detector
2025-05-23 12:18:05,144 - INFO - Starting image decoding
2025-05-23 12:18:05,145 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:05,145 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:05,146 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:05,171 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:05,172 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:05,178 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:05,216 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:05,216 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:05,217 - INFO - Starting emotion detection
2025-05-23 12:18:05,217 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:05,255 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:05,346 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:05,347 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:05,347 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:05,347 - INFO - Initializing Spotify client...
2025-05-23 12:18:05,347 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:05,347 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:05,348 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:05,349 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:05,926 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:05,928 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:05,932 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:05,933 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:06,100 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:06,102 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:06,102 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:06,102 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:06,103 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:06,103 - INFO - Preparing response
2025-05-23 12:18:06,115 - INFO - Starting emotion detection request
2025-05-23 12:18:06,115 - INFO - Validated language: english
2025-05-23 12:18:06,115 - INFO - Initialized emotion detector
2025-05-23 12:18:06,116 - INFO - Starting image decoding
2025-05-23 12:18:06,116 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:06,116 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:06,117 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:06,141 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:06,142 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:06,149 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:06,203 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:06,203 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:06,203 - INFO - Starting emotion detection
2025-05-23 12:18:06,203 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:06,254 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:06,344 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:06,344 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:06,344 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:06,344 - INFO - Initializing Spotify client...
2025-05-23 12:18:06,344 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:06,345 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:06,345 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:06,346 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:06,996 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:06,997 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:06,999 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:06,999 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:07,183 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:07,184 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:07,185 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:07,186 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:07,188 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:07,188 - INFO - Preparing response
2025-05-23 12:18:07,211 - INFO - Starting emotion detection request
2025-05-23 12:18:07,212 - INFO - Validated language: english
2025-05-23 12:18:07,212 - INFO - Initialized emotion detector
2025-05-23 12:18:07,213 - INFO - Starting image decoding
2025-05-23 12:18:07,215 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:07,215 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:07,217 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:07,245 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:07,246 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:07,253 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:07,297 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:07,298 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:07,298 - INFO - Starting emotion detection
2025-05-23 12:18:07,298 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:07,340 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:07,443 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:07,443 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:07,443 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:07,443 - INFO - Initializing Spotify client...
2025-05-23 12:18:07,443 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:07,444 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:07,445 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:07,446 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:08,324 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:08,324 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:08,325 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:08,326 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:08,497 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:08,497 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:08,497 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:08,499 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:08,499 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:08,499 - INFO - Preparing response
2025-05-23 12:18:08,513 - INFO - Starting emotion detection request
2025-05-23 12:18:08,514 - INFO - Validated language: english
2025-05-23 12:18:08,514 - INFO - Initialized emotion detector
2025-05-23 12:18:08,514 - INFO - Starting image decoding
2025-05-23 12:18:08,514 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:08,514 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:08,514 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:08,530 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:08,530 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:08,537 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:08,574 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:08,574 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:08,575 - INFO - Starting emotion detection
2025-05-23 12:18:08,575 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:08,611 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:08,692 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:08,692 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:08,693 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:08,693 - INFO - Initializing Spotify client...
2025-05-23 12:18:08,693 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:08,694 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:08,694 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:08,695 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:09,235 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:09,236 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:09,239 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:09,239 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:09,408 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:09,409 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:09,409 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:09,409 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:09,410 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:09,410 - INFO - Preparing response
2025-05-23 12:18:09,421 - INFO - Starting emotion detection request
2025-05-23 12:18:09,423 - INFO - Validated language: english
2025-05-23 12:18:09,423 - INFO - Initialized emotion detector
2025-05-23 12:18:09,423 - INFO - Starting image decoding
2025-05-23 12:18:09,423 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:09,423 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:09,424 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:09,439 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:09,439 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:09,448 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:09,486 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:09,486 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:09,487 - INFO - Starting emotion detection
2025-05-23 12:18:09,487 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:09,523 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:09,608 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:09,608 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:09,610 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:09,610 - INFO - Initializing Spotify client...
2025-05-23 12:18:09,610 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:09,610 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:09,610 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:09,612 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:10,116 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:10,116 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:10,117 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:10,118 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:10,279 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:10,280 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:10,280 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:10,280 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:10,281 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:10,281 - INFO - Preparing response
2025-05-23 12:18:10,292 - INFO - Starting emotion detection request
2025-05-23 12:18:10,294 - INFO - Validated language: english
2025-05-23 12:18:10,294 - INFO - Initialized emotion detector
2025-05-23 12:18:10,294 - INFO - Starting image decoding
2025-05-23 12:18:10,295 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:10,295 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:10,295 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:10,310 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:10,310 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:10,316 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:10,356 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:10,356 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:10,356 - INFO - Starting emotion detection
2025-05-23 12:18:10,358 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:10,399 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:10,495 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:10,495 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:10,495 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:10,495 - INFO - Initializing Spotify client...
2025-05-23 12:18:10,495 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:10,495 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:10,496 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:10,497 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:11,026 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:11,027 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:11,028 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:11,029 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:11,191 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:11,191 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:11,192 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:11,192 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:11,193 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:11,193 - INFO - Preparing response
2025-05-23 12:18:11,203 - INFO - Starting emotion detection request
2025-05-23 12:18:11,203 - INFO - Validated language: english
2025-05-23 12:18:11,203 - INFO - Initialized emotion detector
2025-05-23 12:18:11,203 - INFO - Starting image decoding
2025-05-23 12:18:11,203 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:11,203 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:11,204 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:11,219 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:11,219 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:11,224 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:11,264 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:11,264 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:11,264 - INFO - Starting emotion detection
2025-05-23 12:18:11,264 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:11,305 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:11,399 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:11,400 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:11,400 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:11,400 - INFO - Initializing Spotify client...
2025-05-23 12:18:11,400 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:11,401 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:11,401 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:11,402 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:11,942 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:11,943 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:11,945 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:11,945 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:12,104 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:12,105 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:12,106 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:12,106 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:12,107 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:12,107 - INFO - Preparing response
2025-05-23 12:18:12,120 - INFO - Starting emotion detection request
2025-05-23 12:18:12,121 - INFO - Validated language: english
2025-05-23 12:18:12,121 - INFO - Initialized emotion detector
2025-05-23 12:18:12,121 - INFO - Starting image decoding
2025-05-23 12:18:12,122 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:12,122 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:12,122 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:12,137 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:12,137 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:12,143 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:12,182 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:12,183 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:12,183 - INFO - Starting emotion detection
2025-05-23 12:18:12,183 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:12,222 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:12,332 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:12,332 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:12,333 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:12,334 - INFO - Initializing Spotify client...
2025-05-23 12:18:12,334 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:12,334 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:12,334 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:12,335 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:12,940 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:12,941 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:12,942 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:12,942 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:13,115 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:13,116 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:13,116 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:13,116 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:13,117 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:13,118 - INFO - Preparing response
2025-05-23 12:18:13,127 - INFO - Starting emotion detection request
2025-05-23 12:18:13,128 - INFO - Validated language: english
2025-05-23 12:18:13,128 - INFO - Initialized emotion detector
2025-05-23 12:18:13,128 - INFO - Starting image decoding
2025-05-23 12:18:13,128 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:13,128 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:13,128 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:13,142 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:13,143 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:13,149 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:13,187 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:13,187 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:13,187 - INFO - Starting emotion detection
2025-05-23 12:18:13,188 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:13,224 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:13,313 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:13,313 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:13,313 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:13,313 - INFO - Initializing Spotify client...
2025-05-23 12:18:13,314 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:13,314 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:13,314 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:13,315 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:13,898 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:13,900 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:13,903 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:13,904 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:14,085 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:14,085 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:14,086 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:14,086 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:14,087 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:14,087 - INFO - Preparing response
2025-05-23 12:18:14,100 - INFO - Starting emotion detection request
2025-05-23 12:18:14,100 - INFO - Validated language: english
2025-05-23 12:18:14,101 - INFO - Initialized emotion detector
2025-05-23 12:18:14,101 - INFO - Starting image decoding
2025-05-23 12:18:14,102 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:14,102 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:14,102 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:14,118 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:14,118 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:14,123 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:14,158 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:14,158 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:14,159 - INFO - Starting emotion detection
2025-05-23 12:18:14,159 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:14,194 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:14,275 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:14,276 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:14,276 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:14,276 - INFO - Initializing Spotify client...
2025-05-23 12:18:14,276 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:14,276 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:14,276 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:14,278 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:14,829 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:14,829 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:14,831 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:14,831 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:14,985 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:14,985 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:14,985 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:14,985 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:14,987 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:14,987 - INFO - Preparing response
2025-05-23 12:18:14,999 - INFO - Starting emotion detection request
2025-05-23 12:18:14,999 - INFO - Validated language: english
2025-05-23 12:18:14,999 - INFO - Initialized emotion detector
2025-05-23 12:18:14,999 - INFO - Starting image decoding
2025-05-23 12:18:14,999 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:14,999 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:15,000 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:15,017 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:15,018 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:15,023 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:15,069 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:15,069 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:15,070 - INFO - Starting emotion detection
2025-05-23 12:18:15,070 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:15,109 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:15,194 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:15,194 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:15,195 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:15,195 - INFO - Initializing Spotify client...
2025-05-23 12:18:15,195 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:15,195 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:15,195 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:15,196 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:15,859 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:15,861 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:15,862 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:15,863 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:16,037 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:16,039 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:16,039 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:16,039 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:16,040 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:16,040 - INFO - Preparing response
2025-05-23 12:18:16,054 - INFO - Starting emotion detection request
2025-05-23 12:18:16,055 - INFO - Validated language: english
2025-05-23 12:18:16,055 - INFO - Initialized emotion detector
2025-05-23 12:18:16,055 - INFO - Starting image decoding
2025-05-23 12:18:16,056 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:16,056 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:16,056 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:16,070 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:16,071 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:16,076 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:16,112 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:16,112 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:16,112 - INFO - Starting emotion detection
2025-05-23 12:18:16,112 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:16,152 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:16,247 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:16,247 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:16,247 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:16,247 - INFO - Initializing Spotify client...
2025-05-23 12:18:16,247 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:16,248 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:16,248 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:16,249 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:16,843 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:16,844 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:16,845 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:16,846 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:17,009 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:17,009 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:17,009 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:17,009 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:17,010 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:17,010 - INFO - Preparing response
2025-05-23 12:18:17,028 - INFO - Starting emotion detection request
2025-05-23 12:18:17,028 - INFO - Validated language: english
2025-05-23 12:18:17,028 - INFO - Initialized emotion detector
2025-05-23 12:18:17,028 - INFO - Starting image decoding
2025-05-23 12:18:17,029 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:17,029 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:17,030 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:17,060 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:17,060 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:17,073 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:17,114 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:17,114 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:17,114 - INFO - Starting emotion detection
2025-05-23 12:18:17,116 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:17,149 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:17,229 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:17,229 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:17,229 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:17,229 - INFO - Initializing Spotify client...
2025-05-23 12:18:17,229 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:17,229 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:17,229 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:17,231 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:17,759 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:17,759 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:17,760 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:17,762 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:17,926 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:17,927 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:17,927 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:17,928 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:17,929 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:17,929 - INFO - Preparing response
2025-05-23 12:18:17,934 - INFO - Starting emotion detection request
2025-05-23 12:18:17,934 - INFO - Validated language: english
2025-05-23 12:18:17,935 - INFO - Initialized emotion detector
2025-05-23 12:18:17,935 - INFO - Starting image decoding
2025-05-23 12:18:17,935 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:17,935 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:17,935 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:17,950 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:17,950 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:17,956 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:17,992 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:17,993 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:17,994 - INFO - Starting emotion detection
2025-05-23 12:18:17,994 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:18,030 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:18,108 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:18,110 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:18,110 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:18,110 - INFO - Initializing Spotify client...
2025-05-23 12:18:18,110 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:18,110 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:18,110 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:18,112 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:18,682 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:18,684 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:18,685 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:18,686 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:18,846 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:18,847 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:18,847 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:18,849 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:18,850 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:18,851 - INFO - Preparing response
2025-05-23 12:18:18,861 - INFO - Starting emotion detection request
2025-05-23 12:18:18,862 - INFO - Validated language: english
2025-05-23 12:18:18,862 - INFO - Initialized emotion detector
2025-05-23 12:18:18,862 - INFO - Starting image decoding
2025-05-23 12:18:18,863 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:18,863 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:18,863 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:18,891 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:18,891 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:18,898 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:18,933 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:18,934 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:18,934 - INFO - Starting emotion detection
2025-05-23 12:18:18,934 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:18,970 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:19,050 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:19,050 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:19,050 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:19,050 - INFO - Initializing Spotify client...
2025-05-23 12:18:19,050 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:19,050 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:19,052 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:19,053 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:19,586 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:19,586 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:19,586 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:19,587 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:19,749 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:19,750 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:19,750 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:19,750 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:19,751 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:19,752 - INFO - Preparing response
2025-05-23 12:18:19,772 - INFO - Starting emotion detection request
2025-05-23 12:18:19,773 - INFO - Validated language: english
2025-05-23 12:18:19,773 - INFO - Initialized emotion detector
2025-05-23 12:18:19,774 - INFO - Starting image decoding
2025-05-23 12:18:19,774 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:19,775 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:19,775 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:19,795 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:19,795 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:19,801 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:19,838 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:19,839 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:19,839 - INFO - Starting emotion detection
2025-05-23 12:18:19,839 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:19,875 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:19,962 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:19,964 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:19,964 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:19,964 - INFO - Initializing Spotify client...
2025-05-23 12:18:19,964 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:19,964 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:19,964 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:19,965 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:20,554 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:20,556 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:20,556 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:20,558 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:20,729 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:20,730 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:20,730 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:20,731 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:20,733 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:20,733 - INFO - Preparing response
2025-05-23 12:18:20,756 - INFO - Starting emotion detection request
2025-05-23 12:18:20,756 - INFO - Validated language: english
2025-05-23 12:18:20,759 - INFO - Initialized emotion detector
2025-05-23 12:18:20,759 - INFO - Starting image decoding
2025-05-23 12:18:20,759 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:20,759 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:20,760 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:20,776 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:20,776 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:20,784 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:20,824 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:20,825 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:20,825 - INFO - Starting emotion detection
2025-05-23 12:18:20,825 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:20,870 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:20,953 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:20,953 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:20,954 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:20,954 - INFO - Initializing Spotify client...
2025-05-23 12:18:20,954 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:20,954 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:20,955 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:20,955 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:21,500 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:21,501 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:21,503 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:21,503 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:21,681 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:21,682 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:21,682 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:21,682 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:21,683 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:21,683 - INFO - Preparing response
2025-05-23 12:18:21,713 - INFO - Starting emotion detection request
2025-05-23 12:18:21,713 - INFO - Validated language: english
2025-05-23 12:18:21,713 - INFO - Initialized emotion detector
2025-05-23 12:18:21,713 - INFO - Starting image decoding
2025-05-23 12:18:21,714 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:21,714 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:21,714 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:21,734 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:21,734 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:21,744 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:21,784 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:21,785 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:21,785 - INFO - Starting emotion detection
2025-05-23 12:18:21,785 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:21,826 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:21,913 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:21,913 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:21,913 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:21,913 - INFO - Initializing Spotify client...
2025-05-23 12:18:21,914 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:21,914 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:21,914 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:21,914 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:22,509 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:22,509 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:22,510 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:22,510 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:22,716 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:22,716 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:22,716 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:22,716 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:22,717 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:22,718 - INFO - Preparing response
2025-05-23 12:18:22,731 - INFO - Starting emotion detection request
2025-05-23 12:18:22,732 - INFO - Validated language: english
2025-05-23 12:18:22,732 - INFO - Initialized emotion detector
2025-05-23 12:18:22,732 - INFO - Starting image decoding
2025-05-23 12:18:22,732 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:22,732 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:22,733 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:22,749 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:22,750 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:22,755 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:22,791 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:22,791 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:22,791 - INFO - Starting emotion detection
2025-05-23 12:18:22,792 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:22,825 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:22,910 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:22,910 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:22,910 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:22,910 - INFO - Initializing Spotify client...
2025-05-23 12:18:22,910 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:22,910 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:22,912 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:22,913 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:23,479 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:23,480 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:23,480 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:23,481 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:23,658 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:23,658 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:23,658 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:23,658 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:23,660 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:23,660 - INFO - Preparing response
2025-05-23 12:18:23,761 - INFO - Starting emotion detection request
2025-05-23 12:18:23,762 - INFO - Validated language: english
2025-05-23 12:18:23,762 - INFO - Initialized emotion detector
2025-05-23 12:18:23,762 - INFO - Starting image decoding
2025-05-23 12:18:23,762 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:23,762 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:23,762 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:23,779 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:23,779 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:23,787 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:23,825 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:23,826 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:23,826 - INFO - Starting emotion detection
2025-05-23 12:18:23,826 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:23,869 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:23,986 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:23,987 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:23,987 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:23,987 - INFO - Initializing Spotify client...
2025-05-23 12:18:23,987 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:23,987 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:23,988 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:23,989 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:24,519 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:24,519 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:24,520 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:24,521 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:24,687 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:24,688 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:24,689 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:24,689 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:24,690 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:24,690 - INFO - Preparing response
2025-05-23 12:18:24,701 - INFO - Starting emotion detection request
2025-05-23 12:18:24,701 - INFO - Validated language: english
2025-05-23 12:18:24,701 - INFO - Initialized emotion detector
2025-05-23 12:18:24,702 - INFO - Starting image decoding
2025-05-23 12:18:24,702 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:24,702 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:24,703 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:24,716 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:24,717 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:24,722 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:24,759 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:24,759 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:24,760 - INFO - Starting emotion detection
2025-05-23 12:18:24,760 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:24,801 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:24,890 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:24,890 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:24,890 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:24,890 - INFO - Initializing Spotify client...
2025-05-23 12:18:24,890 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:24,891 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:24,891 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:24,892 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:25,420 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:25,421 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:25,422 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:25,422 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:25,581 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:25,582 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:25,582 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:25,582 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:25,583 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:25,584 - INFO - Preparing response
2025-05-23 12:18:25,598 - INFO - Starting emotion detection request
2025-05-23 12:18:25,599 - INFO - Validated language: english
2025-05-23 12:18:25,599 - INFO - Initialized emotion detector
2025-05-23 12:18:25,599 - INFO - Starting image decoding
2025-05-23 12:18:25,599 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:25,599 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:25,599 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:25,614 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:25,614 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:25,620 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:25,657 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:25,657 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:25,657 - INFO - Starting emotion detection
2025-05-23 12:18:25,657 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:25,692 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:25,784 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:25,785 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:25,785 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:25,785 - INFO - Initializing Spotify client...
2025-05-23 12:18:25,785 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:25,785 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:25,786 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:25,787 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:26,321 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:26,322 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:26,325 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:26,325 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:26,484 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:26,485 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:26,486 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:26,486 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:26,487 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:26,487 - INFO - Preparing response
2025-05-23 12:18:26,499 - INFO - Starting emotion detection request
2025-05-23 12:18:26,499 - INFO - Validated language: english
2025-05-23 12:18:26,499 - INFO - Initialized emotion detector
2025-05-23 12:18:26,499 - INFO - Starting image decoding
2025-05-23 12:18:26,499 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:26,500 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:26,500 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:26,514 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:26,515 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:26,520 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:26,556 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:26,556 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:26,557 - INFO - Starting emotion detection
2025-05-23 12:18:26,557 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:26,593 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:26,672 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:26,672 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:26,672 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:26,672 - INFO - Initializing Spotify client...
2025-05-23 12:18:26,672 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:26,673 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:26,674 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:26,675 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:27,243 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:27,244 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:27,245 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:27,246 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:27,414 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:27,414 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:27,414 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:27,414 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:27,414 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:27,414 - INFO - Preparing response
2025-05-23 12:18:27,426 - INFO - Starting emotion detection request
2025-05-23 12:18:27,426 - INFO - Validated language: english
2025-05-23 12:18:27,426 - INFO - Initialized emotion detector
2025-05-23 12:18:27,427 - INFO - Starting image decoding
2025-05-23 12:18:27,427 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:27,427 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:27,427 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:27,440 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:27,440 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:27,446 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:27,482 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:27,482 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:27,483 - INFO - Starting emotion detection
2025-05-23 12:18:27,483 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:27,518 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:27,601 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:27,601 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:27,602 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:27,602 - INFO - Initializing Spotify client...
2025-05-23 12:18:27,602 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:27,602 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:27,602 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:27,603 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:28,144 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:28,145 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:28,146 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:28,146 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:28,307 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:28,308 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:28,309 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:28,309 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:28,311 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:28,311 - INFO - Preparing response
2025-05-23 12:18:28,329 - INFO - Starting emotion detection request
2025-05-23 12:18:28,330 - INFO - Validated language: english
2025-05-23 12:18:28,331 - INFO - Initialized emotion detector
2025-05-23 12:18:28,331 - INFO - Starting image decoding
2025-05-23 12:18:28,332 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:28,333 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:28,334 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:28,354 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:28,354 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:28,361 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:28,396 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:28,397 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:28,397 - INFO - Starting emotion detection
2025-05-23 12:18:28,397 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:28,432 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:28,522 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:28,522 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:28,523 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:28,523 - INFO - Initializing Spotify client...
2025-05-23 12:18:28,523 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:28,523 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:28,523 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:28,524 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:29,066 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:29,067 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:29,067 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:29,068 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:29,234 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:29,236 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:29,238 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:29,239 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:29,241 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:29,247 - INFO - Preparing response
2025-05-23 12:18:29,262 - INFO - Starting emotion detection request
2025-05-23 12:18:29,263 - INFO - Validated language: english
2025-05-23 12:18:29,263 - INFO - Initialized emotion detector
2025-05-23 12:18:29,263 - INFO - Starting image decoding
2025-05-23 12:18:29,264 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:29,264 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:29,265 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:29,286 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:29,286 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:29,292 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:29,330 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:29,330 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:29,330 - INFO - Starting emotion detection
2025-05-23 12:18:29,331 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:29,367 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:29,462 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:29,464 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:29,464 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:29,464 - INFO - Initializing Spotify client...
2025-05-23 12:18:29,464 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:29,464 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:29,464 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:29,466 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:30,070 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:30,071 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:30,072 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:30,072 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:30,236 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:30,237 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:30,237 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:30,238 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:30,239 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:30,240 - INFO - Preparing response
2025-05-23 12:18:30,256 - INFO - Starting emotion detection request
2025-05-23 12:18:30,256 - INFO - Validated language: english
2025-05-23 12:18:30,256 - INFO - Initialized emotion detector
2025-05-23 12:18:30,256 - INFO - Starting image decoding
2025-05-23 12:18:30,256 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:30,258 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:30,259 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:30,280 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:30,280 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:30,286 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:30,323 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:30,324 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:30,324 - INFO - Starting emotion detection
2025-05-23 12:18:30,324 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:30,375 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:30,472 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:30,472 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:30,472 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:30,473 - INFO - Initializing Spotify client...
2025-05-23 12:18:30,473 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:30,473 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:30,474 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:30,475 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:31,396 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:31,397 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:31,399 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:31,399 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:31,583 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:31,583 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:31,584 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:31,584 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:31,585 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:31,585 - INFO - Preparing response
2025-05-23 12:18:31,603 - INFO - Starting emotion detection request
2025-05-23 12:18:31,604 - INFO - Validated language: english
2025-05-23 12:18:31,604 - INFO - Initialized emotion detector
2025-05-23 12:18:31,605 - INFO - Starting image decoding
2025-05-23 12:18:31,605 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:31,606 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:31,606 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:31,634 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:31,635 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:31,645 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:31,682 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:31,682 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:31,682 - INFO - Starting emotion detection
2025-05-23 12:18:31,683 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:31,720 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:31,821 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:31,821 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:31,822 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:31,822 - INFO - Initializing Spotify client...
2025-05-23 12:18:31,822 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:31,822 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:31,823 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:31,824 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:32,363 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:32,364 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:32,364 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:32,365 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:32,529 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:32,529 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:32,530 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:32,530 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:32,531 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:32,531 - INFO - Preparing response
2025-05-23 12:18:32,542 - INFO - Starting emotion detection request
2025-05-23 12:18:32,542 - INFO - Validated language: english
2025-05-23 12:18:32,543 - INFO - Initialized emotion detector
2025-05-23 12:18:32,543 - INFO - Starting image decoding
2025-05-23 12:18:32,543 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:32,544 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:32,544 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:32,566 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:32,566 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:32,571 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:32,620 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:32,621 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:32,621 - INFO - Starting emotion detection
2025-05-23 12:18:32,621 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:32,657 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:32,741 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:32,741 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:32,741 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:32,741 - INFO - Initializing Spotify client...
2025-05-23 12:18:32,741 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:32,741 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:32,742 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:32,743 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:33,291 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:33,603 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:33,604 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:33,604 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:33,778 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:33,778 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:33,778 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:33,778 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:33,780 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:33,780 - INFO - Preparing response
2025-05-23 12:18:33,791 - INFO - Starting emotion detection request
2025-05-23 12:18:33,791 - INFO - Validated language: english
2025-05-23 12:18:33,791 - INFO - Initialized emotion detector
2025-05-23 12:18:33,791 - INFO - Starting image decoding
2025-05-23 12:18:33,791 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:33,792 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:33,792 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:33,806 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:33,806 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:33,812 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:33,848 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:33,848 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:33,848 - INFO - Starting emotion detection
2025-05-23 12:18:33,848 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:33,884 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:33,968 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:33,968 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:33,968 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:33,968 - INFO - Initializing Spotify client...
2025-05-23 12:18:33,968 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:33,968 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:33,969 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:33,969 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:34,508 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:34,509 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:34,510 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:34,512 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:34,675 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:34,676 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:34,677 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:34,677 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:34,679 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:34,679 - INFO - Preparing response
2025-05-23 12:18:34,700 - INFO - Starting emotion detection request
2025-05-23 12:18:34,701 - INFO - Validated language: english
2025-05-23 12:18:34,701 - INFO - Initialized emotion detector
2025-05-23 12:18:34,701 - INFO - Starting image decoding
2025-05-23 12:18:34,701 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:34,701 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:34,703 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:34,722 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:34,722 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:34,728 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:34,764 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:34,764 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:34,764 - INFO - Starting emotion detection
2025-05-23 12:18:34,766 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:34,802 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:34,884 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:34,884 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:34,884 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:34,885 - INFO - Initializing Spotify client...
2025-05-23 12:18:34,885 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:34,885 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:34,885 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:34,886 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:35,441 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:35,442 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:35,444 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:35,445 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:35,612 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:35,614 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:35,614 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:35,614 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:35,615 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:35,615 - INFO - Preparing response
2025-05-23 12:18:35,622 - INFO - Starting emotion detection request
2025-05-23 12:18:35,622 - INFO - Validated language: english
2025-05-23 12:18:35,622 - INFO - Initialized emotion detector
2025-05-23 12:18:35,622 - INFO - Starting image decoding
2025-05-23 12:18:35,622 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:35,623 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:35,623 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:35,637 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:35,637 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:35,644 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:35,682 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:35,682 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:35,684 - INFO - Starting emotion detection
2025-05-23 12:18:35,684 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:35,721 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:35,802 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:35,803 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:35,803 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:35,803 - INFO - Initializing Spotify client...
2025-05-23 12:18:35,803 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:35,803 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:35,803 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:35,804 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:36,391 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:36,392 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:36,392 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:36,393 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:36,557 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:36,557 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:36,558 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:36,558 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:36,559 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:36,559 - INFO - Preparing response
2025-05-23 12:18:36,597 - INFO - Starting emotion detection request
2025-05-23 12:18:36,598 - INFO - Validated language: english
2025-05-23 12:18:36,598 - INFO - Initialized emotion detector
2025-05-23 12:18:36,598 - INFO - Starting image decoding
2025-05-23 12:18:36,599 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:36,599 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:36,599 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:36,614 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:36,614 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:36,629 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:36,679 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:36,680 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:36,680 - INFO - Starting emotion detection
2025-05-23 12:18:36,680 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:36,718 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:36,803 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:36,803 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:36,804 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:36,804 - INFO - Initializing Spotify client...
2025-05-23 12:18:36,804 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:36,804 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:36,805 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:36,806 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:37,400 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:37,401 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:37,401 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:37,402 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:37,578 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:37,579 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:37,579 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:37,579 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:37,581 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:37,582 - INFO - Preparing response
2025-05-23 12:18:37,600 - INFO - Starting emotion detection request
2025-05-23 12:18:37,600 - INFO - Validated language: english
2025-05-23 12:18:37,601 - INFO - Initialized emotion detector
2025-05-23 12:18:37,601 - INFO - Starting image decoding
2025-05-23 12:18:37,602 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:37,603 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:37,603 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:37,637 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:37,637 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:37,644 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:37,680 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:37,680 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:37,681 - INFO - Starting emotion detection
2025-05-23 12:18:37,681 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:37,721 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:37,800 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:37,801 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:37,801 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:37,801 - INFO - Initializing Spotify client...
2025-05-23 12:18:37,801 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:37,801 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:37,801 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:37,802 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:38,344 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:38,345 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:38,345 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:38,345 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:38,526 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:38,527 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:38,527 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:38,527 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:38,528 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:38,529 - INFO - Preparing response
2025-05-23 12:18:38,537 - INFO - Starting emotion detection request
2025-05-23 12:18:38,538 - INFO - Validated language: english
2025-05-23 12:18:38,539 - INFO - Initialized emotion detector
2025-05-23 12:18:38,539 - INFO - Starting image decoding
2025-05-23 12:18:38,540 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:38,540 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:38,540 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:38,555 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:38,555 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:38,562 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:38,601 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:38,601 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:38,601 - INFO - Starting emotion detection
2025-05-23 12:18:38,602 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:38,638 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:38,718 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:38,718 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:38,719 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:38,719 - INFO - Initializing Spotify client...
2025-05-23 12:18:38,719 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:38,719 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:38,719 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:38,720 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:39,242 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:39,244 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:39,246 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:39,246 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:39,415 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:39,416 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:39,417 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:39,417 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:39,420 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:39,421 - INFO - Preparing response
2025-05-23 12:18:39,436 - INFO - Starting emotion detection request
2025-05-23 12:18:39,437 - INFO - Validated language: english
2025-05-23 12:18:39,437 - INFO - Initialized emotion detector
2025-05-23 12:18:39,438 - INFO - Starting image decoding
2025-05-23 12:18:39,439 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:39,440 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:39,441 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:39,464 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:39,466 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:39,476 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:39,523 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:39,524 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:39,524 - INFO - Starting emotion detection
2025-05-23 12:18:39,525 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:39,562 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:39,653 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:39,653 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:39,653 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:39,653 - INFO - Initializing Spotify client...
2025-05-23 12:18:39,653 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:39,654 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:39,654 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:39,655 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:40,215 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:40,217 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:40,219 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:40,220 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:40,386 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:40,387 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:40,387 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:40,387 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:40,389 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:40,389 - INFO - Preparing response
2025-05-23 12:18:40,401 - INFO - Starting emotion detection request
2025-05-23 12:18:40,402 - INFO - Validated language: english
2025-05-23 12:18:40,402 - INFO - Initialized emotion detector
2025-05-23 12:18:40,402 - INFO - Starting image decoding
2025-05-23 12:18:40,403 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:40,403 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:40,404 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:40,420 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:40,420 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:40,426 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:40,463 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:40,463 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:40,463 - INFO - Starting emotion detection
2025-05-23 12:18:40,463 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:40,499 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:40,584 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:40,584 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:40,584 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:40,584 - INFO - Initializing Spotify client...
2025-05-23 12:18:40,584 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:40,584 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:40,585 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:40,586 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:41,130 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:41,131 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:41,133 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:41,133 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:41,298 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:41,299 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:41,300 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:41,300 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:41,301 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:41,302 - INFO - Preparing response
2025-05-23 12:18:41,323 - INFO - Starting emotion detection request
2025-05-23 12:18:41,323 - INFO - Validated language: english
2025-05-23 12:18:41,323 - INFO - Initialized emotion detector
2025-05-23 12:18:41,324 - INFO - Starting image decoding
2025-05-23 12:18:41,324 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:41,324 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:41,325 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:41,344 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:41,344 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:41,349 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:41,386 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:41,386 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:41,386 - INFO - Starting emotion detection
2025-05-23 12:18:41,386 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:41,422 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:41,504 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:41,504 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:41,504 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:41,505 - INFO - Initializing Spotify client...
2025-05-23 12:18:41,505 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:41,505 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:41,505 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:41,507 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:42,437 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:42,439 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:42,441 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:42,442 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:42,603 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:42,604 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:42,604 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:42,605 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:42,607 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:42,608 - INFO - Preparing response
2025-05-23 12:18:42,626 - INFO - Starting emotion detection request
2025-05-23 12:18:42,626 - INFO - Validated language: english
2025-05-23 12:18:42,627 - INFO - Initialized emotion detector
2025-05-23 12:18:42,627 - INFO - Starting image decoding
2025-05-23 12:18:42,627 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:42,628 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:42,628 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:42,649 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:42,649 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:42,655 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:42,692 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:42,692 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:42,693 - INFO - Starting emotion detection
2025-05-23 12:18:42,693 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:42,733 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:42,814 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:42,814 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:42,815 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:42,815 - INFO - Initializing Spotify client...
2025-05-23 12:18:42,815 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:42,815 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:42,815 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:42,816 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:43,373 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:43,374 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:43,376 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:43,376 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:43,539 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:43,539 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:43,540 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:43,540 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:43,542 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:43,543 - INFO - Preparing response
2025-05-23 12:18:43,560 - INFO - Starting emotion detection request
2025-05-23 12:18:43,561 - INFO - Validated language: english
2025-05-23 12:18:43,561 - INFO - Initialized emotion detector
2025-05-23 12:18:43,561 - INFO - Starting image decoding
2025-05-23 12:18:43,562 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:43,562 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:43,563 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:43,582 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:43,583 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:43,591 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:43,634 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:43,634 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:43,634 - INFO - Starting emotion detection
2025-05-23 12:18:43,635 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:43,681 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:43,799 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:43,800 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:43,800 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:43,800 - INFO - Initializing Spotify client...
2025-05-23 12:18:43,801 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:43,801 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:43,801 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:43,802 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:44,354 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:44,355 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:44,359 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:44,360 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:44,534 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:44,534 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:44,534 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:44,534 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:44,536 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:44,536 - INFO - Preparing response
2025-05-23 12:18:44,552 - INFO - Starting emotion detection request
2025-05-23 12:18:44,552 - INFO - Validated language: english
2025-05-23 12:18:44,553 - INFO - Initialized emotion detector
2025-05-23 12:18:44,553 - INFO - Starting image decoding
2025-05-23 12:18:44,553 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:44,554 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:44,554 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:44,571 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:44,572 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:44,578 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:44,614 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:44,615 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:44,615 - INFO - Starting emotion detection
2025-05-23 12:18:44,616 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:44,658 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:44,751 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:44,751 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:44,751 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:44,751 - INFO - Initializing Spotify client...
2025-05-23 12:18:44,752 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:44,752 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:44,752 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:44,753 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:45,479 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:45,479 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:45,481 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:45,482 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:45,651 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:45,652 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:45,652 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:45,652 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:45,653 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:45,653 - INFO - Preparing response
2025-05-23 12:18:45,666 - INFO - Starting emotion detection request
2025-05-23 12:18:45,666 - INFO - Validated language: english
2025-05-23 12:18:45,666 - INFO - Initialized emotion detector
2025-05-23 12:18:45,667 - INFO - Starting image decoding
2025-05-23 12:18:45,667 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:45,667 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:45,667 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:45,686 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:45,686 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:45,694 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:45,730 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:45,731 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:45,731 - INFO - Starting emotion detection
2025-05-23 12:18:45,731 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:45,767 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:45,847 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:45,848 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:45,848 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:45,848 - INFO - Initializing Spotify client...
2025-05-23 12:18:45,848 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:45,848 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:45,848 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:45,849 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:46,412 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:46,412 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:46,412 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:46,412 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:46,576 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:46,576 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:46,576 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:46,576 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:46,578 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:46,579 - INFO - Preparing response
2025-05-23 12:18:46,904 - INFO - Starting emotion detection request
2025-05-23 12:18:46,904 - INFO - Validated language: english
2025-05-23 12:18:46,904 - INFO - Initialized emotion detector
2025-05-23 12:18:46,904 - INFO - Starting image decoding
2025-05-23 12:18:46,904 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:46,904 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:46,904 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:46,918 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:46,918 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:46,923 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:46,959 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:46,959 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:46,961 - INFO - Starting emotion detection
2025-05-23 12:18:46,961 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:46,997 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:47,081 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:47,081 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:47,081 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:47,081 - INFO - Initializing Spotify client...
2025-05-23 12:18:47,082 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:47,082 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:47,082 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:47,082 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:47,646 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:47,955 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:47,955 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:47,956 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:48,128 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:48,128 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:48,129 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:48,129 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:48,130 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:48,130 - INFO - Preparing response
2025-05-23 12:18:48,144 - INFO - Starting emotion detection request
2025-05-23 12:18:48,144 - INFO - Validated language: english
2025-05-23 12:18:48,144 - INFO - Initialized emotion detector
2025-05-23 12:18:48,144 - INFO - Starting image decoding
2025-05-23 12:18:48,144 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:48,144 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:48,144 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:48,162 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:48,162 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:48,168 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:48,202 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:48,202 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:48,203 - INFO - Starting emotion detection
2025-05-23 12:18:48,203 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:48,239 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:48,322 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:48,322 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:48,322 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:48,322 - INFO - Initializing Spotify client...
2025-05-23 12:18:48,322 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:48,323 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:48,323 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:48,324 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:48,905 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:48,906 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:48,908 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:48,908 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:49,162 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:49,162 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:49,162 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:49,162 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:49,164 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:49,164 - INFO - Preparing response
2025-05-23 12:18:49,179 - INFO - Starting emotion detection request
2025-05-23 12:18:49,180 - INFO - Validated language: english
2025-05-23 12:18:49,180 - INFO - Initialized emotion detector
2025-05-23 12:18:49,180 - INFO - Starting image decoding
2025-05-23 12:18:49,180 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:49,180 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:49,180 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:49,195 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:49,196 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:49,202 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:49,238 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:49,238 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:49,239 - INFO - Starting emotion detection
2025-05-23 12:18:49,239 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:49,275 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:49,353 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:49,353 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:49,353 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:49,355 - INFO - Initializing Spotify client...
2025-05-23 12:18:49,355 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:49,355 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:49,355 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:49,356 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:49,913 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:49,913 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:49,914 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:49,915 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:50,082 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:50,083 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:50,083 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:50,084 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:50,084 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:50,084 - INFO - Preparing response
2025-05-23 12:18:50,098 - INFO - Starting emotion detection request
2025-05-23 12:18:50,098 - INFO - Validated language: english
2025-05-23 12:18:50,098 - INFO - Initialized emotion detector
2025-05-23 12:18:50,099 - INFO - Starting image decoding
2025-05-23 12:18:50,099 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:50,099 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:50,099 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:50,114 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:50,114 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:50,120 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:50,156 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:50,157 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:50,157 - INFO - Starting emotion detection
2025-05-23 12:18:50,157 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:50,196 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:50,276 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:50,276 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:50,276 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:50,276 - INFO - Initializing Spotify client...
2025-05-23 12:18:50,277 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:50,277 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:50,277 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:50,278 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:50,822 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:50,823 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:50,825 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:50,825 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:51,000 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:51,000 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:51,000 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:51,001 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:51,002 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:51,002 - INFO - Preparing response
2025-05-23 12:18:51,014 - INFO - Starting emotion detection request
2025-05-23 12:18:51,014 - INFO - Validated language: english
2025-05-23 12:18:51,014 - INFO - Initialized emotion detector
2025-05-23 12:18:51,014 - INFO - Starting image decoding
2025-05-23 12:18:51,014 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:51,015 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:51,015 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:51,029 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:51,030 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:51,035 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:51,072 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:51,072 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:51,072 - INFO - Starting emotion detection
2025-05-23 12:18:51,073 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:51,113 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:51,197 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:51,197 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:51,197 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:51,197 - INFO - Initializing Spotify client...
2025-05-23 12:18:51,197 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:51,197 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:51,199 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:51,200 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:51,822 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:51,823 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:51,825 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:51,826 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:51,995 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:51,996 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:51,996 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:51,996 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:51,997 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:51,998 - INFO - Preparing response
2025-05-23 12:18:52,014 - INFO - Starting emotion detection request
2025-05-23 12:18:52,015 - INFO - Validated language: english
2025-05-23 12:18:52,015 - INFO - Initialized emotion detector
2025-05-23 12:18:52,015 - INFO - Starting image decoding
2025-05-23 12:18:52,015 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:52,015 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:52,015 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:52,032 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:52,032 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:52,045 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:52,087 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:52,087 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:52,087 - INFO - Starting emotion detection
2025-05-23 12:18:52,087 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:52,125 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:52,207 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:52,208 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:52,208 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:52,208 - INFO - Initializing Spotify client...
2025-05-23 12:18:52,208 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:52,208 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:52,208 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:52,208 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:52,900 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:52,900 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:52,901 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:52,902 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:53,084 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:53,084 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:53,084 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:53,084 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:53,086 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:53,086 - INFO - Preparing response
2025-05-23 12:18:53,096 - INFO - Starting emotion detection request
2025-05-23 12:18:53,096 - INFO - Validated language: english
2025-05-23 12:18:53,096 - INFO - Initialized emotion detector
2025-05-23 12:18:53,097 - INFO - Starting image decoding
2025-05-23 12:18:53,097 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:53,097 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:53,097 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:53,113 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:53,113 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:53,119 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:53,154 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:53,155 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:53,155 - INFO - Starting emotion detection
2025-05-23 12:18:53,156 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:53,193 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:53,278 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:53,278 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:53,278 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:53,278 - INFO - Initializing Spotify client...
2025-05-23 12:18:53,278 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:53,278 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:53,279 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:53,279 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:53,819 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:53,821 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:53,825 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:53,825 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:54,009 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:54,010 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:54,010 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:54,010 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:54,014 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:54,014 - INFO - Preparing response
2025-05-23 12:18:54,050 - INFO - Starting emotion detection request
2025-05-23 12:18:54,050 - INFO - Validated language: english
2025-05-23 12:18:54,051 - INFO - Initialized emotion detector
2025-05-23 12:18:54,051 - INFO - Starting image decoding
2025-05-23 12:18:54,052 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:54,053 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:54,054 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:54,069 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:54,070 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:54,075 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:54,112 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:54,112 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:54,113 - INFO - Starting emotion detection
2025-05-23 12:18:54,113 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:54,148 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:54,230 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:54,230 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:54,231 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:54,231 - INFO - Initializing Spotify client...
2025-05-23 12:18:54,231 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:54,231 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:54,232 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:54,232 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:54,817 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:54,819 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:54,822 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:54,823 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:55,000 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:55,000 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:55,001 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:55,001 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:55,003 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:55,003 - INFO - Preparing response
2025-05-23 12:18:55,012 - INFO - Starting emotion detection request
2025-05-23 12:18:55,013 - INFO - Validated language: english
2025-05-23 12:18:55,013 - INFO - Initialized emotion detector
2025-05-23 12:18:55,013 - INFO - Starting image decoding
2025-05-23 12:18:55,013 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:55,013 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:55,014 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:55,028 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:55,028 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:55,034 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:55,071 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:55,072 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:55,072 - INFO - Starting emotion detection
2025-05-23 12:18:55,073 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:55,108 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:55,191 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:55,191 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:55,191 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:55,191 - INFO - Initializing Spotify client...
2025-05-23 12:18:55,191 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:55,191 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:55,192 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:55,192 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:55,719 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:55,719 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:55,721 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:55,721 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:55,886 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:55,887 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:55,888 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:55,888 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:55,888 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:55,888 - INFO - Preparing response
2025-05-23 12:18:55,896 - INFO - Starting emotion detection request
2025-05-23 12:18:55,896 - INFO - Validated language: english
2025-05-23 12:18:55,896 - INFO - Initialized emotion detector
2025-05-23 12:18:55,897 - INFO - Starting image decoding
2025-05-23 12:18:55,897 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:55,897 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:55,898 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:55,912 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:55,912 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:55,918 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:55,956 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:55,956 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:55,956 - INFO - Starting emotion detection
2025-05-23 12:18:55,956 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:55,992 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:56,080 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:56,080 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:56,081 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:56,081 - INFO - Initializing Spotify client...
2025-05-23 12:18:56,081 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:56,081 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:56,082 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:56,083 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:56,630 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:56,631 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:56,632 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:56,632 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:56,799 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:56,800 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:56,800 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:56,801 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:56,802 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:56,802 - INFO - Preparing response
2025-05-23 12:18:56,808 - INFO - Starting emotion detection request
2025-05-23 12:18:56,810 - INFO - Validated language: english
2025-05-23 12:18:56,811 - INFO - Initialized emotion detector
2025-05-23 12:18:56,811 - INFO - Starting image decoding
2025-05-23 12:18:56,812 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:56,812 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:56,812 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:56,832 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:56,832 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:56,837 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:56,873 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:56,874 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:56,874 - INFO - Starting emotion detection
2025-05-23 12:18:56,874 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:56,914 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:56,993 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:56,993 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:56,993 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:56,993 - INFO - Initializing Spotify client...
2025-05-23 12:18:56,993 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:56,995 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:56,995 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:56,995 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:57,558 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:57,558 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:57,558 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:57,560 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:57,733 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:57,734 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:57,734 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:57,734 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:57,735 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:57,736 - INFO - Preparing response
2025-05-23 12:18:57,749 - INFO - Starting emotion detection request
2025-05-23 12:18:57,750 - INFO - Validated language: english
2025-05-23 12:18:57,750 - INFO - Initialized emotion detector
2025-05-23 12:18:57,750 - INFO - Starting image decoding
2025-05-23 12:18:57,750 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:57,750 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:57,751 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:57,770 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:57,770 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:57,776 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:57,816 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:57,817 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:57,817 - INFO - Starting emotion detection
2025-05-23 12:18:57,818 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:57,855 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:57,971 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:57,971 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:57,971 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:57,972 - INFO - Initializing Spotify client...
2025-05-23 12:18:57,972 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:57,972 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:57,972 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:57,973 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:58,519 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:58,521 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:58,524 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:58,525 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:58,681 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:58,682 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:58,684 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:58,685 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:58,687 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:58,687 - INFO - Preparing response
2025-05-23 12:18:58,712 - INFO - Starting emotion detection request
2025-05-23 12:18:58,713 - INFO - Validated language: english
2025-05-23 12:18:58,713 - INFO - Initialized emotion detector
2025-05-23 12:18:58,714 - INFO - Starting image decoding
2025-05-23 12:18:58,714 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:58,715 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:58,716 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:58,741 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:58,741 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:58,748 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:58,788 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:58,789 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:58,789 - INFO - Starting emotion detection
2025-05-23 12:18:58,789 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:58,828 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:58,920 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:58,920 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:58,921 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:58,921 - INFO - Initializing Spotify client...
2025-05-23 12:18:58,921 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:58,921 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:58,922 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:58,923 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:18:59,448 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:18:59,449 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:18:59,450 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:18:59,451 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:59,612 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:18:59,612 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:18:59,614 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:18:59,614 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:18:59,615 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:18:59,615 - INFO - Preparing response
2025-05-23 12:18:59,628 - INFO - Starting emotion detection request
2025-05-23 12:18:59,629 - INFO - Validated language: english
2025-05-23 12:18:59,629 - INFO - Initialized emotion detector
2025-05-23 12:18:59,630 - INFO - Starting image decoding
2025-05-23 12:18:59,630 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:18:59,630 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:18:59,630 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:18:59,645 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:18:59,646 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:18:59,651 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:59,687 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:18:59,688 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:18:59,688 - INFO - Starting emotion detection
2025-05-23 12:18:59,688 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:18:59,729 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:18:59,812 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:18:59,812 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:18:59,812 - INFO - Attempting to get playlist recommendations
2025-05-23 12:18:59,812 - INFO - Initializing Spotify client...
2025-05-23 12:18:59,813 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:18:59,813 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:18:59,813 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:18:59,814 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:00,384 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:00,388 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:00,392 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:00,393 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:00,568 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:00,568 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:00,569 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:00,569 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:00,570 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:00,570 - INFO - Preparing response
2025-05-23 12:19:00,577 - INFO - Starting emotion detection request
2025-05-23 12:19:00,577 - INFO - Validated language: english
2025-05-23 12:19:00,577 - INFO - Initialized emotion detector
2025-05-23 12:19:00,578 - INFO - Starting image decoding
2025-05-23 12:19:00,578 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:00,578 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:00,578 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:00,592 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:00,593 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:00,598 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:00,632 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:00,632 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:00,634 - INFO - Starting emotion detection
2025-05-23 12:19:00,634 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:00,671 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:00,752 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:00,752 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:00,752 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:00,752 - INFO - Initializing Spotify client...
2025-05-23 12:19:00,753 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:00,753 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:00,753 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:00,754 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:01,369 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:01,370 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:01,371 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:01,372 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:01,539 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:01,541 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:01,541 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:01,541 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:01,542 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:01,543 - INFO - Preparing response
2025-05-23 12:19:01,557 - INFO - Starting emotion detection request
2025-05-23 12:19:01,557 - INFO - Validated language: english
2025-05-23 12:19:01,558 - INFO - Initialized emotion detector
2025-05-23 12:19:01,558 - INFO - Starting image decoding
2025-05-23 12:19:01,558 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:01,558 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:01,558 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:01,576 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:01,578 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:01,584 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:01,626 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:01,626 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:01,628 - INFO - Starting emotion detection
2025-05-23 12:19:01,628 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:01,664 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:01,757 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:01,757 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:01,758 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:01,758 - INFO - Initializing Spotify client...
2025-05-23 12:19:01,758 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:01,758 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:01,758 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:01,760 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:02,394 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:02,395 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:02,396 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:02,396 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:02,559 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:02,560 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:02,560 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:02,560 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:02,562 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:02,562 - INFO - Preparing response
2025-05-23 12:19:02,570 - INFO - Starting emotion detection request
2025-05-23 12:19:02,570 - INFO - Validated language: english
2025-05-23 12:19:02,571 - INFO - Initialized emotion detector
2025-05-23 12:19:02,571 - INFO - Starting image decoding
2025-05-23 12:19:02,571 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:02,571 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:02,571 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:02,586 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:02,586 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:02,592 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:02,628 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:02,629 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:02,629 - INFO - Starting emotion detection
2025-05-23 12:19:02,629 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:02,689 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:02,776 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:02,778 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:02,778 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:02,778 - INFO - Initializing Spotify client...
2025-05-23 12:19:02,778 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:02,778 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:02,779 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:02,779 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:03,295 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:03,296 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:03,298 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:03,298 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:03,460 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:03,461 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:03,461 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:03,461 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:03,463 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:03,463 - INFO - Preparing response
2025-05-23 12:19:03,474 - INFO - Starting emotion detection request
2025-05-23 12:19:03,476 - INFO - Validated language: english
2025-05-23 12:19:03,476 - INFO - Initialized emotion detector
2025-05-23 12:19:03,476 - INFO - Starting image decoding
2025-05-23 12:19:03,476 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:03,477 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:03,477 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:03,491 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:03,491 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:03,496 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:03,534 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:03,534 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:03,534 - INFO - Starting emotion detection
2025-05-23 12:19:03,535 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:03,570 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:03,648 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:03,648 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:03,648 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:03,648 - INFO - Initializing Spotify client...
2025-05-23 12:19:03,648 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:03,648 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:03,649 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:03,650 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:04,297 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:04,297 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:04,298 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:04,299 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:04,467 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:04,468 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:04,468 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:04,468 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:04,469 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:04,469 - INFO - Preparing response
2025-05-23 12:19:04,482 - INFO - Starting emotion detection request
2025-05-23 12:19:04,482 - INFO - Validated language: english
2025-05-23 12:19:04,482 - INFO - Initialized emotion detector
2025-05-23 12:19:04,482 - INFO - Starting image decoding
2025-05-23 12:19:04,484 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:04,484 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:04,484 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:04,501 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:04,501 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:04,507 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:04,552 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:04,553 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:04,553 - INFO - Starting emotion detection
2025-05-23 12:19:04,553 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:04,591 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:04,671 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:04,672 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:04,672 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:04,672 - INFO - Initializing Spotify client...
2025-05-23 12:19:04,672 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:04,672 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:04,672 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:04,673 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:05,225 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:05,226 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:05,229 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:05,230 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:05,401 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:05,401 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:05,401 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:05,402 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:05,403 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:05,403 - INFO - Preparing response
2025-05-23 12:19:05,409 - INFO - Starting emotion detection request
2025-05-23 12:19:05,409 - INFO - Validated language: english
2025-05-23 12:19:05,410 - INFO - Initialized emotion detector
2025-05-23 12:19:05,410 - INFO - Starting image decoding
2025-05-23 12:19:05,410 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:05,411 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:05,411 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:05,426 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:05,426 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:05,431 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:05,468 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:05,468 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:05,469 - INFO - Starting emotion detection
2025-05-23 12:19:05,469 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:05,505 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:05,591 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:05,591 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:05,591 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:05,591 - INFO - Initializing Spotify client...
2025-05-23 12:19:05,591 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:05,592 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:05,592 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:05,593 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:06,155 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:06,156 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:06,156 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:06,156 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:06,334 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:06,334 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:06,334 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:06,335 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:06,336 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:06,336 - INFO - Preparing response
2025-05-23 12:19:06,354 - INFO - Starting emotion detection request
2025-05-23 12:19:06,354 - INFO - Validated language: english
2025-05-23 12:19:06,355 - INFO - Initialized emotion detector
2025-05-23 12:19:06,355 - INFO - Starting image decoding
2025-05-23 12:19:06,356 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:06,356 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:06,358 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:06,381 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:06,381 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:06,391 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:06,432 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:06,432 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:06,433 - INFO - Starting emotion detection
2025-05-23 12:19:06,433 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:06,474 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:06,570 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:06,570 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:06,570 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:06,571 - INFO - Initializing Spotify client...
2025-05-23 12:19:06,571 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:06,571 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:06,571 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:06,572 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:07,148 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:07,149 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:07,150 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:07,150 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:07,309 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:07,310 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:07,311 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:07,312 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:07,314 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:07,314 - INFO - Preparing response
2025-05-23 12:19:07,384 - INFO - Starting emotion detection request
2025-05-23 12:19:07,385 - INFO - Validated language: english
2025-05-23 12:19:07,385 - INFO - Initialized emotion detector
2025-05-23 12:19:07,385 - INFO - Starting image decoding
2025-05-23 12:19:07,385 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:07,386 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:07,386 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:07,406 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:07,406 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:07,414 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:07,459 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:07,460 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:07,461 - INFO - Starting emotion detection
2025-05-23 12:19:07,461 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:07,506 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:07,597 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:07,597 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:07,598 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:07,598 - INFO - Initializing Spotify client...
2025-05-23 12:19:07,598 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:07,598 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:07,599 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:07,599 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:08,325 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:08,326 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:08,326 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:08,328 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:08,500 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:08,503 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:08,503 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:08,505 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:08,508 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:08,508 - INFO - Preparing response
2025-05-23 12:19:08,529 - INFO - Starting emotion detection request
2025-05-23 12:19:08,530 - INFO - Validated language: english
2025-05-23 12:19:08,531 - INFO - Initialized emotion detector
2025-05-23 12:19:08,531 - INFO - Starting image decoding
2025-05-23 12:19:08,532 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:08,532 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:08,532 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:08,562 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:08,563 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:08,569 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:08,605 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:08,605 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:08,607 - INFO - Starting emotion detection
2025-05-23 12:19:08,607 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:08,646 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:08,730 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:08,730 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:08,731 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:08,731 - INFO - Initializing Spotify client...
2025-05-23 12:19:08,731 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:08,731 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:08,731 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:08,732 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:09,264 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:09,266 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:09,268 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:09,268 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:09,437 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:09,437 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:09,437 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:09,439 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:09,440 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:09,441 - INFO - Preparing response
2025-05-23 12:19:09,458 - INFO - Starting emotion detection request
2025-05-23 12:19:09,458 - INFO - Validated language: english
2025-05-23 12:19:09,459 - INFO - Initialized emotion detector
2025-05-23 12:19:09,459 - INFO - Starting image decoding
2025-05-23 12:19:09,460 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:09,460 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:09,460 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:09,482 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:09,482 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:09,488 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:09,525 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:09,526 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:09,526 - INFO - Starting emotion detection
2025-05-23 12:19:09,526 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:09,566 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:09,649 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:09,649 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:09,649 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:09,649 - INFO - Initializing Spotify client...
2025-05-23 12:19:09,649 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:09,649 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:09,650 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:09,652 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:10,209 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:10,211 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:10,221 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:10,224 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:10,390 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:10,391 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:10,391 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:10,392 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:10,393 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:10,393 - INFO - Preparing response
2025-05-23 12:19:10,405 - INFO - Starting emotion detection request
2025-05-23 12:19:10,405 - INFO - Validated language: english
2025-05-23 12:19:10,405 - INFO - Initialized emotion detector
2025-05-23 12:19:10,406 - INFO - Starting image decoding
2025-05-23 12:19:10,406 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:10,407 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:10,408 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:10,425 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:10,426 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:10,431 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:10,471 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:10,471 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:10,471 - INFO - Starting emotion detection
2025-05-23 12:19:10,471 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:10,507 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:10,596 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:10,596 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:10,597 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:10,597 - INFO - Initializing Spotify client...
2025-05-23 12:19:10,597 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:10,597 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:10,598 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:10,599 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:11,141 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:11,142 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:11,142 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:11,143 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:11,315 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:11,315 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:11,316 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:11,317 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:11,319 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:11,319 - INFO - Preparing response
2025-05-23 12:19:11,329 - INFO - Starting emotion detection request
2025-05-23 12:19:11,329 - INFO - Validated language: english
2025-05-23 12:19:11,330 - INFO - Initialized emotion detector
2025-05-23 12:19:11,330 - INFO - Starting image decoding
2025-05-23 12:19:11,330 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:11,330 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:11,331 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:11,349 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:11,349 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:11,357 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:11,392 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:11,392 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:11,392 - INFO - Starting emotion detection
2025-05-23 12:19:11,392 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:11,430 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:11,512 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:11,512 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:11,514 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:11,514 - INFO - Initializing Spotify client...
2025-05-23 12:19:11,514 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:11,514 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:11,514 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:11,515 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:12,038 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:12,039 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:12,040 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:12,041 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:12,203 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:12,203 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:12,203 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:12,203 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:12,203 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:12,203 - INFO - Preparing response
2025-05-23 12:19:12,219 - INFO - Starting emotion detection request
2025-05-23 12:19:12,220 - INFO - Validated language: english
2025-05-23 12:19:12,220 - INFO - Initialized emotion detector
2025-05-23 12:19:12,220 - INFO - Starting image decoding
2025-05-23 12:19:12,220 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:12,221 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:12,221 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:12,236 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:12,236 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:12,242 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:12,278 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:12,278 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:12,278 - INFO - Starting emotion detection
2025-05-23 12:19:12,278 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:12,315 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:12,404 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:12,404 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:12,404 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:12,404 - INFO - Initializing Spotify client...
2025-05-23 12:19:12,404 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:12,405 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:12,405 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:12,406 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:12,986 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:12,986 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:12,987 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:12,987 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:13,155 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:13,156 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:13,156 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:13,157 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:13,158 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:13,158 - INFO - Preparing response
2025-05-23 12:19:13,171 - INFO - Starting emotion detection request
2025-05-23 12:19:13,172 - INFO - Validated language: english
2025-05-23 12:19:13,172 - INFO - Initialized emotion detector
2025-05-23 12:19:13,173 - INFO - Starting image decoding
2025-05-23 12:19:13,173 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:13,174 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:13,174 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:13,188 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:13,188 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:13,194 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:13,231 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:13,231 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:13,232 - INFO - Starting emotion detection
2025-05-23 12:19:13,232 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:13,271 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:13,353 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:13,355 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:13,355 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:13,355 - INFO - Initializing Spotify client...
2025-05-23 12:19:13,355 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:13,355 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:13,355 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:13,356 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:13,963 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:13,964 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:13,964 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:13,966 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:14,126 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:14,126 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:14,128 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:14,128 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:14,129 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:14,129 - INFO - Preparing response
2025-05-23 12:19:14,138 - INFO - Starting emotion detection request
2025-05-23 12:19:14,139 - INFO - Validated language: english
2025-05-23 12:19:14,139 - INFO - Initialized emotion detector
2025-05-23 12:19:14,139 - INFO - Starting image decoding
2025-05-23 12:19:14,139 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:14,139 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:14,139 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:14,154 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:14,154 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:14,159 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:14,195 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:14,195 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:14,195 - INFO - Starting emotion detection
2025-05-23 12:19:14,195 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:14,232 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:14,326 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:14,326 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:14,327 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:14,327 - INFO - Initializing Spotify client...
2025-05-23 12:19:14,327 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:14,327 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:14,327 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:14,329 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:14,852 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:14,853 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:14,855 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:14,856 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:15,021 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:15,022 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:15,023 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:15,023 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:15,026 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:15,027 - INFO - Preparing response
2025-05-23 12:19:15,049 - INFO - Starting emotion detection request
2025-05-23 12:19:15,050 - INFO - Validated language: english
2025-05-23 12:19:15,051 - INFO - Initialized emotion detector
2025-05-23 12:19:15,052 - INFO - Starting image decoding
2025-05-23 12:19:15,052 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:15,053 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:15,054 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:15,080 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:15,080 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:15,088 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:15,126 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:15,126 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:15,128 - INFO - Starting emotion detection
2025-05-23 12:19:15,128 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:15,167 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:15,260 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:15,260 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:15,260 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:15,260 - INFO - Initializing Spotify client...
2025-05-23 12:19:15,260 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:15,261 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:15,261 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:15,262 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:15,860 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:15,861 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:15,862 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:15,862 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:16,037 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:16,039 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:16,039 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:16,040 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:16,041 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:16,041 - INFO - Preparing response
2025-05-23 12:19:16,057 - INFO - Starting emotion detection request
2025-05-23 12:19:16,057 - INFO - Validated language: english
2025-05-23 12:19:16,058 - INFO - Initialized emotion detector
2025-05-23 12:19:16,058 - INFO - Starting image decoding
2025-05-23 12:19:16,058 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:16,058 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:16,059 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:16,074 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:16,075 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:16,080 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:16,123 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:16,123 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:16,123 - INFO - Starting emotion detection
2025-05-23 12:19:16,124 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:16,164 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:16,255 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:16,256 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:16,256 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:16,257 - INFO - Initializing Spotify client...
2025-05-23 12:19:16,257 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:16,257 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:16,257 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:16,258 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:16,844 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:16,846 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:16,847 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:16,848 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:17,021 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:17,023 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:17,024 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:17,024 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:17,026 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:17,026 - INFO - Preparing response
2025-05-23 12:19:17,045 - INFO - Starting emotion detection request
2025-05-23 12:19:17,046 - INFO - Validated language: english
2025-05-23 12:19:17,046 - INFO - Initialized emotion detector
2025-05-23 12:19:17,046 - INFO - Starting image decoding
2025-05-23 12:19:17,047 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:17,048 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:17,049 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:17,067 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:17,068 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:17,074 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:17,112 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:17,112 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:17,112 - INFO - Starting emotion detection
2025-05-23 12:19:17,112 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:17,148 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:17,247 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:17,247 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:17,247 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:17,247 - INFO - Initializing Spotify client...
2025-05-23 12:19:17,247 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:17,249 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:17,249 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:17,251 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:17,820 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:17,821 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:17,822 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:17,822 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:17,989 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:17,990 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:17,991 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:17,992 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:17,994 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:17,995 - INFO - Preparing response
2025-05-23 12:19:18,016 - INFO - Starting emotion detection request
2025-05-23 12:19:18,016 - INFO - Validated language: english
2025-05-23 12:19:18,016 - INFO - Initialized emotion detector
2025-05-23 12:19:18,017 - INFO - Starting image decoding
2025-05-23 12:19:18,017 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:18,018 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:18,020 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:18,048 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:18,048 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:18,054 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:18,090 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:18,090 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:18,090 - INFO - Starting emotion detection
2025-05-23 12:19:18,090 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:18,127 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:18,204 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:18,204 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:18,204 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:18,204 - INFO - Initializing Spotify client...
2025-05-23 12:19:18,204 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:18,205 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:18,205 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:18,206 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:18,779 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:18,780 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:18,781 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:18,781 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:18,943 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:18,944 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:18,944 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:18,944 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:18,945 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:18,945 - INFO - Preparing response
2025-05-23 12:19:18,958 - INFO - Starting emotion detection request
2025-05-23 12:19:18,958 - INFO - Validated language: english
2025-05-23 12:19:18,958 - INFO - Initialized emotion detector
2025-05-23 12:19:18,958 - INFO - Starting image decoding
2025-05-23 12:19:18,958 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:18,958 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:18,960 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:18,975 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:18,975 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:18,981 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:19,019 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:19,019 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:19,020 - INFO - Starting emotion detection
2025-05-23 12:19:19,020 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:19,057 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:19,153 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:19,153 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:19,153 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:19,153 - INFO - Initializing Spotify client...
2025-05-23 12:19:19,153 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:19,153 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:19,154 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:19,154 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:19,681 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:19,682 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:19,684 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:19,685 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:19,845 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:19,846 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:19,846 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:19,846 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:19,847 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:19,848 - INFO - Preparing response
2025-05-23 12:19:19,858 - INFO - Starting emotion detection request
2025-05-23 12:19:19,858 - INFO - Validated language: english
2025-05-23 12:19:19,858 - INFO - Initialized emotion detector
2025-05-23 12:19:19,858 - INFO - Starting image decoding
2025-05-23 12:19:19,858 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:19,858 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:19,859 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:19,872 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:19,872 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:19,877 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:19,912 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:19,912 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:19,913 - INFO - Starting emotion detection
2025-05-23 12:19:19,913 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:19,951 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:20,042 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:20,043 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:20,043 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:20,043 - INFO - Initializing Spotify client...
2025-05-23 12:19:20,043 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:20,043 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:20,043 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:20,044 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:20,592 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:20,592 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:20,594 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:20,595 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:20,756 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:20,756 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:20,758 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:20,758 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:20,759 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:20,759 - INFO - Preparing response
2025-05-23 12:19:20,767 - INFO - Starting emotion detection request
2025-05-23 12:19:20,767 - INFO - Validated language: english
2025-05-23 12:19:20,768 - INFO - Initialized emotion detector
2025-05-23 12:19:20,768 - INFO - Starting image decoding
2025-05-23 12:19:20,768 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:20,769 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:20,770 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:20,787 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:20,787 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:20,792 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:20,833 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:20,834 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:20,834 - INFO - Starting emotion detection
2025-05-23 12:19:20,835 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:20,871 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:20,963 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:20,964 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:20,964 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:20,964 - INFO - Initializing Spotify client...
2025-05-23 12:19:20,964 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:20,964 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:20,964 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:20,967 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:21,601 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:21,603 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:21,603 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:21,603 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:21,775 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:21,776 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:21,776 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:21,776 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:21,778 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:21,778 - INFO - Preparing response
2025-05-23 12:19:21,788 - INFO - Starting emotion detection request
2025-05-23 12:19:21,788 - INFO - Validated language: english
2025-05-23 12:19:21,789 - INFO - Initialized emotion detector
2025-05-23 12:19:21,789 - INFO - Starting image decoding
2025-05-23 12:19:21,789 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:21,789 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:21,789 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:21,806 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:21,806 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:21,814 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:21,855 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:21,855 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:21,855 - INFO - Starting emotion detection
2025-05-23 12:19:21,855 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:21,899 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:22,012 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:22,013 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:22,013 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:22,014 - INFO - Initializing Spotify client...
2025-05-23 12:19:22,014 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:22,015 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:22,015 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:22,017 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:22,680 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:22,681 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:22,682 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:22,684 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:22,859 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:22,860 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:22,860 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:22,862 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:22,865 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:22,865 - INFO - Preparing response
2025-05-23 12:19:22,876 - INFO - Starting emotion detection request
2025-05-23 12:19:22,876 - INFO - Validated language: english
2025-05-23 12:19:22,877 - INFO - Initialized emotion detector
2025-05-23 12:19:22,877 - INFO - Starting image decoding
2025-05-23 12:19:22,877 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:22,878 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:22,879 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:22,905 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:22,905 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:22,915 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:22,974 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:22,975 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:22,975 - INFO - Starting emotion detection
2025-05-23 12:19:22,975 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:23,036 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:23,186 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:23,186 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:23,187 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:23,187 - INFO - Initializing Spotify client...
2025-05-23 12:19:23,187 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:23,187 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:23,188 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:23,189 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:23,952 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:23,953 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:23,956 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:23,957 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:24,135 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:24,135 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:24,136 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:24,136 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:24,137 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:24,138 - INFO - Preparing response
2025-05-23 12:19:24,145 - INFO - Starting emotion detection request
2025-05-23 12:19:24,145 - INFO - Validated language: english
2025-05-23 12:19:24,145 - INFO - Initialized emotion detector
2025-05-23 12:19:24,146 - INFO - Starting image decoding
2025-05-23 12:19:24,146 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:24,146 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:24,146 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:24,170 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:24,170 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:24,182 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:24,241 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:24,241 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:24,242 - INFO - Starting emotion detection
2025-05-23 12:19:24,242 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:24,300 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:24,458 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:24,459 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:24,459 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:24,460 - INFO - Initializing Spotify client...
2025-05-23 12:19:24,460 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:24,460 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:24,461 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:24,462 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:25,166 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:25,167 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:25,169 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:25,170 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:25,359 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:25,361 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:25,361 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:25,362 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:25,364 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:25,365 - INFO - Preparing response
2025-05-23 12:19:25,378 - INFO - Starting emotion detection request
2025-05-23 12:19:25,379 - INFO - Validated language: english
2025-05-23 12:19:25,380 - INFO - Initialized emotion detector
2025-05-23 12:19:25,380 - INFO - Starting image decoding
2025-05-23 12:19:25,380 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:25,381 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:25,382 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:25,431 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:25,431 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:25,442 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:25,501 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:25,502 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:25,503 - INFO - Starting emotion detection
2025-05-23 12:19:25,503 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:25,558 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:25,708 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:25,709 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:25,709 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:25,709 - INFO - Initializing Spotify client...
2025-05-23 12:19:25,709 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:25,709 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:25,709 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:25,712 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:26,391 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:26,391 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:26,394 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:26,394 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:26,566 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:26,566 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:26,567 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:26,567 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:26,569 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:26,569 - INFO - Preparing response
2025-05-23 12:19:26,579 - INFO - Starting emotion detection request
2025-05-23 12:19:26,580 - INFO - Validated language: english
2025-05-23 12:19:26,580 - INFO - Initialized emotion detector
2025-05-23 12:19:26,580 - INFO - Starting image decoding
2025-05-23 12:19:26,580 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:26,580 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:26,581 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:26,607 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:26,607 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:26,616 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:26,677 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:26,677 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:26,677 - INFO - Starting emotion detection
2025-05-23 12:19:26,677 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:26,739 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:26,881 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:26,881 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:26,882 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:26,882 - INFO - Initializing Spotify client...
2025-05-23 12:19:26,882 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:26,883 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:26,884 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:26,886 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:27,620 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:27,621 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:27,624 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:27,624 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:27,793 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:27,794 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:27,794 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:27,794 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:27,795 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:27,796 - INFO - Preparing response
2025-05-23 12:19:27,805 - INFO - Starting emotion detection request
2025-05-23 12:19:27,806 - INFO - Validated language: english
2025-05-23 12:19:27,806 - INFO - Initialized emotion detector
2025-05-23 12:19:27,806 - INFO - Starting image decoding
2025-05-23 12:19:27,806 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:27,806 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:27,807 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:27,830 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:27,830 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:27,843 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:27,922 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:27,922 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:27,925 - INFO - Starting emotion detection
2025-05-23 12:19:27,926 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:28,012 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:28,168 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:28,169 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:28,169 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:28,169 - INFO - Initializing Spotify client...
2025-05-23 12:19:28,169 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:28,170 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:28,170 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:28,172 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:28,880 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:28,881 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:28,884 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:28,885 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:29,052 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:29,053 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:29,054 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:29,054 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:29,057 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:29,057 - INFO - Preparing response
2025-05-23 12:19:29,091 - INFO - Starting emotion detection request
2025-05-23 12:19:29,091 - INFO - Validated language: english
2025-05-23 12:19:29,093 - INFO - Initialized emotion detector
2025-05-23 12:19:29,094 - INFO - Starting image decoding
2025-05-23 12:19:29,095 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:29,095 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:29,095 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:29,126 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:29,126 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:29,134 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:29,194 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:29,195 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:29,195 - INFO - Starting emotion detection
2025-05-23 12:19:29,196 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:29,259 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:29,400 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:29,402 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:29,402 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:29,402 - INFO - Initializing Spotify client...
2025-05-23 12:19:29,402 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:29,402 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:29,404 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:29,405 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:30,139 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:30,140 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:30,141 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:30,142 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:30,320 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:30,320 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:30,321 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:30,321 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:30,324 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:30,324 - INFO - Preparing response
2025-05-23 12:19:30,345 - INFO - Starting emotion detection request
2025-05-23 12:19:30,345 - INFO - Validated language: english
2025-05-23 12:19:30,345 - INFO - Initialized emotion detector
2025-05-23 12:19:30,345 - INFO - Starting image decoding
2025-05-23 12:19:30,345 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:30,346 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:30,346 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:30,379 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:30,379 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:30,392 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:30,473 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:30,473 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:30,474 - INFO - Starting emotion detection
2025-05-23 12:19:30,474 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:30,542 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:30,732 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:30,733 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:30,733 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:30,733 - INFO - Initializing Spotify client...
2025-05-23 12:19:30,733 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:30,734 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:30,734 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:30,735 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:31,780 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:31,781 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:31,788 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:31,789 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:32,227 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:32,229 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:32,229 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:32,230 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:32,234 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:32,234 - INFO - Preparing response
2025-05-23 12:19:32,253 - INFO - Starting emotion detection request
2025-05-23 12:19:32,253 - INFO - Validated language: english
2025-05-23 12:19:32,253 - INFO - Initialized emotion detector
2025-05-23 12:19:32,253 - INFO - Starting image decoding
2025-05-23 12:19:32,254 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:32,255 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:32,256 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:32,294 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:32,295 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:32,304 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:32,388 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:32,389 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:32,389 - INFO - Starting emotion detection
2025-05-23 12:19:32,389 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:32,451 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:32,623 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:32,623 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:32,623 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:32,624 - INFO - Initializing Spotify client...
2025-05-23 12:19:32,624 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:32,624 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:32,625 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:32,627 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:33,370 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:33,371 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:33,374 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:33,374 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:33,537 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:33,540 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:33,540 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:33,541 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:33,545 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:33,545 - INFO - Preparing response
2025-05-23 12:19:33,581 - INFO - Starting emotion detection request
2025-05-23 12:19:33,582 - INFO - Validated language: english
2025-05-23 12:19:33,582 - INFO - Initialized emotion detector
2025-05-23 12:19:33,584 - INFO - Starting image decoding
2025-05-23 12:19:33,584 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:33,586 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:33,586 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:33,624 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:33,624 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:33,634 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:33,725 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:33,725 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:33,727 - INFO - Starting emotion detection
2025-05-23 12:19:33,727 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:33,795 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:33,942 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:33,942 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:33,942 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:33,942 - INFO - Initializing Spotify client...
2025-05-23 12:19:33,942 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:33,943 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:33,943 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:33,944 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:34,740 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:34,741 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:34,744 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:34,745 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:34,909 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:34,910 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:34,911 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:34,912 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:34,914 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:34,916 - INFO - Preparing response
2025-05-23 12:19:34,931 - INFO - Starting emotion detection request
2025-05-23 12:19:34,931 - INFO - Validated language: english
2025-05-23 12:19:34,931 - INFO - Initialized emotion detector
2025-05-23 12:19:34,933 - INFO - Starting image decoding
2025-05-23 12:19:34,934 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:34,934 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:34,937 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:34,969 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:34,969 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:34,979 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:35,043 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:35,044 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:35,044 - INFO - Starting emotion detection
2025-05-23 12:19:35,044 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:35,101 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:35,255 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:35,256 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:35,256 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:35,256 - INFO - Initializing Spotify client...
2025-05-23 12:19:35,256 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:35,256 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:35,257 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:35,259 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:35,960 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:35,961 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:35,963 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:35,963 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:36,128 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:36,130 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:36,131 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:36,132 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:36,135 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:36,135 - INFO - Preparing response
2025-05-23 12:19:36,153 - INFO - Starting emotion detection request
2025-05-23 12:19:36,155 - INFO - Validated language: english
2025-05-23 12:19:36,156 - INFO - Initialized emotion detector
2025-05-23 12:19:36,157 - INFO - Starting image decoding
2025-05-23 12:19:36,157 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:36,158 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:36,159 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:36,201 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:36,201 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:36,212 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:36,269 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:36,270 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:36,270 - INFO - Starting emotion detection
2025-05-23 12:19:36,270 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:36,330 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:36,488 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:36,490 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:36,490 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:36,490 - INFO - Initializing Spotify client...
2025-05-23 12:19:36,490 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:36,490 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:36,491 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:36,493 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:37,164 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:37,164 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:37,167 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:37,168 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:37,328 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:37,329 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:37,329 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:37,329 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:37,331 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:37,332 - INFO - Preparing response
2025-05-23 12:19:37,340 - INFO - Starting emotion detection request
2025-05-23 12:19:37,340 - INFO - Validated language: english
2025-05-23 12:19:37,340 - INFO - Initialized emotion detector
2025-05-23 12:19:37,341 - INFO - Starting image decoding
2025-05-23 12:19:37,341 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:37,342 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:37,342 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:37,375 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:37,375 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:37,385 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:37,451 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:37,452 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:37,452 - INFO - Starting emotion detection
2025-05-23 12:19:37,452 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:37,531 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:37,693 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:37,694 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:37,694 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:37,694 - INFO - Initializing Spotify client...
2025-05-23 12:19:37,694 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:37,695 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:37,695 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:37,697 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:38,382 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:38,384 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:38,386 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:38,386 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:38,558 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:38,560 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:38,562 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:38,562 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:38,566 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:38,567 - INFO - Preparing response
2025-05-23 12:19:38,587 - INFO - Starting emotion detection request
2025-05-23 12:19:38,588 - INFO - Validated language: english
2025-05-23 12:19:38,589 - INFO - Initialized emotion detector
2025-05-23 12:19:38,590 - INFO - Starting image decoding
2025-05-23 12:19:38,590 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:38,591 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:38,592 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:38,636 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:38,637 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:38,647 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:38,703 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:38,703 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:38,703 - INFO - Starting emotion detection
2025-05-23 12:19:38,703 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:38,760 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:38,909 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:38,909 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:38,909 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:38,910 - INFO - Initializing Spotify client...
2025-05-23 12:19:38,910 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:38,911 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:38,911 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:38,913 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:39,634 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:39,635 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:39,640 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:39,641 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:39,812 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:39,812 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:39,814 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:39,814 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:39,816 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:39,816 - INFO - Preparing response
2025-05-23 12:19:39,825 - INFO - Starting emotion detection request
2025-05-23 12:19:39,826 - INFO - Validated language: english
2025-05-23 12:19:39,826 - INFO - Initialized emotion detector
2025-05-23 12:19:39,826 - INFO - Starting image decoding
2025-05-23 12:19:39,826 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:39,826 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:39,827 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:39,850 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:39,850 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:39,859 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:39,928 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:39,928 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:39,929 - INFO - Starting emotion detection
2025-05-23 12:19:39,930 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:39,987 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:40,129 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:40,129 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:40,130 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:40,130 - INFO - Initializing Spotify client...
2025-05-23 12:19:40,131 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:40,131 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:40,131 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:40,134 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:40,797 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:40,798 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:40,804 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:40,806 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:40,964 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:40,966 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:40,967 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:40,968 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:40,972 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:40,974 - INFO - Preparing response
2025-05-23 12:19:40,996 - INFO - Starting emotion detection request
2025-05-23 12:19:40,997 - INFO - Validated language: english
2025-05-23 12:19:40,997 - INFO - Initialized emotion detector
2025-05-23 12:19:40,998 - INFO - Starting image decoding
2025-05-23 12:19:40,999 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:41,000 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:41,001 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:41,039 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:41,039 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:41,047 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:41,104 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:41,105 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:41,105 - INFO - Starting emotion detection
2025-05-23 12:19:41,106 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:41,163 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:41,301 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:41,301 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:41,301 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:41,302 - INFO - Initializing Spotify client...
2025-05-23 12:19:41,302 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:41,302 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:41,302 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:41,305 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:42,087 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:42,089 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:42,092 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:42,093 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:42,260 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:42,261 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:42,262 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:42,263 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:42,264 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:42,264 - INFO - Preparing response
2025-05-23 12:19:42,272 - INFO - Starting emotion detection request
2025-05-23 12:19:42,272 - INFO - Validated language: english
2025-05-23 12:19:42,273 - INFO - Initialized emotion detector
2025-05-23 12:19:42,273 - INFO - Starting image decoding
2025-05-23 12:19:42,273 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:42,273 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:42,274 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:42,296 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:42,297 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:42,305 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:42,366 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:42,366 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:42,366 - INFO - Starting emotion detection
2025-05-23 12:19:42,367 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:42,427 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:42,587 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:42,587 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:42,588 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:42,588 - INFO - Initializing Spotify client...
2025-05-23 12:19:42,588 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:42,588 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:42,589 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:42,591 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:43,298 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:43,300 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:43,303 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:43,304 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:43,475 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:43,476 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:43,477 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:43,477 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:43,482 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:43,484 - INFO - Preparing response
2025-05-23 12:19:43,537 - INFO - Starting emotion detection request
2025-05-23 12:19:43,537 - INFO - Validated language: english
2025-05-23 12:19:43,539 - INFO - Initialized emotion detector
2025-05-23 12:19:43,539 - INFO - Starting image decoding
2025-05-23 12:19:43,540 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:43,541 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:43,541 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:43,568 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:43,568 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:43,580 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:43,640 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:43,641 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:43,641 - INFO - Starting emotion detection
2025-05-23 12:19:43,641 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:43,700 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:43,862 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:43,862 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:43,863 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:43,863 - INFO - Initializing Spotify client...
2025-05-23 12:19:43,863 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:43,863 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:43,864 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:43,865 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:44,706 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:44,707 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:44,710 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:44,710 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:44,889 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:44,890 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:44,891 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:44,891 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:44,894 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:44,895 - INFO - Preparing response
2025-05-23 12:19:44,913 - INFO - Starting emotion detection request
2025-05-23 12:19:44,914 - INFO - Validated language: english
2025-05-23 12:19:44,914 - INFO - Initialized emotion detector
2025-05-23 12:19:44,914 - INFO - Starting image decoding
2025-05-23 12:19:44,915 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:44,916 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:44,917 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:44,942 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:44,942 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:44,954 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:45,071 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:45,073 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:45,073 - INFO - Starting emotion detection
2025-05-23 12:19:45,074 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:45,210 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:45,409 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:45,409 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:45,410 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:45,410 - INFO - Initializing Spotify client...
2025-05-23 12:19:45,410 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:45,410 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:45,410 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:45,413 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:46,728 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:46,730 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:46,734 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:46,736 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:46,914 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:46,914 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:46,915 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:46,915 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:46,917 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:46,917 - INFO - Preparing response
2025-05-23 12:19:46,925 - INFO - Starting emotion detection request
2025-05-23 12:19:46,926 - INFO - Validated language: english
2025-05-23 12:19:46,927 - INFO - Initialized emotion detector
2025-05-23 12:19:46,927 - INFO - Starting image decoding
2025-05-23 12:19:46,927 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:46,928 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:46,928 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:46,957 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:46,958 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:46,972 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:47,044 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:47,045 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:47,045 - INFO - Starting emotion detection
2025-05-23 12:19:47,045 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:47,106 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:47,276 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:47,278 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:47,278 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:47,278 - INFO - Initializing Spotify client...
2025-05-23 12:19:47,278 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:47,278 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:47,279 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:47,281 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:48,509 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:48,510 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:48,512 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:48,512 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:48,680 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:48,681 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:48,682 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:48,682 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:48,684 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:48,684 - INFO - Preparing response
2025-05-23 12:19:48,696 - INFO - Starting emotion detection request
2025-05-23 12:19:48,697 - INFO - Validated language: english
2025-05-23 12:19:48,697 - INFO - Initialized emotion detector
2025-05-23 12:19:48,697 - INFO - Starting image decoding
2025-05-23 12:19:48,697 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:48,698 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:48,698 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:48,734 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:48,735 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:48,746 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:48,809 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:48,809 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:48,810 - INFO - Starting emotion detection
2025-05-23 12:19:48,810 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:48,879 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:49,062 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:49,062 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:49,062 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:49,062 - INFO - Initializing Spotify client...
2025-05-23 12:19:49,062 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:49,062 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:49,063 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:49,065 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:49,942 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:49,944 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:49,947 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:49,948 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:50,121 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:50,122 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:50,123 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:50,124 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:50,127 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:50,128 - INFO - Preparing response
2025-05-23 12:19:50,149 - INFO - Starting emotion detection request
2025-05-23 12:19:50,150 - INFO - Validated language: english
2025-05-23 12:19:50,150 - INFO - Initialized emotion detector
2025-05-23 12:19:50,151 - INFO - Starting image decoding
2025-05-23 12:19:50,152 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:50,153 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:50,154 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:50,208 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:50,209 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:50,224 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:50,290 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:50,291 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:50,291 - INFO - Starting emotion detection
2025-05-23 12:19:50,291 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:50,352 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:50,505 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:50,505 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:50,505 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:50,506 - INFO - Initializing Spotify client...
2025-05-23 12:19:50,506 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:50,506 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:50,507 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:50,508 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:51,226 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:51,226 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:51,228 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:51,230 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:51,409 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:51,410 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:51,411 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:51,411 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:51,412 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:51,412 - INFO - Preparing response
2025-05-23 12:19:51,501 - INFO - Starting emotion detection request
2025-05-23 12:19:51,503 - INFO - Validated language: english
2025-05-23 12:19:51,503 - INFO - Initialized emotion detector
2025-05-23 12:19:51,503 - INFO - Starting image decoding
2025-05-23 12:19:51,504 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:51,504 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:51,505 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:51,546 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:51,546 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:51,557 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:51,617 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:51,619 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:51,619 - INFO - Starting emotion detection
2025-05-23 12:19:51,619 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:51,678 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:51,842 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:51,842 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:51,842 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:51,843 - INFO - Initializing Spotify client...
2025-05-23 12:19:51,843 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:51,843 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:51,843 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:51,845 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:52,530 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:52,532 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:52,536 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:52,537 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:52,702 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:52,704 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:52,705 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:52,706 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:52,710 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:52,710 - INFO - Preparing response
2025-05-23 12:19:52,729 - INFO - Starting emotion detection request
2025-05-23 12:19:52,729 - INFO - Validated language: english
2025-05-23 12:19:52,730 - INFO - Initialized emotion detector
2025-05-23 12:19:52,730 - INFO - Starting image decoding
2025-05-23 12:19:52,731 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:52,732 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:52,732 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:52,764 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:52,764 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:52,774 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:52,833 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:52,834 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:52,834 - INFO - Starting emotion detection
2025-05-23 12:19:52,834 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:52,891 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:53,032 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:53,034 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:53,034 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:53,034 - INFO - Initializing Spotify client...
2025-05-23 12:19:53,034 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:53,034 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:53,034 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:53,037 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:53,782 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:53,784 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:53,787 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:53,788 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:53,956 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:53,958 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:53,958 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:53,959 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:53,961 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:53,962 - INFO - Preparing response
2025-05-23 12:19:53,978 - INFO - Starting emotion detection request
2025-05-23 12:19:53,979 - INFO - Validated language: english
2025-05-23 12:19:53,979 - INFO - Initialized emotion detector
2025-05-23 12:19:53,980 - INFO - Starting image decoding
2025-05-23 12:19:53,980 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:53,981 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:53,981 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:54,022 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:54,022 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:54,032 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:54,095 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:54,097 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:54,098 - INFO - Starting emotion detection
2025-05-23 12:19:54,098 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:54,156 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:54,300 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:54,301 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:54,301 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:54,301 - INFO - Initializing Spotify client...
2025-05-23 12:19:54,301 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:54,302 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:54,303 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:54,304 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:55,036 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:55,037 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:55,038 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:55,039 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:55,209 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:55,210 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:55,210 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:55,210 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:55,212 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:55,212 - INFO - Preparing response
2025-05-23 12:19:55,223 - INFO - Starting emotion detection request
2025-05-23 12:19:55,223 - INFO - Validated language: english
2025-05-23 12:19:55,223 - INFO - Initialized emotion detector
2025-05-23 12:19:55,224 - INFO - Starting image decoding
2025-05-23 12:19:55,224 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:55,224 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:55,225 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:55,249 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:55,250 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:55,260 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:55,321 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:55,321 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:55,322 - INFO - Starting emotion detection
2025-05-23 12:19:55,322 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:55,385 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:55,565 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:55,566 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:55,566 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:55,566 - INFO - Initializing Spotify client...
2025-05-23 12:19:55,566 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:55,567 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:55,567 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:55,569 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:56,253 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:56,254 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:56,257 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:56,257 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:56,430 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:56,431 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:56,431 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:56,432 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:56,433 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:56,433 - INFO - Preparing response
2025-05-23 12:19:56,445 - INFO - Starting emotion detection request
2025-05-23 12:19:56,447 - INFO - Validated language: english
2025-05-23 12:19:56,447 - INFO - Initialized emotion detector
2025-05-23 12:19:56,447 - INFO - Starting image decoding
2025-05-23 12:19:56,447 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:56,448 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:56,448 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:56,472 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:56,473 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:56,482 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:56,544 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:56,545 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:56,545 - INFO - Starting emotion detection
2025-05-23 12:19:56,545 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:56,607 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:56,777 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:56,777 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:56,777 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:56,779 - INFO - Initializing Spotify client...
2025-05-23 12:19:56,779 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:56,779 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:56,780 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:56,782 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:57,529 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:57,531 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:57,532 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:57,534 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:57,707 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:57,708 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:57,708 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:57,709 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:57,710 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:57,710 - INFO - Preparing response
2025-05-23 12:19:57,720 - INFO - Starting emotion detection request
2025-05-23 12:19:57,721 - INFO - Validated language: english
2025-05-23 12:19:57,722 - INFO - Initialized emotion detector
2025-05-23 12:19:57,722 - INFO - Starting image decoding
2025-05-23 12:19:57,722 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:57,722 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:57,723 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:57,745 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:57,745 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:57,755 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:57,814 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:57,814 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:57,815 - INFO - Starting emotion detection
2025-05-23 12:19:57,815 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:57,882 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:58,045 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:58,045 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:58,045 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:58,045 - INFO - Initializing Spotify client...
2025-05-23 12:19:58,045 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:58,046 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:58,046 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:58,048 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:19:58,747 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:19:58,748 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:19:58,750 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:19:58,751 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:58,914 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:19:58,916 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:19:58,917 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:19:58,918 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:19:58,921 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:19:58,922 - INFO - Preparing response
2025-05-23 12:19:58,947 - INFO - Starting emotion detection request
2025-05-23 12:19:58,949 - INFO - Validated language: english
2025-05-23 12:19:58,951 - INFO - Initialized emotion detector
2025-05-23 12:19:58,951 - INFO - Starting image decoding
2025-05-23 12:19:58,952 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:19:58,953 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:19:58,954 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:19:58,993 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:19:58,993 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:19:59,002 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:59,064 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:19:59,065 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:19:59,065 - INFO - Starting emotion detection
2025-05-23 12:19:59,065 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:19:59,126 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:19:59,278 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:19:59,278 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:19:59,278 - INFO - Attempting to get playlist recommendations
2025-05-23 12:19:59,279 - INFO - Initializing Spotify client...
2025-05-23 12:19:59,279 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:19:59,279 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:19:59,280 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:19:59,282 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:20:00,045 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:20:00,046 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:20:00,054 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:20:00,055 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:00,237 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:20:00,240 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:20:00,242 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:20:00,242 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:20:00,245 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:20:00,246 - INFO - Preparing response
2025-05-23 12:20:00,263 - INFO - Starting emotion detection request
2025-05-23 12:20:00,264 - INFO - Validated language: english
2025-05-23 12:20:00,264 - INFO - Initialized emotion detector
2025-05-23 12:20:00,265 - INFO - Starting image decoding
2025-05-23 12:20:00,265 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:20:00,266 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:20:00,267 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:20:00,323 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:20:00,325 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:20:00,346 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:00,417 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:20:00,418 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:20:00,418 - INFO - Starting emotion detection
2025-05-23 12:20:00,418 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:00,477 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:20:00,628 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935588255410686, 'disgust': 1.7497974246677803e-05, 'fear': 0.6408946039315823, 'happy': 0.013787157607616937, 'sad': 99.03819555271838, 'surprise': 6.0379864709879994e-06, 'neutral': 0.22774512374372027}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:20:00,628 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903819555271838, 'emotion_scores': {'angry': 0.0007935588255410686, 'disgust': 1.7497974246677803e-07, 'fear': 0.006408946039315823, 'happy': 0.00013787157607616937, 'sad': 0.9903819555271838, 'surprise': 6.037986470988e-08, 'neutral': 0.002277451237437203}}
2025-05-23 12:20:00,628 - INFO - Attempting to get playlist recommendations
2025-05-23 12:20:00,629 - INFO - Initializing Spotify client...
2025-05-23 12:20:00,629 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:20:00,629 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:20:00,629 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:00,632 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:20:01,337 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:20:01,339 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:20:01,345 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:20:01,346 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:01,510 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:20:01,510 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:20:01,512 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:20:01,512 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:20:01,514 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:20:01,514 - INFO - Preparing response
2025-05-23 12:20:09,234 - INFO - Starting emotion detection request
2025-05-23 12:20:09,234 - INFO - Validated language: english
2025-05-23 12:20:09,235 - INFO - Initialized emotion detector
2025-05-23 12:20:09,235 - INFO - Starting image decoding
2025-05-23 12:20:09,235 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:20:09,236 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:20:09,254 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:20:09,282 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:20:09,283 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:20:09,294 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:09,334 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:20:09,335 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:20:09,335 - INFO - Starting emotion detection
2025-05-23 12:20:09,335 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:09,379 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:20:09,695 - DEBUG - Creating converter from 3 to 5
2025-05-23 12:20:10,139 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935579851498621, 'disgust': 1.7497973959967163e-05, 'fear': 0.6408942565000944, 'happy': 0.013787156597472686, 'sad': 99.03818976423862, 'surprise': 6.037986101854663e-06, 'neutral': 0.22774510630278513}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:20:10,139 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903818976423863, 'emotion_scores': {'angry': 0.0007935579851498622, 'disgust': 1.7497973959967161e-07, 'fear': 0.0064089425650009435, 'happy': 0.00013787156597472685, 'sad': 0.9903818976423863, 'surprise': 6.037986101854663e-08, 'neutral': 0.0022774510630278514}}
2025-05-23 12:20:10,139 - INFO - Attempting to get playlist recommendations
2025-05-23 12:20:10,140 - INFO - Initializing Spotify client...
2025-05-23 12:20:10,140 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:20:10,142 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:20:10,142 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:10,146 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:20:11,254 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:20:11,255 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:20:11,259 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:20:11,263 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:11,437 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:20:11,439 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:20:11,440 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:20:11,441 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:20:11,444 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:20:11,445 - INFO - Preparing response
2025-05-23 12:20:11,478 - INFO - Starting emotion detection request
2025-05-23 12:20:11,481 - INFO - Validated language: english
2025-05-23 12:20:11,481 - INFO - Initialized emotion detector
2025-05-23 12:20:11,483 - INFO - Starting image decoding
2025-05-23 12:20:11,483 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:20:11,486 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:20:11,486 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:20:11,512 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:20:11,513 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:20:11,525 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:11,583 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:20:11,584 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:20:11,584 - INFO - Starting emotion detection
2025-05-23 12:20:11,584 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:11,640 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:20:11,796 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935579851498621, 'disgust': 1.7497973959967163e-05, 'fear': 0.6408942565000944, 'happy': 0.013787156597472686, 'sad': 99.03818976423862, 'surprise': 6.037986101854663e-06, 'neutral': 0.22774510630278513}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:20:11,797 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903818976423863, 'emotion_scores': {'angry': 0.0007935579851498622, 'disgust': 1.7497973959967161e-07, 'fear': 0.0064089425650009435, 'happy': 0.00013787156597472685, 'sad': 0.9903818976423863, 'surprise': 6.037986101854663e-08, 'neutral': 0.0022774510630278514}}
2025-05-23 12:20:11,797 - INFO - Attempting to get playlist recommendations
2025-05-23 12:20:11,797 - INFO - Initializing Spotify client...
2025-05-23 12:20:11,797 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:20:11,797 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:20:11,799 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:11,801 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:20:12,470 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:20:12,471 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:20:12,475 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:20:12,478 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:12,651 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:20:12,652 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:20:12,653 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:20:12,653 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:20:12,656 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:20:12,657 - INFO - Preparing response
2025-05-23 12:20:12,671 - INFO - Starting emotion detection request
2025-05-23 12:20:12,671 - INFO - Validated language: english
2025-05-23 12:20:12,671 - INFO - Initialized emotion detector
2025-05-23 12:20:12,671 - INFO - Starting image decoding
2025-05-23 12:20:12,672 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:20:12,672 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:20:12,673 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:20:12,698 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:20:12,698 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:20:12,707 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:12,766 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:20:12,767 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:20:12,767 - INFO - Starting emotion detection
2025-05-23 12:20:12,768 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:12,829 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:20:12,988 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935579851498621, 'disgust': 1.7497973959967163e-05, 'fear': 0.6408942565000944, 'happy': 0.013787156597472686, 'sad': 99.03818976423862, 'surprise': 6.037986101854663e-06, 'neutral': 0.22774510630278513}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:20:12,988 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903818976423863, 'emotion_scores': {'angry': 0.0007935579851498622, 'disgust': 1.7497973959967161e-07, 'fear': 0.0064089425650009435, 'happy': 0.00013787156597472685, 'sad': 0.9903818976423863, 'surprise': 6.037986101854663e-08, 'neutral': 0.0022774510630278514}}
2025-05-23 12:20:12,988 - INFO - Attempting to get playlist recommendations
2025-05-23 12:20:12,989 - INFO - Initializing Spotify client...
2025-05-23 12:20:12,989 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:20:12,989 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:20:12,991 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:12,992 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:20:13,669 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:20:13,670 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:20:13,671 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:20:13,671 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:13,835 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:20:13,838 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:20:13,838 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:20:13,838 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:20:13,840 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:20:13,841 - INFO - Preparing response
2025-05-23 12:20:13,849 - INFO - Starting emotion detection request
2025-05-23 12:20:13,849 - INFO - Validated language: english
2025-05-23 12:20:13,850 - INFO - Initialized emotion detector
2025-05-23 12:20:13,850 - INFO - Starting image decoding
2025-05-23 12:20:13,850 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:20:13,851 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:20:13,851 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:20:13,875 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:20:13,876 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:20:13,886 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:13,944 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:20:13,945 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:20:13,945 - INFO - Starting emotion detection
2025-05-23 12:20:13,946 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:14,004 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:20:14,173 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935579851498621, 'disgust': 1.7497973959967163e-05, 'fear': 0.6408942565000944, 'happy': 0.013787156597472686, 'sad': 99.03818976423862, 'surprise': 6.037986101854663e-06, 'neutral': 0.22774510630278513}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:20:14,173 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903818976423863, 'emotion_scores': {'angry': 0.0007935579851498622, 'disgust': 1.7497973959967161e-07, 'fear': 0.0064089425650009435, 'happy': 0.00013787156597472685, 'sad': 0.9903818976423863, 'surprise': 6.037986101854663e-08, 'neutral': 0.0022774510630278514}}
2025-05-23 12:20:14,173 - INFO - Attempting to get playlist recommendations
2025-05-23 12:20:14,174 - INFO - Initializing Spotify client...
2025-05-23 12:20:14,174 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:20:14,174 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:20:14,175 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:14,177 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:20:14,900 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:20:14,903 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:20:14,907 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:20:14,909 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:15,084 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:20:15,085 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:20:15,085 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:20:15,085 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:20:15,089 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:20:15,089 - INFO - Preparing response
2025-05-23 12:20:15,104 - INFO - Starting emotion detection request
2025-05-23 12:20:15,106 - INFO - Validated language: english
2025-05-23 12:20:15,106 - INFO - Initialized emotion detector
2025-05-23 12:20:15,107 - INFO - Starting image decoding
2025-05-23 12:20:15,108 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:20:15,109 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:20:15,110 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:20:15,151 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:20:15,152 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:20:15,164 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:15,245 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:20:15,245 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:20:15,246 - INFO - Starting emotion detection
2025-05-23 12:20:15,247 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:15,317 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:20:15,485 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935579851498621, 'disgust': 1.7497973959967163e-05, 'fear': 0.6408942565000944, 'happy': 0.013787156597472686, 'sad': 99.03818976423862, 'surprise': 6.037986101854663e-06, 'neutral': 0.22774510630278513}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:20:15,485 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903818976423863, 'emotion_scores': {'angry': 0.0007935579851498622, 'disgust': 1.7497973959967161e-07, 'fear': 0.0064089425650009435, 'happy': 0.00013787156597472685, 'sad': 0.9903818976423863, 'surprise': 6.037986101854663e-08, 'neutral': 0.0022774510630278514}}
2025-05-23 12:20:15,487 - INFO - Attempting to get playlist recommendations
2025-05-23 12:20:15,487 - INFO - Initializing Spotify client...
2025-05-23 12:20:15,487 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:20:15,487 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:20:15,487 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:15,490 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:20:16,391 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:20:16,842 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:20:16,845 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:20:16,848 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:17,023 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:20:17,025 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:20:17,026 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:20:17,027 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:20:17,029 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:20:17,030 - INFO - Preparing response
2025-05-23 12:20:17,048 - INFO - Starting emotion detection request
2025-05-23 12:20:17,048 - INFO - Validated language: english
2025-05-23 12:20:17,049 - INFO - Initialized emotion detector
2025-05-23 12:20:17,050 - INFO - Starting image decoding
2025-05-23 12:20:17,051 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:20:17,052 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:20:17,052 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:20:17,095 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:20:17,095 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:20:17,106 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:17,164 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:20:17,164 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:20:17,166 - INFO - Starting emotion detection
2025-05-23 12:20:17,166 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:17,224 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:20:17,386 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935579851498621, 'disgust': 1.7497973959967163e-05, 'fear': 0.6408942565000944, 'happy': 0.013787156597472686, 'sad': 99.03818976423862, 'surprise': 6.037986101854663e-06, 'neutral': 0.22774510630278513}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:20:17,387 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903818976423863, 'emotion_scores': {'angry': 0.0007935579851498622, 'disgust': 1.7497973959967161e-07, 'fear': 0.0064089425650009435, 'happy': 0.00013787156597472685, 'sad': 0.9903818976423863, 'surprise': 6.037986101854663e-08, 'neutral': 0.0022774510630278514}}
2025-05-23 12:20:17,388 - INFO - Attempting to get playlist recommendations
2025-05-23 12:20:17,388 - INFO - Initializing Spotify client...
2025-05-23 12:20:17,388 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:20:17,388 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:20:17,389 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:17,390 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:20:18,088 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:20:18,099 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:20:18,104 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:20:18,105 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:18,280 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:20:18,281 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:20:18,284 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:20:18,284 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:20:18,288 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:20:18,289 - INFO - Preparing response
2025-05-23 12:20:18,309 - INFO - Starting emotion detection request
2025-05-23 12:20:18,310 - INFO - Validated language: english
2025-05-23 12:20:18,310 - INFO - Initialized emotion detector
2025-05-23 12:20:18,310 - INFO - Starting image decoding
2025-05-23 12:20:18,311 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:20:18,312 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:20:18,313 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:20:18,350 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:20:18,350 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:20:18,360 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:18,421 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:20:18,422 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:20:18,423 - INFO - Starting emotion detection
2025-05-23 12:20:18,423 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:18,482 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:20:18,621 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935579851498621, 'disgust': 1.7497973959967163e-05, 'fear': 0.6408942565000944, 'happy': 0.013787156597472686, 'sad': 99.03818976423862, 'surprise': 6.037986101854663e-06, 'neutral': 0.22774510630278513}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:20:18,622 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903818976423863, 'emotion_scores': {'angry': 0.0007935579851498622, 'disgust': 1.7497973959967161e-07, 'fear': 0.0064089425650009435, 'happy': 0.00013787156597472685, 'sad': 0.9903818976423863, 'surprise': 6.037986101854663e-08, 'neutral': 0.0022774510630278514}}
2025-05-23 12:20:18,623 - INFO - Attempting to get playlist recommendations
2025-05-23 12:20:18,623 - INFO - Initializing Spotify client...
2025-05-23 12:20:18,623 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:20:18,624 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:20:18,625 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:18,627 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:20:19,398 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:20:19,401 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:20:19,404 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:20:19,405 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:19,587 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:20:19,589 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:20:19,589 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:20:19,590 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:20:19,592 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:20:19,593 - INFO - Preparing response
2025-05-23 12:20:19,608 - INFO - Starting emotion detection request
2025-05-23 12:20:19,609 - INFO - Validated language: english
2025-05-23 12:20:19,609 - INFO - Initialized emotion detector
2025-05-23 12:20:19,610 - INFO - Starting image decoding
2025-05-23 12:20:19,610 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:20:19,612 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:20:19,613 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:20:19,651 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:20:19,652 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:20:19,664 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:19,772 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:20:19,773 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:20:19,773 - INFO - Starting emotion detection
2025-05-23 12:20:19,773 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:19,837 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:20:20,036 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935579851498621, 'disgust': 1.7497973959967163e-05, 'fear': 0.6408942565000944, 'happy': 0.013787156597472686, 'sad': 99.03818976423862, 'surprise': 6.037986101854663e-06, 'neutral': 0.22774510630278513}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:20:20,037 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903818976423863, 'emotion_scores': {'angry': 0.0007935579851498622, 'disgust': 1.7497973959967161e-07, 'fear': 0.0064089425650009435, 'happy': 0.00013787156597472685, 'sad': 0.9903818976423863, 'surprise': 6.037986101854663e-08, 'neutral': 0.0022774510630278514}}
2025-05-23 12:20:20,037 - INFO - Attempting to get playlist recommendations
2025-05-23 12:20:20,039 - INFO - Initializing Spotify client...
2025-05-23 12:20:20,039 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:20:20,040 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:20:20,040 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:20,044 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:20:20,734 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:20:20,736 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:20:20,742 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:20:20,742 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:20,912 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:20:20,913 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:20:20,914 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:20:20,915 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:20:20,917 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:20:20,918 - INFO - Preparing response
2025-05-23 12:20:20,932 - INFO - Starting emotion detection request
2025-05-23 12:20:20,934 - INFO - Validated language: english
2025-05-23 12:20:20,935 - INFO - Initialized emotion detector
2025-05-23 12:20:20,936 - INFO - Starting image decoding
2025-05-23 12:20:20,936 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:20:20,937 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:20:20,937 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:20:20,974 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:20:20,975 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:20:20,984 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:21,042 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:20:21,042 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:20:21,043 - INFO - Starting emotion detection
2025-05-23 12:20:21,043 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:21,102 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:20:21,270 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935579851498621, 'disgust': 1.7497973959967163e-05, 'fear': 0.6408942565000944, 'happy': 0.013787156597472686, 'sad': 99.03818976423862, 'surprise': 6.037986101854663e-06, 'neutral': 0.22774510630278513}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:20:21,270 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903818976423863, 'emotion_scores': {'angry': 0.0007935579851498622, 'disgust': 1.7497973959967161e-07, 'fear': 0.0064089425650009435, 'happy': 0.00013787156597472685, 'sad': 0.9903818976423863, 'surprise': 6.037986101854663e-08, 'neutral': 0.0022774510630278514}}
2025-05-23 12:20:21,271 - INFO - Attempting to get playlist recommendations
2025-05-23 12:20:21,271 - INFO - Initializing Spotify client...
2025-05-23 12:20:21,271 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:20:21,272 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:20:21,273 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:21,274 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:20:22,021 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:20:22,023 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:20:22,029 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:20:22,030 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:22,202 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:20:22,202 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:20:22,203 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:20:22,204 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:20:22,206 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:20:22,207 - INFO - Preparing response
2025-05-23 12:20:22,218 - INFO - Starting emotion detection request
2025-05-23 12:20:22,219 - INFO - Validated language: english
2025-05-23 12:20:22,219 - INFO - Initialized emotion detector
2025-05-23 12:20:22,220 - INFO - Starting image decoding
2025-05-23 12:20:22,220 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:20:22,221 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:20:22,221 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:20:22,246 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:20:22,247 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:20:22,258 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:22,327 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:20:22,328 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:20:22,328 - INFO - Starting emotion detection
2025-05-23 12:20:22,328 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:22,389 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:20:22,546 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935579851498621, 'disgust': 1.7497973959967163e-05, 'fear': 0.6408942565000944, 'happy': 0.013787156597472686, 'sad': 99.03818976423862, 'surprise': 6.037986101854663e-06, 'neutral': 0.22774510630278513}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:20:22,546 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903818976423863, 'emotion_scores': {'angry': 0.0007935579851498622, 'disgust': 1.7497973959967161e-07, 'fear': 0.0064089425650009435, 'happy': 0.00013787156597472685, 'sad': 0.9903818976423863, 'surprise': 6.037986101854663e-08, 'neutral': 0.0022774510630278514}}
2025-05-23 12:20:22,546 - INFO - Attempting to get playlist recommendations
2025-05-23 12:20:22,547 - INFO - Initializing Spotify client...
2025-05-23 12:20:22,547 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:20:22,547 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:20:22,548 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:22,550 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:20:23,245 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:20:23,247 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:20:23,252 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:20:23,252 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:23,428 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:20:23,430 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:20:23,430 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:20:23,431 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:20:23,434 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:20:23,434 - INFO - Preparing response
2025-05-23 12:20:23,452 - INFO - Starting emotion detection request
2025-05-23 12:20:23,452 - INFO - Validated language: english
2025-05-23 12:20:23,453 - INFO - Initialized emotion detector
2025-05-23 12:20:23,454 - INFO - Starting image decoding
2025-05-23 12:20:23,454 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:20:23,454 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:20:23,455 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:20:23,484 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:20:23,484 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:20:23,496 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:23,587 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:20:23,588 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:20:23,589 - INFO - Starting emotion detection
2025-05-23 12:20:23,590 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:23,707 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:20:23,898 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935579851498621, 'disgust': 1.7497973959967163e-05, 'fear': 0.6408942565000944, 'happy': 0.013787156597472686, 'sad': 99.03818976423862, 'surprise': 6.037986101854663e-06, 'neutral': 0.22774510630278513}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:20:23,898 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903818976423863, 'emotion_scores': {'angry': 0.0007935579851498622, 'disgust': 1.7497973959967161e-07, 'fear': 0.0064089425650009435, 'happy': 0.00013787156597472685, 'sad': 0.9903818976423863, 'surprise': 6.037986101854663e-08, 'neutral': 0.0022774510630278514}}
2025-05-23 12:20:23,899 - INFO - Attempting to get playlist recommendations
2025-05-23 12:20:23,899 - INFO - Initializing Spotify client...
2025-05-23 12:20:23,899 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:20:23,900 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:20:23,900 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:23,901 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:20:24,612 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:20:24,612 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:20:24,614 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:20:24,615 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:24,779 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:20:24,780 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:20:24,780 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:20:24,781 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:20:24,782 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:20:24,782 - INFO - Preparing response
2025-05-23 12:20:24,794 - INFO - Starting emotion detection request
2025-05-23 12:20:24,794 - INFO - Validated language: english
2025-05-23 12:20:24,794 - INFO - Initialized emotion detector
2025-05-23 12:20:24,794 - INFO - Starting image decoding
2025-05-23 12:20:24,795 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:20:24,795 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:20:24,795 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:20:24,819 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:20:24,819 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:20:24,829 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:24,890 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:20:24,890 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:20:24,890 - INFO - Starting emotion detection
2025-05-23 12:20:24,891 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:24,952 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:20:25,130 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935579851498621, 'disgust': 1.7497973959967163e-05, 'fear': 0.6408942565000944, 'happy': 0.013787156597472686, 'sad': 99.03818976423862, 'surprise': 6.037986101854663e-06, 'neutral': 0.22774510630278513}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:20:25,130 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903818976423863, 'emotion_scores': {'angry': 0.0007935579851498622, 'disgust': 1.7497973959967161e-07, 'fear': 0.0064089425650009435, 'happy': 0.00013787156597472685, 'sad': 0.9903818976423863, 'surprise': 6.037986101854663e-08, 'neutral': 0.0022774510630278514}}
2025-05-23 12:20:25,131 - INFO - Attempting to get playlist recommendations
2025-05-23 12:20:25,131 - INFO - Initializing Spotify client...
2025-05-23 12:20:25,132 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:20:25,132 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:20:25,132 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:25,134 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:20:25,855 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:20:25,856 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:20:25,858 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:20:25,858 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:26,031 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:20:26,032 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:20:26,032 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:20:26,032 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:20:26,035 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:20:26,035 - INFO - Preparing response
2025-05-23 12:20:26,047 - INFO - Starting emotion detection request
2025-05-23 12:20:26,048 - INFO - Validated language: english
2025-05-23 12:20:26,048 - INFO - Initialized emotion detector
2025-05-23 12:20:26,048 - INFO - Starting image decoding
2025-05-23 12:20:26,048 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:20:26,049 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:20:26,049 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:20:26,073 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:20:26,073 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:20:26,082 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:26,151 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:20:26,181 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:20:26,183 - INFO - Starting emotion detection
2025-05-23 12:20:26,184 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:20:26,248 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:20:26,526 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935579851498621, 'disgust': 1.7497973959967163e-05, 'fear': 0.6408942565000944, 'happy': 0.013787156597472686, 'sad': 99.03818976423862, 'surprise': 6.037986101854663e-06, 'neutral': 0.22774510630278513}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:20:26,527 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903818976423863, 'emotion_scores': {'angry': 0.0007935579851498622, 'disgust': 1.7497973959967161e-07, 'fear': 0.0064089425650009435, 'happy': 0.00013787156597472685, 'sad': 0.9903818976423863, 'surprise': 6.037986101854663e-08, 'neutral': 0.0022774510630278514}}
2025-05-23 12:20:26,527 - INFO - Attempting to get playlist recommendations
2025-05-23 12:20:26,527 - INFO - Initializing Spotify client...
2025-05-23 12:20:26,527 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:20:26,528 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:20:26,528 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:26,530 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:20:27,234 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:20:27,235 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:20:27,237 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:20:27,238 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:20:27,433 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:20:27,436 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:20:27,438 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:20:27,443 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:20:27,446 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:20:27,447 - INFO - Preparing response
2025-05-23 12:25:26,790 - INFO - Starting emotion detection request
2025-05-23 12:25:26,790 - INFO - Validated language: english
2025-05-23 12:25:26,791 - INFO - Initialized emotion detector
2025-05-23 12:25:26,791 - INFO - Starting image decoding
2025-05-23 12:25:26,791 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:25:26,791 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:25:26,792 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:25:26,815 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:25:26,816 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:25:26,824 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:25:26,880 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:25:26,881 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:25:26,881 - INFO - Starting emotion detection
2025-05-23 12:25:26,882 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:25:26,939 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:25:27,091 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935579851498621, 'disgust': 1.7497973959967163e-05, 'fear': 0.6408942565000944, 'happy': 0.013787156597472686, 'sad': 99.03818976423862, 'surprise': 6.037986101854663e-06, 'neutral': 0.22774510630278513}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:25:27,091 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903818976423863, 'emotion_scores': {'angry': 0.0007935579851498622, 'disgust': 1.7497973959967161e-07, 'fear': 0.0064089425650009435, 'happy': 0.00013787156597472685, 'sad': 0.9903818976423863, 'surprise': 6.037986101854663e-08, 'neutral': 0.0022774510630278514}}
2025-05-23 12:25:27,091 - INFO - Attempting to get playlist recommendations
2025-05-23 12:25:27,091 - INFO - Initializing Spotify client...
2025-05-23 12:25:27,092 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:25:27,092 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:25:27,093 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:25:27,095 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:25:27,858 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:25:27,860 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:25:27,864 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:25:27,866 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:25:28,033 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:25:28,034 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:25:28,037 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:25:28,038 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:25:28,043 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:25:28,046 - INFO - Preparing response
2025-05-23 12:30:27,783 - INFO - Starting emotion detection request
2025-05-23 12:30:27,783 - INFO - Validated language: english
2025-05-23 12:30:27,784 - INFO - Initialized emotion detector
2025-05-23 12:30:27,785 - INFO - Starting image decoding
2025-05-23 12:30:27,785 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:30:27,785 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:30:27,786 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:30:27,826 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:30:27,826 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:30:27,835 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:30:27,892 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:30:27,892 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:30:27,893 - INFO - Starting emotion detection
2025-05-23 12:30:27,893 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:30:27,949 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:30:28,102 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935579851498621, 'disgust': 1.7497973959967163e-05, 'fear': 0.6408942565000944, 'happy': 0.013787156597472686, 'sad': 99.03818976423862, 'surprise': 6.037986101854663e-06, 'neutral': 0.22774510630278513}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:30:28,103 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903818976423863, 'emotion_scores': {'angry': 0.0007935579851498622, 'disgust': 1.7497973959967161e-07, 'fear': 0.0064089425650009435, 'happy': 0.00013787156597472685, 'sad': 0.9903818976423863, 'surprise': 6.037986101854663e-08, 'neutral': 0.0022774510630278514}}
2025-05-23 12:30:28,103 - INFO - Attempting to get playlist recommendations
2025-05-23 12:30:28,103 - INFO - Initializing Spotify client...
2025-05-23 12:30:28,104 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:30:28,104 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:30:28,104 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:30:28,106 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:30:28,808 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:30:28,810 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:30:28,815 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:30:28,821 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:30:28,991 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:30:28,992 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:30:28,992 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:30:28,993 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:30:28,995 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:30:28,996 - INFO - Preparing response
2025-05-23 12:35:28,789 - INFO - Starting emotion detection request
2025-05-23 12:35:28,790 - INFO - Validated language: english
2025-05-23 12:35:28,790 - INFO - Initialized emotion detector
2025-05-23 12:35:28,791 - INFO - Starting image decoding
2025-05-23 12:35:28,791 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:35:28,792 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:35:28,793 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:35:28,817 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:35:28,818 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:35:28,827 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:35:28,884 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:35:28,885 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:35:28,885 - INFO - Starting emotion detection
2025-05-23 12:35:28,885 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:35:28,946 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:35:29,085 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935579851498621, 'disgust': 1.7497973959967163e-05, 'fear': 0.6408942565000944, 'happy': 0.013787156597472686, 'sad': 99.03818976423862, 'surprise': 6.037986101854663e-06, 'neutral': 0.22774510630278513}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:35:29,086 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903818976423863, 'emotion_scores': {'angry': 0.0007935579851498622, 'disgust': 1.7497973959967161e-07, 'fear': 0.0064089425650009435, 'happy': 0.00013787156597472685, 'sad': 0.9903818976423863, 'surprise': 6.037986101854663e-08, 'neutral': 0.0022774510630278514}}
2025-05-23 12:35:29,086 - INFO - Attempting to get playlist recommendations
2025-05-23 12:35:29,086 - INFO - Initializing Spotify client...
2025-05-23 12:35:29,087 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:35:29,087 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:35:29,087 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:35:29,089 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:35:29,797 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:35:29,800 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:35:29,806 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:35:29,807 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:35:30,238 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:35:30,239 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:35:30,239 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:35:30,240 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:35:30,241 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:35:30,241 - INFO - Preparing response
2025-05-23 12:40:29,781 - INFO - Starting emotion detection request
2025-05-23 12:40:29,781 - INFO - Validated language: english
2025-05-23 12:40:29,781 - INFO - Initialized emotion detector
2025-05-23 12:40:29,782 - INFO - Starting image decoding
2025-05-23 12:40:29,782 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:40:29,782 - DEBUG - Successfully decoded base64 data, size: 21500 bytes
2025-05-23 12:40:29,784 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:40:29,826 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:40:29,828 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:40:29,842 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:40:29,936 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:40:29,937 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:40:29,937 - INFO - Starting emotion detection
2025-05-23 12:40:29,937 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:40:29,988 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:40:30,136 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.07935579851498621, 'disgust': 1.7497973959967163e-05, 'fear': 0.6408942565000944, 'happy': 0.013787156597472686, 'sad': 99.03818976423862, 'surprise': 6.037986101854663e-06, 'neutral': 0.22774510630278513}, 'dominant_emotion': 'sad', 'region': {'x': 255, 'y': 141, 'w': 236, 'h': 236}}
2025-05-23 12:40:30,137 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.9903818976423863, 'emotion_scores': {'angry': 0.0007935579851498622, 'disgust': 1.7497973959967161e-07, 'fear': 0.0064089425650009435, 'happy': 0.00013787156597472685, 'sad': 0.9903818976423863, 'surprise': 6.037986101854663e-08, 'neutral': 0.0022774510630278514}}
2025-05-23 12:40:30,137 - INFO - Attempting to get playlist recommendations
2025-05-23 12:40:30,137 - INFO - Initializing Spotify client...
2025-05-23 12:40:30,137 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:40:30,138 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:40:30,139 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:40:30,141 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:40:30,861 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:40:30,863 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:40:30,864 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:40:30,866 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:40:31,033 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:40:31,034 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:40:31,035 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:40:31,036 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:40:31,037 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:40:31,039 - INFO - Preparing response
2025-05-23 12:40:46,706 - INFO - Starting emotion detection request
2025-05-23 12:40:46,709 - INFO - Validated language: english
2025-05-23 12:40:46,709 - INFO - Initialized emotion detector
2025-05-23 12:40:46,709 - INFO - Starting image decoding
2025-05-23 12:40:46,711 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:40:46,712 - DEBUG - Successfully decoded base64 data, size: 24608 bytes
2025-05-23 12:40:46,713 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:40:46,777 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:40:46,777 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:40:46,786 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:40:46,857 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:40:46,857 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:40:46,858 - INFO - Starting emotion detection
2025-05-23 12:40:46,858 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:40:46,927 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:40:47,092 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.2501086099073291, 'disgust': 3.510295873421221e-09, 'fear': 3.6724798381328583, 'happy': 0.0002578820385679137, 'sad': 81.7233145236969, 'surprise': 1.4534468073534867e-07, 'neutral': 14.353840053081512}, 'dominant_emotion': 'sad', 'region': {'x': 253, 'y': 91, 'w': 207, 'h': 207}}
2025-05-23 12:40:47,092 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.817233145236969, 'emotion_scores': {'angry': 0.002501086099073291, 'disgust': 3.510295873421221e-11, 'fear': 0.03672479838132858, 'happy': 2.578820385679137e-06, 'sad': 0.817233145236969, 'surprise': 1.4534468073534867e-09, 'neutral': 0.14353840053081512}}
2025-05-23 12:40:47,093 - INFO - Attempting to get playlist recommendations
2025-05-23 12:40:47,093 - INFO - Initializing Spotify client...
2025-05-23 12:40:47,093 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:40:47,093 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:40:47,094 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:40:47,096 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:40:47,815 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:40:47,816 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:40:47,819 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:40:47,820 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:40:47,985 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:40:47,987 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:40:47,988 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:40:47,989 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:40:47,994 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:40:47,995 - INFO - Preparing response
2025-05-23 12:40:48,012 - INFO - Starting emotion detection request
2025-05-23 12:40:48,012 - INFO - Validated language: english
2025-05-23 12:40:48,014 - INFO - Initialized emotion detector
2025-05-23 12:40:48,014 - INFO - Starting image decoding
2025-05-23 12:40:48,015 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:40:48,016 - DEBUG - Successfully decoded base64 data, size: 24608 bytes
2025-05-23 12:40:48,017 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:40:48,062 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:40:48,064 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:40:48,073 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:40:48,140 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:40:48,141 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:40:48,141 - INFO - Starting emotion detection
2025-05-23 12:40:48,142 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:40:48,208 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:40:48,364 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.2501086099073291, 'disgust': 3.510295873421221e-09, 'fear': 3.6724798381328583, 'happy': 0.0002578820385679137, 'sad': 81.7233145236969, 'surprise': 1.4534468073534867e-07, 'neutral': 14.353840053081512}, 'dominant_emotion': 'sad', 'region': {'x': 253, 'y': 91, 'w': 207, 'h': 207}}
2025-05-23 12:40:48,366 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.817233145236969, 'emotion_scores': {'angry': 0.002501086099073291, 'disgust': 3.510295873421221e-11, 'fear': 0.03672479838132858, 'happy': 2.578820385679137e-06, 'sad': 0.817233145236969, 'surprise': 1.4534468073534867e-09, 'neutral': 0.14353840053081512}}
2025-05-23 12:40:48,366 - INFO - Attempting to get playlist recommendations
2025-05-23 12:40:48,366 - INFO - Initializing Spotify client...
2025-05-23 12:40:48,367 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:40:48,367 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:40:48,368 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:40:48,370 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:40:49,060 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:40:49,063 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:40:49,071 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:40:49,072 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:40:49,236 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:40:49,237 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:40:49,237 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:40:49,237 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:40:49,239 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:40:49,239 - INFO - Preparing response
2025-05-23 12:40:53,365 - INFO - Starting emotion detection request
2025-05-23 12:40:53,366 - INFO - Validated language: english
2025-05-23 12:40:53,366 - INFO - Initialized emotion detector
2025-05-23 12:40:53,366 - INFO - Starting image decoding
2025-05-23 12:40:53,366 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:40:53,367 - DEBUG - Successfully decoded base64 data, size: 24608 bytes
2025-05-23 12:40:53,367 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:40:53,422 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:40:53,422 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:40:53,431 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:40:53,501 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:40:53,502 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:40:53,502 - INFO - Starting emotion detection
2025-05-23 12:40:53,502 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:40:53,572 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:40:53,736 - INFO - DeepFace analysis result: {'emotion': {'angry': 0.2501086099073291, 'disgust': 3.510295873421221e-09, 'fear': 3.6724798381328583, 'happy': 0.0002578820385679137, 'sad': 81.7233145236969, 'surprise': 1.4534468073534867e-07, 'neutral': 14.353840053081512}, 'dominant_emotion': 'sad', 'region': {'x': 253, 'y': 91, 'w': 207, 'h': 207}}
2025-05-23 12:40:53,736 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.817233145236969, 'emotion_scores': {'angry': 0.002501086099073291, 'disgust': 3.510295873421221e-11, 'fear': 0.03672479838132858, 'happy': 2.578820385679137e-06, 'sad': 0.817233145236969, 'surprise': 1.4534468073534867e-09, 'neutral': 0.14353840053081512}}
2025-05-23 12:40:53,736 - INFO - Attempting to get playlist recommendations
2025-05-23 12:40:53,736 - INFO - Initializing Spotify client...
2025-05-23 12:40:53,737 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:40:53,737 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:40:53,737 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:40:53,739 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:40:54,473 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:40:54,475 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:40:54,479 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:40:54,480 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:40:54,637 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:40:54,641 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:40:54,641 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:40:54,642 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:40:54,643 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:40:54,644 - INFO - Preparing response
2025-05-23 12:42:41,472 - INFO - Starting emotion detection request
2025-05-23 12:42:41,473 - INFO - Validated language: english
2025-05-23 12:42:41,473 - INFO - Initialized emotion detector
2025-05-23 12:42:41,474 - INFO - Starting image decoding
2025-05-23 12:42:41,475 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:42:41,476 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 12:42:41,477 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:42:41,543 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:42:41,544 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:42:41,553 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:42:41,624 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:42:41,626 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:42:41,626 - INFO - Starting emotion detection
2025-05-23 12:42:41,626 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:42:41,731 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:42:41,913 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763551537369289, 'fear': 0.30352704799597885, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260488030589216, 'neutral': 0.35082456198935963}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 12:42:41,913 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.276355153736929e-05, 'fear': 0.0030352704799597886, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260488030589216e-05, 'neutral': 0.003508245619893596}}
2025-05-23 12:42:41,913 - INFO - Attempting to get playlist recommendations
2025-05-23 12:42:41,914 - INFO - Initializing Spotify client...
2025-05-23 12:42:41,914 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:42:41,914 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:42:41,914 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:42:41,917 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:42:42,614 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:42:42,616 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:42:42,621 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:42:42,623 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:42:42,797 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:42:42,799 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:42:42,800 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:42:42,801 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:42:42,803 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:42:42,805 - INFO - Preparing response
2025-05-23 12:42:42,820 - INFO - Starting emotion detection request
2025-05-23 12:42:42,821 - INFO - Validated language: english
2025-05-23 12:42:42,822 - INFO - Initialized emotion detector
2025-05-23 12:42:42,823 - INFO - Starting image decoding
2025-05-23 12:42:42,823 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:42:42,824 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 12:42:42,825 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:42:42,860 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:42:42,860 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:42:42,870 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:42:42,938 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:42:42,939 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:42:42,939 - INFO - Starting emotion detection
2025-05-23 12:42:42,939 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:42:43,005 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:42:43,322 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763551537369289, 'fear': 0.30352704799597885, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260488030589216, 'neutral': 0.35082456198935963}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 12:42:43,323 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.276355153736929e-05, 'fear': 0.0030352704799597886, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260488030589216e-05, 'neutral': 0.003508245619893596}}
2025-05-23 12:42:43,323 - INFO - Attempting to get playlist recommendations
2025-05-23 12:42:43,323 - INFO - Initializing Spotify client...
2025-05-23 12:42:43,323 - DEBUG - Using Client ID: 6f104...
2025-05-23 12:42:43,324 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:42:43,324 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:42:43,326 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:42:44,022 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:42:44,023 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:42:44,027 - DEBUG - Testing Spotify client with audio features...
2025-05-23 12:42:44,028 - DEBUG - Sending GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:42:44,191 - DEBUG - https://api.spotify.com:443 "GET /v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 HTTP/1.1" 403 None
2025-05-23 12:42:44,192 - ERROR - HTTP Error for GET to https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3 with Params: {} returned 403 due to None
2025-05-23 12:42:44,192 - ERROR - Failed to authenticate with Spotify: http status: 403, code:-1 - https://api.spotify.com/v1/audio-features/?ids=7qiZfU4dY1lWllzX7mPBI3:
 None, reason: None
2025-05-23 12:42:44,193 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 12:42:44,196 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 12:42:44,196 - INFO - Preparing response
2025-05-23 12:47:43,793 - INFO - Starting emotion detection request
2025-05-23 12:47:43,793 - INFO - Validated language: english
2025-05-23 12:47:43,793 - INFO - Initialized emotion detector
2025-05-23 12:47:43,793 - INFO - Starting image decoding
2025-05-23 12:47:43,793 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:47:43,793 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 12:47:43,814 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:47:43,832 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:47:43,832 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:47:43,838 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:47:43,879 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:47:43,881 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:47:43,882 - INFO - Starting emotion detection
2025-05-23 12:47:43,883 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:47:43,926 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:47:44,253 - DEBUG - Creating converter from 3 to 5
2025-05-23 12:47:44,580 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 12:47:44,580 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 12:47:44,580 - INFO - Attempting to get playlist recommendations
2025-05-23 12:47:44,581 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 12:47:44,581 - INFO - Initializing Spotify client...
2025-05-23 12:47:44,581 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:47:44,581 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:47:44,585 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:47:45,131 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:47:45,132 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:47:45,133 - INFO - Successfully initialized Spotify client
2025-05-23 12:47:45,133 - INFO - Successfully got Spotify client
2025-05-23 12:47:45,133 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 12:47:45,134 - INFO - Initializing Spotify client...
2025-05-23 12:47:45,134 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:47:45,134 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:47:45,136 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:47:46,037 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:47:46,037 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:47:46,039 - INFO - Successfully initialized Spotify client
2025-05-23 12:47:46,045 - ERROR - Error getting recommendations: object of type 'coroutine' has no len()
2025-05-23 12:47:46,045 - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 606, in fetch_random_tracks
    if tracks and len(tracks) > 0:
                  ^^^^^^^^^^^
TypeError: object of type 'coroutine' has no len()

2025-05-23 12:47:46,045 - INFO - Generating 10 mock tracks for mood: angry
2025-05-23 12:47:46,046 - INFO - Generated 10 mock tracks successfully
2025-05-23 12:47:46,046 - INFO - Got 10 tracks for playlist
2025-05-23 12:47:46,046 - INFO - Preparing response
2025-05-23 12:47:46,049 - ERROR - Error detecting emotion: 10 validation errors for EmotionDetectionResponse
playlist.0
  Input should be a valid dictionary or instance of TrackResponse [type=model_type, input_value=SpotifyTrack(id='mock_ang...=None, preview_url=None), input_type=SpotifyTrack]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
playlist.1
  Input should be a valid dictionary or instance of TrackResponse [type=model_type, input_value=SpotifyTrack(id='mock_ang...=None, preview_url=None), input_type=SpotifyTrack]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
playlist.2
  Input should be a valid dictionary or instance of TrackResponse [type=model_type, input_value=SpotifyTrack(id='mock_ang...=None, preview_url=None), input_type=SpotifyTrack]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
playlist.3
  Input should be a valid dictionary or instance of TrackResponse [type=model_type, input_value=SpotifyTrack(id='mock_ang...=None, preview_url=None), input_type=SpotifyTrack]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
playlist.4
  Input should be a valid dictionary or instance of TrackResponse [type=model_type, input_value=SpotifyTrack(id='mock_ang...=None, preview_url=None), input_type=SpotifyTrack]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
playlist.5
  Input should be a valid dictionary or instance of TrackResponse [type=model_type, input_value=SpotifyTrack(id='mock_ang...=None, preview_url=None), input_type=SpotifyTrack]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
playlist.6
  Input should be a valid dictionary or instance of TrackResponse [type=model_type, input_value=SpotifyTrack(id='mock_ang...=None, preview_url=None), input_type=SpotifyTrack]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
playlist.7
  Input should be a valid dictionary or instance of TrackResponse [type=model_type, input_value=SpotifyTrack(id='mock_ang...=None, preview_url=None), input_type=SpotifyTrack]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
playlist.8
  Input should be a valid dictionary or instance of TrackResponse [type=model_type, input_value=SpotifyTrack(id='mock_ang...=None, preview_url=None), input_type=SpotifyTrack]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
playlist.9
  Input should be a valid dictionary or instance of TrackResponse [type=model_type, input_value=SpotifyTrack(id='mock_ang...=None, preview_url=None), input_type=SpotifyTrack]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
2025-05-23 12:47:46,073 - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\api\emotion.py", line 176, in detect_emotion_endpoint
    return EmotionDetectionResponse(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\my-projects\moodify\backend\venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 10 validation errors for EmotionDetectionResponse
playlist.0
  Input should be a valid dictionary or instance of TrackResponse [type=model_type, input_value=SpotifyTrack(id='mock_ang...=None, preview_url=None), input_type=SpotifyTrack]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
playlist.1
  Input should be a valid dictionary or instance of TrackResponse [type=model_type, input_value=SpotifyTrack(id='mock_ang...=None, preview_url=None), input_type=SpotifyTrack]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
playlist.2
  Input should be a valid dictionary or instance of TrackResponse [type=model_type, input_value=SpotifyTrack(id='mock_ang...=None, preview_url=None), input_type=SpotifyTrack]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
playlist.3
  Input should be a valid dictionary or instance of TrackResponse [type=model_type, input_value=SpotifyTrack(id='mock_ang...=None, preview_url=None), input_type=SpotifyTrack]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
playlist.4
  Input should be a valid dictionary or instance of TrackResponse [type=model_type, input_value=SpotifyTrack(id='mock_ang...=None, preview_url=None), input_type=SpotifyTrack]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
playlist.5
  Input should be a valid dictionary or instance of TrackResponse [type=model_type, input_value=SpotifyTrack(id='mock_ang...=None, preview_url=None), input_type=SpotifyTrack]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
playlist.6
  Input should be a valid dictionary or instance of TrackResponse [type=model_type, input_value=SpotifyTrack(id='mock_ang...=None, preview_url=None), input_type=SpotifyTrack]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
playlist.7
  Input should be a valid dictionary or instance of TrackResponse [type=model_type, input_value=SpotifyTrack(id='mock_ang...=None, preview_url=None), input_type=SpotifyTrack]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
playlist.8
  Input should be a valid dictionary or instance of TrackResponse [type=model_type, input_value=SpotifyTrack(id='mock_ang...=None, preview_url=None), input_type=SpotifyTrack]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
playlist.9
  Input should be a valid dictionary or instance of TrackResponse [type=model_type, input_value=SpotifyTrack(id='mock_ang...=None, preview_url=None), input_type=SpotifyTrack]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type

2025-05-23 12:52:44,789 - INFO - Starting emotion detection request
2025-05-23 12:52:44,790 - INFO - Validated language: english
2025-05-23 12:52:44,790 - INFO - Initialized emotion detector
2025-05-23 12:52:44,790 - INFO - Starting image decoding
2025-05-23 12:52:44,791 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:52:44,791 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 12:52:44,802 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:52:44,821 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:52:44,821 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:52:44,828 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:52:44,869 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:52:44,870 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:52:44,870 - INFO - Starting emotion detection
2025-05-23 12:52:44,870 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:52:44,916 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:52:45,231 - DEBUG - Creating converter from 3 to 5
2025-05-23 12:52:45,656 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763551537369289, 'fear': 0.30352704799597885, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260488030589216, 'neutral': 0.35082456198935963}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 12:52:45,656 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.276355153736929e-05, 'fear': 0.0030352704799597886, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260488030589216e-05, 'neutral': 0.003508245619893596}}
2025-05-23 12:52:45,656 - INFO - Attempting to get playlist recommendations
2025-05-23 12:52:45,656 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 12:52:45,656 - INFO - Initializing Spotify client...
2025-05-23 12:52:45,656 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:52:45,657 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:52:45,658 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:52:46,355 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:52:46,356 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:52:46,358 - INFO - Successfully initialized Spotify client
2025-05-23 12:52:46,358 - INFO - Successfully got Spotify client
2025-05-23 12:52:46,358 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 12:52:46,358 - INFO - Initializing Spotify client...
2025-05-23 12:52:46,360 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:52:46,360 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:52:46,363 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:52:46,959 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:52:46,960 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:52:46,960 - INFO - Successfully initialized Spotify client
2025-05-23 12:52:46,963 - ERROR - Error getting recommendations: object of type 'coroutine' has no len()
2025-05-23 12:52:46,964 - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 606, in fetch_random_tracks
    if tracks and len(tracks) > 0:
                  ^^^^^^^^^^^
TypeError: object of type 'coroutine' has no len()

2025-05-23 12:52:46,964 - INFO - Generating 10 mock tracks for mood: angry
2025-05-23 12:52:46,964 - INFO - Generated 10 mock tracks successfully
2025-05-23 12:52:46,965 - INFO - Got 10 tracks for playlist
2025-05-23 12:52:46,965 - INFO - Converting 10 tracks to TrackResponse objects
2025-05-23 12:52:46,965 - INFO - Successfully converted 10 tracks
2025-05-23 12:52:46,965 - INFO - Preparing response
2025-05-23 12:57:45,833 - INFO - Starting emotion detection request
2025-05-23 12:57:45,834 - INFO - Validated language: english
2025-05-23 12:57:45,834 - INFO - Initialized emotion detector
2025-05-23 12:57:45,842 - INFO - Starting image decoding
2025-05-23 12:57:45,842 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 12:57:45,843 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 12:57:45,878 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 12:57:45,903 - DEBUG - Saved original image to debug_original.png
2025-05-23 12:57:45,904 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 12:57:45,914 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 12:57:45,986 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 12:57:45,986 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 12:57:45,987 - INFO - Starting emotion detection
2025-05-23 12:57:45,987 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 12:57:46,074 - DEBUG - Saved input image to debug_input.png
2025-05-23 12:57:46,755 - DEBUG - Creating converter from 3 to 5
2025-05-23 12:57:47,276 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 12:57:47,277 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 12:57:47,278 - INFO - Attempting to get playlist recommendations
2025-05-23 12:57:47,279 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 12:57:47,279 - INFO - Initializing Spotify client...
2025-05-23 12:57:47,280 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:57:47,280 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:57:47,287 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:57:48,136 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:57:48,140 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:57:48,150 - INFO - Successfully initialized Spotify client
2025-05-23 12:57:48,151 - INFO - Successfully got Spotify client
2025-05-23 12:57:48,158 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 12:57:48,160 - INFO - Initializing Spotify client...
2025-05-23 12:57:48,160 - DEBUG - Testing Spotify client with search query...
2025-05-23 12:57:48,161 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 12:57:48,163 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 12:57:48,888 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 12:57:48,891 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 12:57:48,894 - INFO - Successfully initialized Spotify client
2025-05-23 12:57:48,896 - ERROR - Error getting recommendations: object of type 'coroutine' has no len()
2025-05-23 12:57:48,898 - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 734, in fetch_random_tracks
    if tracks and len(tracks) > 0:
                  ^^^^^^^^^^^
TypeError: object of type 'coroutine' has no len()

2025-05-23 12:57:48,899 - INFO - Generating 10 mock tracks for mood: angry
2025-05-23 12:57:48,900 - INFO - Generated 10 mock tracks successfully
2025-05-23 12:57:48,901 - INFO - Got 10 tracks for playlist
2025-05-23 12:57:48,901 - INFO - Converting 10 tracks to TrackResponse objects
2025-05-23 12:57:48,902 - INFO - Successfully converted 10 tracks
2025-05-23 12:57:48,902 - INFO - Preparing response
2025-05-23 13:02:46,782 - INFO - Starting emotion detection request
2025-05-23 13:02:46,782 - INFO - Validated language: english
2025-05-23 13:02:46,782 - INFO - Initialized emotion detector
2025-05-23 13:02:46,782 - INFO - Starting image decoding
2025-05-23 13:02:46,782 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 13:02:46,785 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 13:02:46,786 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 13:02:46,813 - DEBUG - Saved original image to debug_original.png
2025-05-23 13:02:46,814 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 13:02:46,821 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 13:02:46,861 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 13:02:46,861 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 13:02:46,862 - INFO - Starting emotion detection
2025-05-23 13:02:46,862 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 13:02:46,902 - DEBUG - Saved input image to debug_input.png
2025-05-23 13:02:46,996 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 13:02:46,996 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 13:02:46,996 - INFO - Attempting to get playlist recommendations
2025-05-23 13:02:46,996 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 13:02:46,996 - INFO - Initializing Spotify client...
2025-05-23 13:02:46,997 - DEBUG - Testing Spotify client with search query...
2025-05-23 13:02:46,997 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 13:02:46,999 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 13:02:47,604 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 13:02:47,605 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 13:02:47,605 - INFO - Successfully initialized Spotify client
2025-05-23 13:02:47,605 - INFO - Successfully got Spotify client
2025-05-23 13:02:47,606 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 13:02:47,606 - INFO - Initializing Spotify client...
2025-05-23 13:02:47,606 - DEBUG - Testing Spotify client with search query...
2025-05-23 13:02:47,606 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 13:02:47,608 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 13:02:48,152 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 13:02:48,152 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 13:02:48,153 - INFO - Successfully initialized Spotify client
2025-05-23 13:02:48,154 - ERROR - Error getting recommendations: object of type 'coroutine' has no len()
2025-05-23 13:02:48,154 - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 734, in fetch_random_tracks
    if tracks and len(tracks) > 0:
                  ^^^^^^^^^^^
TypeError: object of type 'coroutine' has no len()

2025-05-23 13:02:48,154 - INFO - Generating 10 mock tracks for mood: angry
2025-05-23 13:02:48,154 - INFO - Generated 10 mock tracks successfully
2025-05-23 13:02:48,154 - INFO - Got 10 tracks for playlist
2025-05-23 13:02:48,155 - INFO - Converting 10 tracks to TrackResponse objects
2025-05-23 13:02:48,155 - INFO - Successfully converted 10 tracks
2025-05-23 13:02:48,155 - INFO - Preparing response
2025-05-23 13:07:47,810 - INFO - Starting emotion detection request
2025-05-23 13:07:47,812 - INFO - Validated language: english
2025-05-23 13:07:47,812 - INFO - Initialized emotion detector
2025-05-23 13:07:47,812 - INFO - Starting image decoding
2025-05-23 13:07:47,812 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 13:07:47,813 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 13:07:47,813 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 13:07:47,829 - DEBUG - Saved original image to debug_original.png
2025-05-23 13:07:47,829 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 13:07:47,835 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 13:07:47,877 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 13:07:47,877 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 13:07:47,878 - INFO - Starting emotion detection
2025-05-23 13:07:47,878 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 13:07:47,918 - DEBUG - Saved input image to debug_input.png
2025-05-23 13:07:48,021 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 13:07:48,021 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 13:07:48,022 - INFO - Attempting to get playlist recommendations
2025-05-23 13:07:48,022 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 13:07:48,022 - INFO - Initializing Spotify client...
2025-05-23 13:07:48,022 - DEBUG - Testing Spotify client with search query...
2025-05-23 13:07:48,022 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 13:07:48,024 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 13:07:48,595 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 13:07:48,595 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 13:07:48,596 - INFO - Successfully initialized Spotify client
2025-05-23 13:07:48,596 - INFO - Successfully got Spotify client
2025-05-23 13:07:48,596 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 13:07:48,596 - INFO - Initializing Spotify client...
2025-05-23 13:07:48,597 - DEBUG - Testing Spotify client with search query...
2025-05-23 13:07:48,597 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 13:07:48,598 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 13:07:49,223 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 13:07:49,224 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 13:07:49,226 - INFO - Successfully initialized Spotify client
2025-05-23 13:07:49,226 - ERROR - Error getting recommendations: object of type 'coroutine' has no len()
2025-05-23 13:07:49,227 - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 734, in fetch_random_tracks
    if tracks and len(tracks) > 0:
                  ^^^^^^^^^^^
TypeError: object of type 'coroutine' has no len()

2025-05-23 13:07:49,227 - INFO - Generating 10 mock tracks for mood: angry
2025-05-23 13:07:49,227 - INFO - Generated 10 mock tracks successfully
2025-05-23 13:07:49,227 - INFO - Got 10 tracks for playlist
2025-05-23 13:07:49,228 - INFO - Converting 10 tracks to TrackResponse objects
2025-05-23 13:07:49,228 - INFO - Successfully converted 10 tracks
2025-05-23 13:07:49,228 - INFO - Preparing response
2025-05-23 13:12:48,803 - INFO - Starting emotion detection request
2025-05-23 13:12:48,804 - INFO - Validated language: english
2025-05-23 13:12:48,804 - INFO - Initialized emotion detector
2025-05-23 13:12:48,804 - INFO - Starting image decoding
2025-05-23 13:12:48,805 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 13:12:48,805 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 13:12:48,805 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 13:12:48,822 - DEBUG - Saved original image to debug_original.png
2025-05-23 13:12:48,822 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 13:12:48,828 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 13:12:48,879 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 13:12:48,881 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 13:12:48,881 - INFO - Starting emotion detection
2025-05-23 13:12:48,881 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 13:12:48,922 - DEBUG - Saved input image to debug_input.png
2025-05-23 13:12:49,016 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 13:12:49,016 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 13:12:49,016 - INFO - Attempting to get playlist recommendations
2025-05-23 13:12:49,016 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 13:12:49,017 - INFO - Initializing Spotify client...
2025-05-23 13:12:49,017 - DEBUG - Testing Spotify client with search query...
2025-05-23 13:12:49,017 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 13:12:49,018 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 13:12:49,601 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 13:12:49,602 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 13:12:49,603 - INFO - Successfully initialized Spotify client
2025-05-23 13:12:49,603 - INFO - Successfully got Spotify client
2025-05-23 13:12:49,604 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 13:12:49,604 - INFO - Initializing Spotify client...
2025-05-23 13:12:49,605 - DEBUG - Testing Spotify client with search query...
2025-05-23 13:12:49,605 - DEBUG - Sending GET to https://api.spotify.com/v1/search with Params: {'q': 'test', 'limit': 1, 'offset': 0, 'type': 'track', 'market': None} Headers: {'Authorization': 'Bearer BQD6E199c72S-a7GYhAoHzbxJ_l8Q7MqirkqufmJLEgDmfMlTcAOHrnMPLwGRUm2GHIC05O3Z_RCBPJYZY2z0706eg5s4Cr2AYq5WNdFbs73EqYpj2h5ipJpEXs8DgYUzrwmowjiug4', 'Content-Type': 'application/json'} and Body: None 
2025-05-23 13:12:49,608 - DEBUG - Starting new HTTPS connection (1): api.spotify.com:443
2025-05-23 13:12:50,173 - DEBUG - https://api.spotify.com:443 "GET /v1/search?q=test&limit=1&offset=0&type=track HTTP/1.1" 200 None
2025-05-23 13:12:50,174 - DEBUG - RESULTS: {'tracks': {'href': 'https://api.spotify.com/v1/search?offset=0&limit=1&query=test&type=track', 'limit': 1, 'next': 'https://api.spotify.com/v1/search?offset=1&limit=1&query=test&type=track', 'offset': 0, 'previous': None, 'total': 2, 'items': [{'album': {'album_type': 'single', 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'external_urls': {'spotify': 'https://open.spotify.com/album/5mJ1ACoO2n6tV8qGb6pP2S'}, 'href': 'https://api.spotify.com/v1/albums/5mJ1ACoO2n6tV8qGb6pP2S', 'id': '5mJ1ACoO2n6tV8qGb6pP2S', 'images': [{'height': 640, 'width': 640, 'url': 'https://i.scdn.co/image/ab67616d0000b27366093239350274a6e0557b6b'}, {'height': 300, 'width': 300, 'url': 'https://i.scdn.co/image/ab67616d00001e0266093239350274a6e0557b6b'}, {'height': 64, 'width': 64, 'url': 'https://i.scdn.co/image/ab67616d0000485166093239350274a6e0557b6b'}], 'is_playable': True, 'name': 'TESTOSTERONE', 'release_date': '2024-08-28', 'release_date_precision': 'day', 'total_tracks': 1, 'type': 'album', 'uri': 'spotify:album:5mJ1ACoO2n6tV8qGb6pP2S'}, 'artists': [{'external_urls': {'spotify': 'https://open.spotify.com/artist/5XgZ7gXmvZA4mkTvfpvVMT'}, 'href': 'https://api.spotify.com/v1/artists/5XgZ7gXmvZA4mkTvfpvVMT', 'id': '5XgZ7gXmvZA4mkTvfpvVMT', 'name': 'ByAstral', 'type': 'artist', 'uri': 'spotify:artist:5XgZ7gXmvZA4mkTvfpvVMT'}], 'available_markets': ['AR', 'AU', 'AT', 'BE', 'BO', 'BR', 'BG', 'CA', 'CL', 'CO', 'CR', 'CY', 'CZ', 'DK', 'DO', 'DE', 'EC', 'EE', 'SV', 'FI', 'FR', 'GR', 'GT', 'HN', 'HK', 'HU', 'IS', 'IE', 'IT', 'LV', 'LT', 'LU', 'MY', 'MT', 'MX', 'NL', 'NZ', 'NI', 'NO', 'PA', 'PY', 'PE', 'PH', 'PL', 'PT', 'SG', 'SK', 'ES', 'SE', 'CH', 'TW', 'TR', 'UY', 'US', 'GB', 'AD', 'LI', 'MC', 'ID', 'JP', 'TH', 'VN', 'RO', 'IL', 'ZA', 'SA', 'AE', 'BH', 'QA', 'OM', 'KW', 'EG', 'MA', 'DZ', 'TN', 'LB', 'JO', 'PS', 'IN', 'BY', 'KZ', 'MD', 'UA', 'AL', 'BA', 'HR', 'ME', 'MK', 'RS', 'SI', 'KR', 'BD', 'PK', 'LK', 'GH', 'KE', 'NG', 'TZ', 'UG', 'AG', 'AM', 'BS', 'BB', 'BZ', 'BT', 'BW', 'BF', 'CV', 'CW', 'DM', 'FJ', 'GM', 'GE', 'GD', 'GW', 'GY', 'HT', 'JM', 'KI', 'LS', 'LR', 'MW', 'MV', 'ML', 'MH', 'FM', 'NA', 'NR', 'NE', 'PW', 'PG', 'PR', 'WS', 'SM', 'ST', 'SN', 'SC', 'SL', 'SB', 'KN', 'LC', 'VC', 'SR', 'TL', 'TO', 'TT', 'TV', 'VU', 'AZ', 'BN', 'BI', 'KH', 'CM', 'TD', 'KM', 'GQ', 'SZ', 'GA', 'GN', 'KG', 'LA', 'MO', 'MR', 'MN', 'NP', 'RW', 'TG', 'UZ', 'ZW', 'BJ', 'MG', 'MU', 'MZ', 'AO', 'CI', 'DJ', 'ZM', 'CD', 'CG', 'IQ', 'LY', 'TJ', 'VE', 'ET', 'XK'], 'disc_number': 1, 'duration_ms': 70081, 'explicit': False, 'external_ids': {'isrc': 'ESA012429271'}, 'external_urls': {'spotify': 'https://open.spotify.com/track/3A9Tua3hUTUU20oaKEE5pC'}, 'href': 'https://api.spotify.com/v1/tracks/3A9Tua3hUTUU20oaKEE5pC', 'id': '3A9Tua3hUTUU20oaKEE5pC', 'is_local': False, 'is_playable': True, 'name': 'TESTOSTERONE', 'popularity': 45, 'preview_url': None, 'track_number': 1, 'type': 'track', 'uri': 'spotify:track:3A9Tua3hUTUU20oaKEE5pC'}]}}
2025-05-23 13:12:50,174 - INFO - Successfully initialized Spotify client
2025-05-23 13:12:50,175 - ERROR - Error getting recommendations: object of type 'coroutine' has no len()
2025-05-23 13:12:50,176 - ERROR - Traceback (most recent call last):
  File "D:\my-projects\moodify\backend\src\services\spotify_service.py", line 734, in fetch_random_tracks
    if tracks and len(tracks) > 0:
                  ^^^^^^^^^^^
TypeError: object of type 'coroutine' has no len()

2025-05-23 13:12:50,176 - INFO - Generating 10 mock tracks for mood: angry
2025-05-23 13:12:50,176 - INFO - Generated 10 mock tracks successfully
2025-05-23 13:12:50,176 - INFO - Got 10 tracks for playlist
2025-05-23 13:12:50,176 - INFO - Converting 10 tracks to TrackResponse objects
2025-05-23 13:12:50,176 - INFO - Successfully converted 10 tracks
2025-05-23 13:12:50,177 - INFO - Preparing response
2025-05-23 13:45:22,320 - INFO - Starting emotion detection request
2025-05-23 13:45:22,322 - INFO - Validated language: english
2025-05-23 13:45:22,326 - INFO - Initialized emotion detector
2025-05-23 13:45:22,327 - INFO - Starting image decoding
2025-05-23 13:45:22,327 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 13:45:22,328 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 13:45:22,328 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 13:45:22,353 - DEBUG - Saved original image to debug_original.png
2025-05-23 13:45:22,354 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 13:45:22,366 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 13:45:22,434 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 13:45:22,437 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 13:45:22,438 - INFO - Starting emotion detection
2025-05-23 13:45:22,440 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 13:45:22,515 - DEBUG - Saved input image to debug_input.png
2025-05-23 13:45:22,688 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 13:45:22,688 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 13:45:22,689 - INFO - Attempting to get playlist recommendations
2025-05-23 13:45:22,689 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 13:45:22,689 - INFO - Initializing Spotify client...
2025-05-23 13:45:22,690 - DEBUG - Testing Spotify client with search query...
2025-05-23 13:45:22,691 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 13:45:22,692 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 13:45:23,269 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 13:45:23,271 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 13:45:23,271 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 13:45:23,272 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 13:45:23,273 - INFO - Preparing response
2025-05-23 13:50:22,803 - INFO - Starting emotion detection request
2025-05-23 13:50:22,803 - INFO - Validated language: english
2025-05-23 13:50:22,804 - INFO - Initialized emotion detector
2025-05-23 13:50:22,804 - INFO - Starting image decoding
2025-05-23 13:50:22,804 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 13:50:22,805 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 13:50:22,806 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 13:50:22,842 - DEBUG - Saved original image to debug_original.png
2025-05-23 13:50:22,842 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 13:50:22,852 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 13:50:22,918 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 13:50:22,919 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 13:50:22,919 - INFO - Starting emotion detection
2025-05-23 13:50:22,920 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 13:50:22,984 - DEBUG - Saved input image to debug_input.png
2025-05-23 13:50:23,152 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 13:50:23,153 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 13:50:23,153 - INFO - Attempting to get playlist recommendations
2025-05-23 13:50:23,153 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 13:50:23,154 - INFO - Initializing Spotify client...
2025-05-23 13:50:23,154 - DEBUG - Testing Spotify client with search query...
2025-05-23 13:50:23,154 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 13:50:23,157 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 13:50:23,741 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 13:50:23,742 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 13:50:23,744 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 13:50:23,745 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 13:50:23,746 - INFO - Preparing response
2025-05-23 13:55:23,796 - INFO - Starting emotion detection request
2025-05-23 13:55:23,798 - INFO - Validated language: english
2025-05-23 13:55:23,798 - INFO - Initialized emotion detector
2025-05-23 13:55:23,798 - INFO - Starting image decoding
2025-05-23 13:55:23,798 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 13:55:23,799 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 13:55:23,800 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 13:55:23,827 - DEBUG - Saved original image to debug_original.png
2025-05-23 13:55:23,827 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 13:55:23,837 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 13:55:23,901 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 13:55:23,901 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 13:55:23,901 - INFO - Starting emotion detection
2025-05-23 13:55:23,901 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 13:55:23,964 - DEBUG - Saved input image to debug_input.png
2025-05-23 13:55:24,115 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 13:55:24,116 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 13:55:24,116 - INFO - Attempting to get playlist recommendations
2025-05-23 13:55:24,116 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 13:55:24,116 - INFO - Initializing Spotify client...
2025-05-23 13:55:24,118 - DEBUG - Testing Spotify client with search query...
2025-05-23 13:55:24,118 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 13:55:24,120 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 13:55:24,679 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 13:55:24,680 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 13:55:24,681 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 13:55:24,683 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 13:55:24,684 - INFO - Preparing response
2025-05-23 14:00:24,819 - INFO - Starting emotion detection request
2025-05-23 14:00:24,819 - INFO - Validated language: english
2025-05-23 14:00:24,819 - INFO - Initialized emotion detector
2025-05-23 14:00:24,820 - INFO - Starting image decoding
2025-05-23 14:00:24,820 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 14:00:24,820 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 14:00:24,822 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 14:00:24,859 - DEBUG - Saved original image to debug_original.png
2025-05-23 14:00:24,859 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 14:00:24,868 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 14:00:24,937 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 14:00:24,937 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 14:00:24,937 - INFO - Starting emotion detection
2025-05-23 14:00:24,937 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 14:00:25,014 - DEBUG - Saved input image to debug_input.png
2025-05-23 14:00:25,187 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 14:00:25,187 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 14:00:25,187 - INFO - Attempting to get playlist recommendations
2025-05-23 14:00:25,187 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 14:00:25,188 - INFO - Initializing Spotify client...
2025-05-23 14:00:25,189 - DEBUG - Testing Spotify client with search query...
2025-05-23 14:00:25,190 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 14:00:25,199 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 14:00:25,938 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 14:00:25,940 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 14:00:25,941 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 14:00:25,942 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 14:00:25,943 - INFO - Preparing response
2025-05-23 14:05:25,782 - INFO - Starting emotion detection request
2025-05-23 14:05:25,782 - INFO - Validated language: english
2025-05-23 14:05:25,783 - INFO - Initialized emotion detector
2025-05-23 14:05:25,784 - INFO - Starting image decoding
2025-05-23 14:05:25,784 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 14:05:25,784 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 14:05:25,786 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 14:05:25,816 - DEBUG - Saved original image to debug_original.png
2025-05-23 14:05:25,816 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 14:05:25,828 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 14:05:25,894 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 14:05:25,894 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 14:05:25,895 - INFO - Starting emotion detection
2025-05-23 14:05:25,895 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 14:05:25,959 - DEBUG - Saved input image to debug_input.png
2025-05-23 14:05:26,126 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 14:05:26,126 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 14:05:26,126 - INFO - Attempting to get playlist recommendations
2025-05-23 14:05:26,126 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 14:05:26,126 - INFO - Initializing Spotify client...
2025-05-23 14:05:26,128 - DEBUG - Testing Spotify client with search query...
2025-05-23 14:05:26,128 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 14:05:26,129 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 14:05:26,740 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 14:05:26,742 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 14:05:26,743 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 14:05:26,745 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 14:05:26,746 - INFO - Preparing response
2025-05-23 14:10:26,795 - INFO - Starting emotion detection request
2025-05-23 14:10:26,795 - INFO - Validated language: english
2025-05-23 14:10:26,795 - INFO - Initialized emotion detector
2025-05-23 14:10:26,797 - INFO - Starting image decoding
2025-05-23 14:10:26,805 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 14:10:26,805 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 14:10:26,806 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 14:10:26,843 - DEBUG - Saved original image to debug_original.png
2025-05-23 14:10:26,845 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 14:10:26,859 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 14:10:26,925 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 14:10:26,925 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 14:10:26,926 - INFO - Starting emotion detection
2025-05-23 14:10:26,926 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 14:10:27,000 - DEBUG - Saved input image to debug_input.png
2025-05-23 14:10:27,159 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 14:10:27,159 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 14:10:27,160 - INFO - Attempting to get playlist recommendations
2025-05-23 14:10:27,160 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 14:10:27,160 - INFO - Initializing Spotify client...
2025-05-23 14:10:27,160 - DEBUG - Testing Spotify client with search query...
2025-05-23 14:10:27,160 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 14:10:27,163 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 14:10:27,780 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 14:10:27,781 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 14:10:27,781 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 14:10:27,782 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 14:10:27,782 - INFO - Preparing response
2025-05-23 14:15:27,778 - INFO - Starting emotion detection request
2025-05-23 14:15:27,778 - INFO - Validated language: english
2025-05-23 14:15:27,778 - INFO - Initialized emotion detector
2025-05-23 14:15:27,779 - INFO - Starting image decoding
2025-05-23 14:15:27,779 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 14:15:27,779 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 14:15:27,779 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 14:15:27,807 - DEBUG - Saved original image to debug_original.png
2025-05-23 14:15:27,807 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 14:15:27,819 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 14:15:27,891 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 14:15:27,891 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 14:15:27,892 - INFO - Starting emotion detection
2025-05-23 14:15:27,892 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 14:15:27,953 - DEBUG - Saved input image to debug_input.png
2025-05-23 14:15:28,108 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 14:15:28,109 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 14:15:28,110 - INFO - Attempting to get playlist recommendations
2025-05-23 14:15:28,110 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 14:15:28,110 - INFO - Initializing Spotify client...
2025-05-23 14:15:28,111 - DEBUG - Testing Spotify client with search query...
2025-05-23 14:15:28,111 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 14:15:28,113 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 14:15:28,958 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 14:15:28,960 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 14:15:28,961 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 14:15:28,963 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 14:15:28,964 - INFO - Preparing response
2025-05-23 14:20:28,803 - INFO - Starting emotion detection request
2025-05-23 14:20:28,803 - INFO - Validated language: english
2025-05-23 14:20:28,803 - INFO - Initialized emotion detector
2025-05-23 14:20:28,804 - INFO - Starting image decoding
2025-05-23 14:20:28,804 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 14:20:28,804 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 14:20:28,805 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 14:20:28,830 - DEBUG - Saved original image to debug_original.png
2025-05-23 14:20:28,831 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 14:20:28,839 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 14:20:28,903 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 14:20:28,904 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 14:20:28,904 - INFO - Starting emotion detection
2025-05-23 14:20:28,904 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 14:20:29,026 - DEBUG - Saved input image to debug_input.png
2025-05-23 14:20:29,184 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 14:20:29,184 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 14:20:29,184 - INFO - Attempting to get playlist recommendations
2025-05-23 14:20:29,186 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 14:20:29,186 - INFO - Initializing Spotify client...
2025-05-23 14:20:29,186 - DEBUG - Testing Spotify client with search query...
2025-05-23 14:20:29,187 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 14:20:29,189 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 14:20:29,864 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 14:20:29,866 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 14:20:29,866 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 14:20:29,868 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 14:20:29,869 - INFO - Preparing response
2025-05-23 14:25:29,809 - INFO - Starting emotion detection request
2025-05-23 14:25:29,811 - INFO - Validated language: english
2025-05-23 14:25:29,811 - INFO - Initialized emotion detector
2025-05-23 14:25:29,812 - INFO - Starting image decoding
2025-05-23 14:25:29,812 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 14:25:29,813 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 14:25:29,814 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 14:25:29,853 - DEBUG - Saved original image to debug_original.png
2025-05-23 14:25:29,853 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 14:25:29,863 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 14:25:29,929 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 14:25:29,930 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 14:25:29,930 - INFO - Starting emotion detection
2025-05-23 14:25:29,930 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 14:25:30,000 - DEBUG - Saved input image to debug_input.png
2025-05-23 14:25:30,156 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 14:25:30,156 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 14:25:30,156 - INFO - Attempting to get playlist recommendations
2025-05-23 14:25:30,158 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 14:25:30,158 - INFO - Initializing Spotify client...
2025-05-23 14:25:30,158 - DEBUG - Testing Spotify client with search query...
2025-05-23 14:25:30,158 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 14:25:30,160 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 14:25:30,817 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 14:25:30,818 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 14:25:30,819 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 14:25:30,820 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 14:25:30,821 - INFO - Preparing response
2025-05-23 14:30:30,790 - INFO - Starting emotion detection request
2025-05-23 14:30:30,790 - INFO - Validated language: english
2025-05-23 14:30:30,791 - INFO - Initialized emotion detector
2025-05-23 14:30:30,791 - INFO - Starting image decoding
2025-05-23 14:30:30,792 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 14:30:30,792 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 14:30:30,792 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 14:30:30,821 - DEBUG - Saved original image to debug_original.png
2025-05-23 14:30:30,821 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 14:30:30,836 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 14:30:30,920 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 14:30:30,921 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 14:30:30,921 - INFO - Starting emotion detection
2025-05-23 14:30:30,921 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 14:30:30,986 - DEBUG - Saved input image to debug_input.png
2025-05-23 14:30:31,134 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 14:30:31,134 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 14:30:31,134 - INFO - Attempting to get playlist recommendations
2025-05-23 14:30:31,134 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 14:30:31,134 - INFO - Initializing Spotify client...
2025-05-23 14:30:31,135 - DEBUG - Testing Spotify client with search query...
2025-05-23 14:30:31,135 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 14:30:31,137 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 14:30:31,781 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 14:30:31,782 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 14:30:31,783 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 14:30:31,784 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 14:30:31,785 - INFO - Preparing response
2025-05-23 14:35:31,805 - INFO - Starting emotion detection request
2025-05-23 14:35:31,805 - INFO - Validated language: english
2025-05-23 14:35:31,806 - INFO - Initialized emotion detector
2025-05-23 14:35:31,807 - INFO - Starting image decoding
2025-05-23 14:35:31,807 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 14:35:31,808 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 14:35:31,808 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 14:35:31,841 - DEBUG - Saved original image to debug_original.png
2025-05-23 14:35:31,842 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 14:35:31,852 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 14:35:31,966 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 14:35:31,966 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 14:35:31,967 - INFO - Starting emotion detection
2025-05-23 14:35:31,967 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 14:35:32,030 - DEBUG - Saved input image to debug_input.png
2025-05-23 14:35:32,216 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 14:35:32,216 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 14:35:32,217 - INFO - Attempting to get playlist recommendations
2025-05-23 14:35:32,217 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 14:35:32,217 - INFO - Initializing Spotify client...
2025-05-23 14:35:32,217 - DEBUG - Testing Spotify client with search query...
2025-05-23 14:35:32,218 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 14:35:32,219 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 14:35:32,846 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 14:35:32,848 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 14:35:32,851 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 14:35:32,855 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 14:35:32,856 - INFO - Preparing response
2025-05-23 14:40:32,827 - INFO - Starting emotion detection request
2025-05-23 14:40:32,828 - INFO - Validated language: english
2025-05-23 14:40:32,829 - INFO - Initialized emotion detector
2025-05-23 14:40:32,829 - INFO - Starting image decoding
2025-05-23 14:40:32,829 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 14:40:32,830 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 14:40:32,830 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 14:40:32,854 - DEBUG - Saved original image to debug_original.png
2025-05-23 14:40:32,854 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 14:40:32,863 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 14:40:32,927 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 14:40:32,927 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 14:40:32,927 - INFO - Starting emotion detection
2025-05-23 14:40:32,928 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 14:40:32,992 - DEBUG - Saved input image to debug_input.png
2025-05-23 14:40:33,174 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 14:40:33,174 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 14:40:33,175 - INFO - Attempting to get playlist recommendations
2025-05-23 14:40:33,175 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 14:40:33,176 - INFO - Initializing Spotify client...
2025-05-23 14:40:33,176 - DEBUG - Testing Spotify client with search query...
2025-05-23 14:40:33,176 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 14:40:33,179 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 14:40:33,807 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 14:40:33,809 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 14:40:33,810 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 14:40:33,813 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 14:40:33,814 - INFO - Preparing response
2025-05-23 14:45:33,788 - INFO - Starting emotion detection request
2025-05-23 14:45:33,788 - INFO - Validated language: english
2025-05-23 14:45:33,790 - INFO - Initialized emotion detector
2025-05-23 14:45:33,790 - INFO - Starting image decoding
2025-05-23 14:45:33,791 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 14:45:33,791 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 14:45:33,792 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 14:45:33,816 - DEBUG - Saved original image to debug_original.png
2025-05-23 14:45:33,817 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 14:45:33,826 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 14:45:33,888 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 14:45:33,890 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 14:45:33,890 - INFO - Starting emotion detection
2025-05-23 14:45:33,890 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 14:45:33,953 - DEBUG - Saved input image to debug_input.png
2025-05-23 14:45:34,163 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 14:45:34,163 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 14:45:34,164 - INFO - Attempting to get playlist recommendations
2025-05-23 14:45:34,165 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 14:45:34,165 - INFO - Initializing Spotify client...
2025-05-23 14:45:34,165 - DEBUG - Testing Spotify client with search query...
2025-05-23 14:45:34,166 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 14:45:34,167 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 14:45:34,782 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 14:45:34,784 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 14:45:34,784 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 14:45:34,785 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 14:45:34,786 - INFO - Preparing response
2025-05-23 14:50:34,811 - INFO - Starting emotion detection request
2025-05-23 14:50:34,820 - INFO - Validated language: english
2025-05-23 14:50:34,821 - INFO - Initialized emotion detector
2025-05-23 14:50:34,821 - INFO - Starting image decoding
2025-05-23 14:50:34,821 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 14:50:34,821 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 14:50:34,822 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 14:50:34,846 - DEBUG - Saved original image to debug_original.png
2025-05-23 14:50:34,846 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 14:50:34,855 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 14:50:34,919 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 14:50:34,920 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 14:50:34,920 - INFO - Starting emotion detection
2025-05-23 14:50:34,921 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 14:50:34,984 - DEBUG - Saved input image to debug_input.png
2025-05-23 14:50:35,198 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 14:50:35,198 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 14:50:35,198 - INFO - Attempting to get playlist recommendations
2025-05-23 14:50:35,198 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 14:50:35,198 - INFO - Initializing Spotify client...
2025-05-23 14:50:35,199 - DEBUG - Testing Spotify client with search query...
2025-05-23 14:50:35,199 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 14:50:35,201 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 14:50:35,863 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 14:50:35,865 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 14:50:35,865 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 14:50:35,867 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 14:50:35,867 - INFO - Preparing response
2025-05-23 14:55:35,811 - INFO - Starting emotion detection request
2025-05-23 14:55:35,812 - INFO - Validated language: english
2025-05-23 14:55:35,812 - INFO - Initialized emotion detector
2025-05-23 14:55:35,812 - INFO - Starting image decoding
2025-05-23 14:55:35,812 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 14:55:35,813 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 14:55:35,813 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 14:55:35,838 - DEBUG - Saved original image to debug_original.png
2025-05-23 14:55:35,838 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 14:55:35,848 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 14:55:35,910 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 14:55:35,911 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 14:55:35,911 - INFO - Starting emotion detection
2025-05-23 14:55:35,911 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 14:55:35,975 - DEBUG - Saved input image to debug_input.png
2025-05-23 14:55:36,188 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 14:55:36,188 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 14:55:36,188 - INFO - Attempting to get playlist recommendations
2025-05-23 14:55:36,190 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 14:55:36,190 - INFO - Initializing Spotify client...
2025-05-23 14:55:36,190 - DEBUG - Testing Spotify client with search query...
2025-05-23 14:55:36,191 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 14:55:36,192 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 14:55:36,866 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 14:55:36,867 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 14:55:36,867 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 14:55:36,869 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 14:55:36,869 - INFO - Preparing response
2025-05-23 15:00:36,901 - INFO - Starting emotion detection request
2025-05-23 15:00:36,902 - INFO - Validated language: english
2025-05-23 15:00:36,903 - INFO - Initialized emotion detector
2025-05-23 15:00:36,903 - INFO - Starting image decoding
2025-05-23 15:00:36,903 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 15:00:36,903 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 15:00:36,903 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 15:00:36,928 - DEBUG - Saved original image to debug_original.png
2025-05-23 15:00:36,930 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 15:00:36,939 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 15:00:37,032 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 15:00:37,033 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 15:00:37,033 - INFO - Starting emotion detection
2025-05-23 15:00:37,033 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 15:00:37,099 - DEBUG - Saved input image to debug_input.png
2025-05-23 15:00:37,354 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 15:00:37,355 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 15:00:37,356 - INFO - Attempting to get playlist recommendations
2025-05-23 15:00:37,356 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 15:00:37,356 - INFO - Initializing Spotify client...
2025-05-23 15:00:37,356 - DEBUG - Testing Spotify client with search query...
2025-05-23 15:00:37,357 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 15:00:37,358 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 15:00:38,026 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 15:00:38,027 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 15:00:38,028 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 15:00:38,031 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 15:00:38,032 - INFO - Preparing response
2025-05-23 15:05:37,809 - INFO - Starting emotion detection request
2025-05-23 15:05:37,810 - INFO - Validated language: english
2025-05-23 15:05:37,811 - INFO - Initialized emotion detector
2025-05-23 15:05:37,811 - INFO - Starting image decoding
2025-05-23 15:05:37,811 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 15:05:37,811 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 15:05:37,812 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 15:05:37,844 - DEBUG - Saved original image to debug_original.png
2025-05-23 15:05:37,845 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 15:05:37,853 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 15:05:37,922 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 15:05:37,923 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 15:05:37,923 - INFO - Starting emotion detection
2025-05-23 15:05:37,924 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 15:05:37,992 - DEBUG - Saved input image to debug_input.png
2025-05-23 15:05:38,743 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 15:05:38,743 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 15:05:38,744 - INFO - Attempting to get playlist recommendations
2025-05-23 15:05:38,744 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 15:05:38,745 - INFO - Initializing Spotify client...
2025-05-23 15:05:38,745 - DEBUG - Testing Spotify client with search query...
2025-05-23 15:05:38,745 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 15:05:38,747 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 15:05:39,400 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 15:05:39,401 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 15:05:39,401 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 15:05:39,402 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 15:05:39,402 - INFO - Preparing response
2025-05-23 15:10:38,796 - INFO - Starting emotion detection request
2025-05-23 15:10:38,797 - INFO - Validated language: english
2025-05-23 15:10:38,797 - INFO - Initialized emotion detector
2025-05-23 15:10:38,797 - INFO - Starting image decoding
2025-05-23 15:10:38,798 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 15:10:38,799 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 15:10:38,799 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 15:10:38,841 - DEBUG - Saved original image to debug_original.png
2025-05-23 15:10:38,842 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 15:10:38,851 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 15:10:38,914 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 15:10:38,914 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 15:10:38,914 - INFO - Starting emotion detection
2025-05-23 15:10:38,914 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 15:10:38,979 - DEBUG - Saved input image to debug_input.png
2025-05-23 15:10:39,145 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 15:10:39,145 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 15:10:39,145 - INFO - Attempting to get playlist recommendations
2025-05-23 15:10:39,146 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 15:10:39,146 - INFO - Initializing Spotify client...
2025-05-23 15:10:39,146 - DEBUG - Testing Spotify client with search query...
2025-05-23 15:10:39,147 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 15:10:39,149 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 15:10:39,812 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 15:10:39,819 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 15:10:39,821 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 15:10:39,824 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 15:10:39,825 - INFO - Preparing response
2025-05-23 15:15:39,799 - INFO - Starting emotion detection request
2025-05-23 15:15:39,800 - INFO - Validated language: english
2025-05-23 15:15:39,800 - INFO - Initialized emotion detector
2025-05-23 15:15:39,800 - INFO - Starting image decoding
2025-05-23 15:15:39,801 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 15:15:39,801 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 15:15:39,801 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 15:15:39,834 - DEBUG - Saved original image to debug_original.png
2025-05-23 15:15:39,835 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 15:15:39,846 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 15:15:39,910 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 15:15:39,910 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 15:15:39,911 - INFO - Starting emotion detection
2025-05-23 15:15:39,911 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 15:15:39,974 - DEBUG - Saved input image to debug_input.png
2025-05-23 15:15:40,122 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 15:15:40,122 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 15:15:40,123 - INFO - Attempting to get playlist recommendations
2025-05-23 15:15:40,123 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 15:15:40,123 - INFO - Initializing Spotify client...
2025-05-23 15:15:40,123 - DEBUG - Testing Spotify client with search query...
2025-05-23 15:15:40,124 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 15:15:40,126 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 15:15:40,772 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 15:15:40,773 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 15:15:40,773 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 15:15:40,775 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 15:15:40,775 - INFO - Preparing response
2025-05-23 15:20:40,801 - INFO - Starting emotion detection request
2025-05-23 15:20:40,802 - INFO - Validated language: english
2025-05-23 15:20:40,803 - INFO - Initialized emotion detector
2025-05-23 15:20:40,803 - INFO - Starting image decoding
2025-05-23 15:20:40,803 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 15:20:40,804 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 15:20:40,804 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 15:20:40,849 - DEBUG - Saved original image to debug_original.png
2025-05-23 15:20:40,849 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 15:20:40,858 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 15:20:40,922 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 15:20:40,922 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 15:20:40,923 - INFO - Starting emotion detection
2025-05-23 15:20:40,923 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 15:20:40,986 - DEBUG - Saved input image to debug_input.png
2025-05-23 15:20:41,134 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 15:20:41,134 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 15:20:41,134 - INFO - Attempting to get playlist recommendations
2025-05-23 15:20:41,134 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 15:20:41,134 - INFO - Initializing Spotify client...
2025-05-23 15:20:41,136 - DEBUG - Testing Spotify client with search query...
2025-05-23 15:20:41,136 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 15:20:41,137 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 15:20:42,090 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 15:20:42,092 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 15:20:42,093 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 15:20:42,094 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 15:20:42,096 - INFO - Preparing response
2025-05-23 15:25:41,791 - INFO - Starting emotion detection request
2025-05-23 15:25:41,792 - INFO - Validated language: english
2025-05-23 15:25:41,792 - INFO - Initialized emotion detector
2025-05-23 15:25:41,793 - INFO - Starting image decoding
2025-05-23 15:25:41,793 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 15:25:41,793 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 15:25:41,795 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 15:25:41,834 - DEBUG - Saved original image to debug_original.png
2025-05-23 15:25:41,835 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 15:25:41,844 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 15:25:41,909 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 15:25:41,910 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 15:25:41,910 - INFO - Starting emotion detection
2025-05-23 15:25:41,910 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 15:25:41,979 - DEBUG - Saved input image to debug_input.png
2025-05-23 15:25:42,139 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 15:25:42,139 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 15:25:42,139 - INFO - Attempting to get playlist recommendations
2025-05-23 15:25:42,140 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 15:25:42,140 - INFO - Initializing Spotify client...
2025-05-23 15:25:42,140 - DEBUG - Testing Spotify client with search query...
2025-05-23 15:25:42,141 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 15:25:42,142 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 15:25:42,926 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 15:25:42,927 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 15:25:42,928 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 15:25:42,930 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 15:25:42,931 - INFO - Preparing response
2025-05-23 15:30:42,793 - INFO - Starting emotion detection request
2025-05-23 15:30:42,794 - INFO - Validated language: english
2025-05-23 15:30:42,795 - INFO - Initialized emotion detector
2025-05-23 15:30:42,795 - INFO - Starting image decoding
2025-05-23 15:30:42,796 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 15:30:42,796 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 15:30:42,797 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 15:30:42,847 - DEBUG - Saved original image to debug_original.png
2025-05-23 15:30:42,847 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 15:30:42,858 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 15:30:42,926 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 15:30:42,926 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 15:30:42,928 - INFO - Starting emotion detection
2025-05-23 15:30:42,928 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 15:30:42,992 - DEBUG - Saved input image to debug_input.png
2025-05-23 15:30:43,156 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 15:30:43,157 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 15:30:43,157 - INFO - Attempting to get playlist recommendations
2025-05-23 15:30:43,157 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 15:30:43,158 - INFO - Initializing Spotify client...
2025-05-23 15:30:43,158 - DEBUG - Testing Spotify client with search query...
2025-05-23 15:30:43,159 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 15:30:43,160 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 15:30:43,757 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 15:30:43,758 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 15:30:43,759 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 15:30:43,761 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 15:30:43,762 - INFO - Preparing response
2025-05-23 15:35:43,798 - INFO - Starting emotion detection request
2025-05-23 15:35:43,799 - INFO - Validated language: english
2025-05-23 15:35:43,800 - INFO - Initialized emotion detector
2025-05-23 15:35:43,801 - INFO - Starting image decoding
2025-05-23 15:35:43,802 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 15:35:43,802 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 15:35:43,803 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 15:35:43,849 - DEBUG - Saved original image to debug_original.png
2025-05-23 15:35:43,849 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 15:35:43,859 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 15:35:43,923 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 15:35:43,924 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 15:35:43,924 - INFO - Starting emotion detection
2025-05-23 15:35:43,925 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 15:35:43,989 - DEBUG - Saved input image to debug_input.png
2025-05-23 15:35:44,157 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 15:35:44,158 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 15:35:44,158 - INFO - Attempting to get playlist recommendations
2025-05-23 15:35:44,158 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 15:35:44,158 - INFO - Initializing Spotify client...
2025-05-23 15:35:44,158 - DEBUG - Testing Spotify client with search query...
2025-05-23 15:35:44,158 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 15:35:44,161 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 15:35:44,870 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 15:35:44,871 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 15:35:44,872 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 15:35:44,874 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 15:35:44,875 - INFO - Preparing response
2025-05-23 15:40:44,793 - INFO - Starting emotion detection request
2025-05-23 15:40:44,793 - INFO - Validated language: english
2025-05-23 15:40:44,794 - INFO - Initialized emotion detector
2025-05-23 15:40:44,794 - INFO - Starting image decoding
2025-05-23 15:40:44,795 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 15:40:44,796 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 15:40:44,797 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 15:40:44,856 - DEBUG - Saved original image to debug_original.png
2025-05-23 15:40:44,856 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 15:40:44,867 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 15:40:44,934 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 15:40:44,934 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 15:40:44,934 - INFO - Starting emotion detection
2025-05-23 15:40:44,934 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 15:40:45,002 - DEBUG - Saved input image to debug_input.png
2025-05-23 15:40:45,174 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 15:40:45,174 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 15:40:45,174 - INFO - Attempting to get playlist recommendations
2025-05-23 15:40:45,175 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 15:40:45,175 - INFO - Initializing Spotify client...
2025-05-23 15:40:45,175 - DEBUG - Testing Spotify client with search query...
2025-05-23 15:40:45,176 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 15:40:45,177 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 15:40:45,851 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 15:40:45,852 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 15:40:45,853 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 15:40:45,854 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 15:40:45,854 - INFO - Preparing response
2025-05-23 15:45:45,831 - INFO - Starting emotion detection request
2025-05-23 15:45:45,832 - INFO - Validated language: english
2025-05-23 15:45:45,832 - INFO - Initialized emotion detector
2025-05-23 15:45:45,833 - INFO - Starting image decoding
2025-05-23 15:45:45,833 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 15:45:45,834 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 15:45:45,835 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 15:45:45,887 - DEBUG - Saved original image to debug_original.png
2025-05-23 15:45:45,887 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 15:45:45,906 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 15:45:46,039 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 15:45:46,040 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 15:45:46,040 - INFO - Starting emotion detection
2025-05-23 15:45:46,042 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 15:45:46,188 - DEBUG - Saved input image to debug_input.png
2025-05-23 15:45:46,498 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 15:45:46,499 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 15:45:46,499 - INFO - Attempting to get playlist recommendations
2025-05-23 15:45:46,499 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 15:45:46,500 - INFO - Initializing Spotify client...
2025-05-23 15:45:46,501 - DEBUG - Testing Spotify client with search query...
2025-05-23 15:45:46,502 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 15:45:46,506 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 15:45:46,508 - ERROR - Failed to authenticate with Spotify: HTTPSConnectionPool(host='accounts.spotify.com', port=443): Max retries exceeded with url: /api/token (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x0000024707425310>: Failed to resolve 'accounts.spotify.com' ([Errno 11001] getaddrinfo failed)"))
2025-05-23 15:45:46,509 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 15:45:46,509 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 15:45:46,509 - INFO - Preparing response
2025-05-23 15:47:24,832 - INFO - Starting emotion detection request
2025-05-23 15:47:24,833 - INFO - Validated language: english
2025-05-23 15:47:24,834 - INFO - Initialized emotion detector
2025-05-23 15:47:24,834 - INFO - Starting image decoding
2025-05-23 15:47:24,835 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 15:47:24,836 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 15:47:24,837 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 15:47:24,898 - DEBUG - Saved original image to debug_original.png
2025-05-23 15:47:24,898 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 15:47:24,919 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 15:47:25,097 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 15:47:25,098 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 15:47:25,099 - INFO - Starting emotion detection
2025-05-23 15:47:25,100 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 15:47:25,264 - DEBUG - Saved input image to debug_input.png
2025-05-23 15:47:25,618 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 15:47:25,619 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 15:47:25,620 - INFO - Attempting to get playlist recommendations
2025-05-23 15:47:25,620 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 15:47:25,621 - INFO - Initializing Spotify client...
2025-05-23 15:47:25,622 - DEBUG - Testing Spotify client with search query...
2025-05-23 15:47:25,622 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 15:47:25,626 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 15:47:25,627 - ERROR - Failed to authenticate with Spotify: HTTPSConnectionPool(host='accounts.spotify.com', port=443): Max retries exceeded with url: /api/token (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000002470743E590>: Failed to resolve 'accounts.spotify.com' ([Errno 11001] getaddrinfo failed)"))
2025-05-23 15:47:25,627 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 15:47:25,628 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 15:47:25,628 - INFO - Preparing response
2025-05-23 15:52:26,040 - INFO - Starting emotion detection request
2025-05-23 15:52:26,046 - INFO - Validated language: english
2025-05-23 15:52:26,046 - INFO - Initialized emotion detector
2025-05-23 15:52:26,047 - INFO - Starting image decoding
2025-05-23 15:52:26,048 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 15:52:26,048 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 15:52:26,048 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 15:52:26,065 - DEBUG - Saved original image to debug_original.png
2025-05-23 15:52:26,065 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 15:52:26,072 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 15:52:26,131 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 15:52:26,132 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 15:52:26,133 - INFO - Starting emotion detection
2025-05-23 15:52:26,133 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 15:52:26,251 - DEBUG - Saved input image to debug_input.png
2025-05-23 15:52:26,523 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 15:52:26,524 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 15:52:26,525 - INFO - Attempting to get playlist recommendations
2025-05-23 15:52:26,525 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 15:52:26,526 - INFO - Initializing Spotify client...
2025-05-23 15:52:26,526 - DEBUG - Testing Spotify client with search query...
2025-05-23 15:52:26,527 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 15:52:26,531 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 15:52:26,532 - ERROR - Failed to authenticate with Spotify: HTTPSConnectionPool(host='accounts.spotify.com', port=443): Max retries exceeded with url: /api/token (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000002470860DC50>: Failed to resolve 'accounts.spotify.com' ([Errno 11001] getaddrinfo failed)"))
2025-05-23 15:52:26,532 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 15:52:26,533 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 15:52:26,533 - INFO - Preparing response
2025-05-23 15:57:26,817 - INFO - Starting emotion detection request
2025-05-23 15:57:26,818 - INFO - Validated language: english
2025-05-23 15:57:26,818 - INFO - Initialized emotion detector
2025-05-23 15:57:26,818 - INFO - Starting image decoding
2025-05-23 15:57:26,818 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 15:57:26,819 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 15:57:26,820 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 15:57:26,862 - DEBUG - Saved original image to debug_original.png
2025-05-23 15:57:26,950 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 15:57:26,967 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 15:57:27,174 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 15:57:27,176 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 15:57:27,176 - INFO - Starting emotion detection
2025-05-23 15:57:27,176 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 15:57:27,372 - DEBUG - Saved input image to debug_input.png
2025-05-23 15:57:28,034 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 15:57:28,034 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 15:57:28,035 - INFO - Attempting to get playlist recommendations
2025-05-23 15:57:28,035 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 15:57:28,035 - INFO - Initializing Spotify client...
2025-05-23 15:57:28,036 - DEBUG - Testing Spotify client with search query...
2025-05-23 15:57:28,037 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 15:57:28,039 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 15:57:28,041 - ERROR - Failed to authenticate with Spotify: HTTPSConnectionPool(host='accounts.spotify.com', port=443): Max retries exceeded with url: /api/token (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000002477ECD7410>: Failed to resolve 'accounts.spotify.com' ([Errno 11001] getaddrinfo failed)"))
2025-05-23 15:57:28,041 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 15:57:28,041 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 15:57:28,042 - INFO - Preparing response
2025-05-23 16:02:27,920 - INFO - Starting emotion detection request
2025-05-23 16:02:27,920 - INFO - Validated language: english
2025-05-23 16:02:27,920 - INFO - Initialized emotion detector
2025-05-23 16:02:27,921 - INFO - Starting image decoding
2025-05-23 16:02:27,922 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 16:02:27,922 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 16:02:27,923 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 16:02:27,967 - DEBUG - Saved original image to debug_original.png
2025-05-23 16:02:27,967 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 16:02:27,982 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 16:02:28,272 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 16:02:28,274 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 16:02:28,275 - INFO - Starting emotion detection
2025-05-23 16:02:28,276 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 16:02:28,472 - DEBUG - Saved input image to debug_input.png
2025-05-23 16:02:29,119 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 16:02:29,122 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 16:02:29,123 - INFO - Attempting to get playlist recommendations
2025-05-23 16:02:29,126 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 16:02:29,129 - INFO - Initializing Spotify client...
2025-05-23 16:02:29,131 - DEBUG - Testing Spotify client with search query...
2025-05-23 16:02:29,135 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 16:02:29,139 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 16:02:29,143 - ERROR - Failed to authenticate with Spotify: HTTPSConnectionPool(host='accounts.spotify.com', port=443): Max retries exceeded with url: /api/token (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x00000247073FDA10>: Failed to resolve 'accounts.spotify.com' ([Errno 11001] getaddrinfo failed)"))
2025-05-23 16:02:29,143 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 16:02:29,144 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 16:02:29,144 - INFO - Preparing response
2025-05-23 16:07:28,802 - INFO - Starting emotion detection request
2025-05-23 16:07:28,803 - INFO - Validated language: english
2025-05-23 16:07:28,803 - INFO - Initialized emotion detector
2025-05-23 16:07:28,803 - INFO - Starting image decoding
2025-05-23 16:07:28,804 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 16:07:28,804 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 16:07:28,804 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 16:07:28,846 - DEBUG - Saved original image to debug_original.png
2025-05-23 16:07:28,847 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 16:07:28,862 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 16:07:28,978 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 16:07:28,980 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 16:07:28,980 - INFO - Starting emotion detection
2025-05-23 16:07:28,980 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 16:07:29,096 - DEBUG - Saved input image to debug_input.png
2025-05-23 16:07:29,391 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 16:07:29,392 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 16:07:29,392 - INFO - Attempting to get playlist recommendations
2025-05-23 16:07:29,392 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 16:07:29,392 - INFO - Initializing Spotify client...
2025-05-23 16:07:29,394 - DEBUG - Testing Spotify client with search query...
2025-05-23 16:07:29,394 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 16:07:29,397 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 16:07:29,399 - ERROR - Failed to authenticate with Spotify: HTTPSConnectionPool(host='accounts.spotify.com', port=443): Max retries exceeded with url: /api/token (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x00000247073EF850>: Failed to resolve 'accounts.spotify.com' ([Errno 11001] getaddrinfo failed)"))
2025-05-23 16:07:29,399 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 16:07:29,399 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 16:07:29,401 - INFO - Preparing response
2025-05-23 16:12:29,786 - INFO - Starting emotion detection request
2025-05-23 16:12:29,787 - INFO - Validated language: english
2025-05-23 16:12:29,788 - INFO - Initialized emotion detector
2025-05-23 16:12:29,788 - INFO - Starting image decoding
2025-05-23 16:12:29,789 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 16:12:29,789 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 16:12:29,789 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 16:12:29,818 - DEBUG - Saved original image to debug_original.png
2025-05-23 16:12:29,818 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 16:12:29,827 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 16:12:29,898 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 16:12:29,898 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 16:12:29,898 - INFO - Starting emotion detection
2025-05-23 16:12:29,898 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 16:12:29,963 - DEBUG - Saved input image to debug_input.png
2025-05-23 16:12:30,123 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 16:12:30,124 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 16:12:30,124 - INFO - Attempting to get playlist recommendations
2025-05-23 16:12:30,124 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 16:12:30,125 - INFO - Initializing Spotify client...
2025-05-23 16:12:30,125 - DEBUG - Testing Spotify client with search query...
2025-05-23 16:12:30,126 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 16:12:30,127 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 16:12:30,128 - ERROR - Failed to authenticate with Spotify: HTTPSConnectionPool(host='accounts.spotify.com', port=443): Max retries exceeded with url: /api/token (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x00000247073D1FD0>: Failed to resolve 'accounts.spotify.com' ([Errno 11001] getaddrinfo failed)"))
2025-05-23 16:12:30,129 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 16:12:30,129 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 16:12:30,129 - INFO - Preparing response
2025-05-23 16:17:30,795 - INFO - Starting emotion detection request
2025-05-23 16:17:30,796 - INFO - Validated language: english
2025-05-23 16:17:30,796 - INFO - Initialized emotion detector
2025-05-23 16:17:30,797 - INFO - Starting image decoding
2025-05-23 16:17:30,798 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 16:17:30,798 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 16:17:30,799 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 16:17:30,848 - DEBUG - Saved original image to debug_original.png
2025-05-23 16:17:30,848 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 16:17:30,858 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 16:17:30,929 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 16:17:30,929 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 16:17:30,929 - INFO - Starting emotion detection
2025-05-23 16:17:30,929 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 16:17:30,997 - DEBUG - Saved input image to debug_input.png
2025-05-23 16:17:31,186 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 16:17:31,187 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 16:17:31,187 - INFO - Attempting to get playlist recommendations
2025-05-23 16:17:31,188 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 16:17:31,188 - INFO - Initializing Spotify client...
2025-05-23 16:17:31,189 - DEBUG - Testing Spotify client with search query...
2025-05-23 16:17:31,189 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 16:17:31,191 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 16:17:31,842 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 16:17:31,845 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 16:17:31,845 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 16:17:31,847 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 16:17:31,847 - INFO - Preparing response
2025-05-23 16:22:31,785 - INFO - Starting emotion detection request
2025-05-23 16:22:31,786 - INFO - Validated language: english
2025-05-23 16:22:31,787 - INFO - Initialized emotion detector
2025-05-23 16:22:31,787 - INFO - Starting image decoding
2025-05-23 16:22:31,788 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 16:22:31,788 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 16:22:31,788 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 16:22:31,819 - DEBUG - Saved original image to debug_original.png
2025-05-23 16:22:31,819 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 16:22:31,835 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 16:22:31,903 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 16:22:31,904 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 16:22:31,904 - INFO - Starting emotion detection
2025-05-23 16:22:31,905 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 16:22:31,970 - DEBUG - Saved input image to debug_input.png
2025-05-23 16:22:32,128 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 16:22:32,129 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 16:22:32,129 - INFO - Attempting to get playlist recommendations
2025-05-23 16:22:32,129 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 16:22:32,130 - INFO - Initializing Spotify client...
2025-05-23 16:22:32,130 - DEBUG - Testing Spotify client with search query...
2025-05-23 16:22:32,131 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 16:22:32,132 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 16:22:32,760 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 16:22:32,762 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 16:22:32,763 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 16:22:32,766 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 16:22:32,767 - INFO - Preparing response
2025-05-23 16:27:32,799 - INFO - Starting emotion detection request
2025-05-23 16:27:32,800 - INFO - Validated language: english
2025-05-23 16:27:32,800 - INFO - Initialized emotion detector
2025-05-23 16:27:32,800 - INFO - Starting image decoding
2025-05-23 16:27:32,800 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 16:27:32,800 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 16:27:32,800 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 16:27:32,816 - DEBUG - Saved original image to debug_original.png
2025-05-23 16:27:32,816 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 16:27:32,827 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 16:27:32,909 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 16:27:32,910 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 16:27:32,910 - INFO - Starting emotion detection
2025-05-23 16:27:32,910 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 16:27:32,976 - DEBUG - Saved input image to debug_input.png
2025-05-23 16:27:33,155 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 16:27:33,156 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 16:27:33,156 - INFO - Attempting to get playlist recommendations
2025-05-23 16:27:33,156 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 16:27:33,156 - INFO - Initializing Spotify client...
2025-05-23 16:27:33,156 - DEBUG - Testing Spotify client with search query...
2025-05-23 16:27:33,161 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 16:27:33,162 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 16:27:34,115 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 16:27:34,117 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 16:27:34,117 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 16:27:34,118 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 16:27:34,119 - INFO - Preparing response
2025-05-23 16:32:33,794 - INFO - Starting emotion detection request
2025-05-23 16:32:33,795 - INFO - Validated language: english
2025-05-23 16:32:33,795 - INFO - Initialized emotion detector
2025-05-23 16:32:33,795 - INFO - Starting image decoding
2025-05-23 16:32:33,795 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 16:32:33,795 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 16:32:33,795 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 16:32:33,823 - DEBUG - Saved original image to debug_original.png
2025-05-23 16:32:33,824 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 16:32:33,835 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 16:32:33,912 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 16:32:33,913 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 16:32:33,913 - INFO - Starting emotion detection
2025-05-23 16:32:33,913 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 16:32:33,980 - DEBUG - Saved input image to debug_input.png
2025-05-23 16:32:34,132 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 16:32:34,132 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 16:32:34,132 - INFO - Attempting to get playlist recommendations
2025-05-23 16:32:34,132 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 16:32:34,134 - INFO - Initializing Spotify client...
2025-05-23 16:32:34,134 - DEBUG - Testing Spotify client with search query...
2025-05-23 16:32:34,134 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 16:32:34,136 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 16:32:34,793 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 16:32:34,794 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 16:32:34,795 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 16:32:34,797 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 16:32:34,798 - INFO - Preparing response
2025-05-23 16:37:34,799 - INFO - Starting emotion detection request
2025-05-23 16:37:34,799 - INFO - Validated language: english
2025-05-23 16:37:34,800 - INFO - Initialized emotion detector
2025-05-23 16:37:34,800 - INFO - Starting image decoding
2025-05-23 16:37:34,801 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 16:37:34,801 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 16:37:34,802 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 16:37:34,828 - DEBUG - Saved original image to debug_original.png
2025-05-23 16:37:34,829 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 16:37:34,837 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 16:37:34,924 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 16:37:34,925 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 16:37:34,925 - INFO - Starting emotion detection
2025-05-23 16:37:34,926 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 16:37:34,999 - DEBUG - Saved input image to debug_input.png
2025-05-23 16:37:35,157 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 16:37:35,158 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 16:37:35,158 - INFO - Attempting to get playlist recommendations
2025-05-23 16:37:35,158 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 16:37:35,158 - INFO - Initializing Spotify client...
2025-05-23 16:37:35,158 - DEBUG - Testing Spotify client with search query...
2025-05-23 16:37:35,159 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 16:37:35,160 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 16:37:35,852 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 16:37:35,854 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 16:37:35,855 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 16:37:35,861 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 16:37:35,863 - INFO - Preparing response
2025-05-23 16:42:35,782 - INFO - Starting emotion detection request
2025-05-23 16:42:35,782 - INFO - Validated language: english
2025-05-23 16:42:35,784 - INFO - Initialized emotion detector
2025-05-23 16:42:35,784 - INFO - Starting image decoding
2025-05-23 16:42:35,784 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 16:42:35,786 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 16:42:35,786 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 16:42:35,829 - DEBUG - Saved original image to debug_original.png
2025-05-23 16:42:35,829 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 16:42:35,839 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 16:42:35,903 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 16:42:35,903 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 16:42:35,903 - INFO - Starting emotion detection
2025-05-23 16:42:35,905 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 16:42:35,970 - DEBUG - Saved input image to debug_input.png
2025-05-23 16:42:36,117 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 16:42:36,117 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 16:42:36,117 - INFO - Attempting to get playlist recommendations
2025-05-23 16:42:36,118 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 16:42:36,118 - INFO - Initializing Spotify client...
2025-05-23 16:42:36,118 - DEBUG - Testing Spotify client with search query...
2025-05-23 16:42:36,119 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 16:42:36,121 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 16:42:36,717 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 16:42:36,720 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 16:42:36,721 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 16:42:36,724 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 16:42:36,724 - INFO - Preparing response
2025-05-23 16:47:36,825 - INFO - Starting emotion detection request
2025-05-23 16:47:36,825 - INFO - Validated language: english
2025-05-23 16:47:36,826 - INFO - Initialized emotion detector
2025-05-23 16:47:36,826 - INFO - Starting image decoding
2025-05-23 16:47:36,826 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 16:47:36,826 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 16:47:36,826 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 16:47:36,852 - DEBUG - Saved original image to debug_original.png
2025-05-23 16:47:36,852 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 16:47:36,861 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 16:47:36,927 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 16:47:36,928 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 16:47:36,928 - INFO - Starting emotion detection
2025-05-23 16:47:36,928 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 16:47:36,994 - DEBUG - Saved input image to debug_input.png
2025-05-23 16:47:37,151 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 16:47:37,152 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 16:47:37,152 - INFO - Attempting to get playlist recommendations
2025-05-23 16:47:37,153 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 16:47:37,153 - INFO - Initializing Spotify client...
2025-05-23 16:47:37,153 - DEBUG - Testing Spotify client with search query...
2025-05-23 16:47:37,154 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 16:47:37,156 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 16:47:37,821 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 16:47:37,828 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 16:47:37,828 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 16:47:37,831 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 16:47:37,831 - INFO - Preparing response
2025-05-23 16:52:37,801 - INFO - Starting emotion detection request
2025-05-23 16:52:37,801 - INFO - Validated language: english
2025-05-23 16:52:37,801 - INFO - Initialized emotion detector
2025-05-23 16:52:37,801 - INFO - Starting image decoding
2025-05-23 16:52:37,801 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 16:52:37,802 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 16:52:37,802 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 16:52:37,831 - DEBUG - Saved original image to debug_original.png
2025-05-23 16:52:37,831 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 16:52:37,840 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 16:52:37,905 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 16:52:37,906 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 16:52:37,906 - INFO - Starting emotion detection
2025-05-23 16:52:37,906 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 16:52:37,971 - DEBUG - Saved input image to debug_input.png
2025-05-23 16:52:38,134 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 16:52:38,135 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 16:52:38,135 - INFO - Attempting to get playlist recommendations
2025-05-23 16:52:38,135 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 16:52:38,136 - INFO - Initializing Spotify client...
2025-05-23 16:52:38,136 - DEBUG - Testing Spotify client with search query...
2025-05-23 16:52:38,137 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 16:52:38,139 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 16:52:38,976 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 16:52:38,978 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 16:52:38,979 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 16:52:38,982 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 16:52:38,982 - INFO - Preparing response
2025-05-23 16:57:38,807 - INFO - Starting emotion detection request
2025-05-23 16:57:38,808 - INFO - Validated language: english
2025-05-23 16:57:38,809 - INFO - Initialized emotion detector
2025-05-23 16:57:38,810 - INFO - Starting image decoding
2025-05-23 16:57:38,810 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 16:57:38,810 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 16:57:38,812 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 16:57:38,847 - DEBUG - Saved original image to debug_original.png
2025-05-23 16:57:38,847 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 16:57:38,859 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 16:57:38,926 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 16:57:38,926 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 16:57:38,926 - INFO - Starting emotion detection
2025-05-23 16:57:38,926 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 16:57:38,992 - DEBUG - Saved input image to debug_input.png
2025-05-23 16:57:39,180 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 16:57:39,181 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 16:57:39,181 - INFO - Attempting to get playlist recommendations
2025-05-23 16:57:39,182 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 16:57:39,182 - INFO - Initializing Spotify client...
2025-05-23 16:57:39,182 - DEBUG - Testing Spotify client with search query...
2025-05-23 16:57:39,182 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 16:57:39,184 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 16:57:39,785 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 16:57:39,786 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 16:57:39,787 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 16:57:39,789 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 16:57:39,789 - INFO - Preparing response
2025-05-23 17:02:39,782 - INFO - Starting emotion detection request
2025-05-23 17:02:39,784 - INFO - Validated language: english
2025-05-23 17:02:39,784 - INFO - Initialized emotion detector
2025-05-23 17:02:39,785 - INFO - Starting image decoding
2025-05-23 17:02:39,785 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 17:02:39,787 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 17:02:39,787 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 17:02:39,829 - DEBUG - Saved original image to debug_original.png
2025-05-23 17:02:39,830 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 17:02:39,843 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 17:02:39,912 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 17:02:39,912 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 17:02:39,913 - INFO - Starting emotion detection
2025-05-23 17:02:39,913 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 17:02:39,978 - DEBUG - Saved input image to debug_input.png
2025-05-23 17:02:40,130 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 17:02:40,130 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 17:02:40,131 - INFO - Attempting to get playlist recommendations
2025-05-23 17:02:40,131 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 17:02:40,132 - INFO - Initializing Spotify client...
2025-05-23 17:02:40,132 - DEBUG - Testing Spotify client with search query...
2025-05-23 17:02:40,132 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 17:02:40,134 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 17:02:40,726 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 17:02:40,728 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 17:02:40,728 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 17:02:40,731 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 17:02:40,732 - INFO - Preparing response
2025-05-23 17:07:40,809 - INFO - Starting emotion detection request
2025-05-23 17:07:40,810 - INFO - Validated language: english
2025-05-23 17:07:40,810 - INFO - Initialized emotion detector
2025-05-23 17:07:40,810 - INFO - Starting image decoding
2025-05-23 17:07:40,810 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 17:07:40,812 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 17:07:40,813 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 17:07:40,848 - DEBUG - Saved original image to debug_original.png
2025-05-23 17:07:40,849 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 17:07:40,869 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 17:07:40,942 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 17:07:40,942 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 17:07:40,942 - INFO - Starting emotion detection
2025-05-23 17:07:40,942 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 17:07:41,008 - DEBUG - Saved input image to debug_input.png
2025-05-23 17:07:41,151 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 17:07:41,152 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 17:07:41,152 - INFO - Attempting to get playlist recommendations
2025-05-23 17:07:41,152 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 17:07:41,152 - INFO - Initializing Spotify client...
2025-05-23 17:07:41,153 - DEBUG - Testing Spotify client with search query...
2025-05-23 17:07:41,153 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 17:07:41,154 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 17:07:41,750 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 17:07:41,751 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 17:07:41,752 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 17:07:41,754 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 17:07:41,755 - INFO - Preparing response
2025-05-23 17:12:44,178 - INFO - Starting emotion detection request
2025-05-23 17:12:44,179 - INFO - Validated language: english
2025-05-23 17:12:44,179 - INFO - Initialized emotion detector
2025-05-23 17:12:44,179 - INFO - Starting image decoding
2025-05-23 17:12:44,179 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 17:12:44,180 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 17:12:44,180 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 17:12:44,226 - DEBUG - Saved original image to debug_original.png
2025-05-23 17:12:44,226 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 17:12:44,241 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 17:12:44,350 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 17:12:44,350 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 17:12:44,351 - INFO - Starting emotion detection
2025-05-23 17:12:44,351 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 17:12:44,459 - DEBUG - Saved input image to debug_input.png
2025-05-23 17:12:44,715 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 17:12:44,716 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 17:12:44,716 - INFO - Attempting to get playlist recommendations
2025-05-23 17:12:44,716 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 17:12:44,716 - INFO - Initializing Spotify client...
2025-05-23 17:12:44,716 - DEBUG - Testing Spotify client with search query...
2025-05-23 17:12:44,717 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 17:12:44,719 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 17:12:45,556 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 17:12:45,558 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 17:12:45,558 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 17:12:45,560 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 17:12:45,560 - INFO - Preparing response
2025-05-23 18:41:31,417 - INFO - Starting emotion detection request
2025-05-23 18:41:31,417 - INFO - Validated language: english
2025-05-23 18:41:31,418 - INFO - Initialized emotion detector
2025-05-23 18:41:31,418 - INFO - Starting image decoding
2025-05-23 18:41:31,418 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 18:41:31,418 - DEBUG - Successfully decoded base64 data, size: 23403 bytes
2025-05-23 18:41:31,419 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 18:41:31,448 - DEBUG - Saved original image to debug_original.png
2025-05-23 18:41:31,448 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 18:41:31,458 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 18:41:31,555 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 18:41:31,560 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 18:41:31,564 - INFO - Starting emotion detection
2025-05-23 18:41:31,564 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 18:41:31,653 - DEBUG - Saved input image to debug_input.png
2025-05-23 18:41:31,878 - INFO - DeepFace analysis result: {'emotion': {'angry': 96.80546560222321, 'disgust': 0.0012763526981015268, 'fear': 0.3035269082976093, 'happy': 0.0020673750705327756, 'sad': 2.5357103677737274, 'surprise': 0.0011260509858459456, 'neutral': 0.35082470168772917}, 'dominant_emotion': 'angry', 'region': {'x': 266, 'y': 127, 'w': 221, 'h': 221}}
2025-05-23 18:41:31,880 - INFO - Detected emotion: {'emotion': 'angry', 'confidence': 0.9680546560222321, 'emotion_scores': {'angry': 0.9680546560222321, 'disgust': 1.2763526981015269e-05, 'fear': 0.003035269082976093, 'happy': 2.0673750705327756e-05, 'sad': 0.025357103677737275, 'surprise': 1.1260509858459457e-05, 'neutral': 0.0035082470168772916}}
2025-05-23 18:41:31,884 - INFO - Attempting to get playlist recommendations
2025-05-23 18:41:31,889 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 18:41:31,890 - INFO - Initializing Spotify client...
2025-05-23 18:41:31,893 - DEBUG - Testing Spotify client with search query...
2025-05-23 18:41:31,894 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 18:41:31,897 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 18:41:32,916 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 18:41:32,924 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 18:41:32,934 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 18:41:32,936 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 18:41:32,937 - INFO - Preparing response
2025-05-23 18:44:16,388 - INFO - Starting emotion detection request
2025-05-23 18:44:16,389 - INFO - Validated language: english
2025-05-23 18:44:16,393 - INFO - Initialized emotion detector
2025-05-23 18:44:16,393 - INFO - Starting image decoding
2025-05-23 18:44:16,394 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 18:44:16,394 - DEBUG - Successfully decoded base64 data, size: 25296 bytes
2025-05-23 18:44:16,395 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 18:44:16,416 - DEBUG - Saved original image to debug_original.png
2025-05-23 18:44:16,416 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 18:44:16,428 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 18:44:16,510 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 18:44:16,512 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 18:44:16,512 - INFO - Starting emotion detection
2025-05-23 18:44:16,512 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 18:44:16,588 - DEBUG - Saved input image to debug_input.png
2025-05-23 18:44:17,013 - INFO - DeepFace analysis result: {'emotion': {'angry': 8.825357784352171, 'disgust': 0.00046142070481407, 'fear': 8.776006625652709, 'happy': 0.40612889080517833, 'sad': 66.74266855374984, 'surprise': 0.0020995082537350507, 'neutral': 15.247280314402598}, 'dominant_emotion': 'sad', 'region': {'x': 332, 'y': 139, 'w': 189, 'h': 189}}
2025-05-23 18:44:17,014 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.6674266855374984, 'emotion_scores': {'angry': 0.08825357784352171, 'disgust': 4.6142070481407e-06, 'fear': 0.08776006625652709, 'happy': 0.004061288908051784, 'sad': 0.6674266855374984, 'surprise': 2.0995082537350508e-05, 'neutral': 0.15247280314402598}}
2025-05-23 18:44:17,015 - INFO - Attempting to get playlist recommendations
2025-05-23 18:44:17,015 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 18:44:17,015 - INFO - Initializing Spotify client...
2025-05-23 18:44:17,016 - DEBUG - Testing Spotify client with search query...
2025-05-23 18:44:17,017 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 18:44:17,022 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 18:44:18,424 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 18:44:18,425 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 18:44:18,425 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 18:44:18,428 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 18:44:18,429 - INFO - Preparing response
2025-05-23 18:44:18,439 - INFO - Starting emotion detection request
2025-05-23 18:44:18,440 - INFO - Validated language: english
2025-05-23 18:44:18,440 - INFO - Initialized emotion detector
2025-05-23 18:44:18,440 - INFO - Starting image decoding
2025-05-23 18:44:18,441 - DEBUG - Image string starts with: /9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQ...
2025-05-23 18:44:18,441 - DEBUG - Successfully decoded base64 data, size: 25296 bytes
2025-05-23 18:44:18,441 - DEBUG - Successfully opened image: format=JPEG, size=(512, 288), mode=RGB
2025-05-23 18:44:18,473 - DEBUG - Saved original image to debug_original.png
2025-05-23 18:44:18,486 - DEBUG - Upscaling image from (512, 288) to (853, 480)
2025-05-23 18:44:18,501 - DEBUG - Converted to NumPy array with shape: (480, 853, 3), dtype: uint8
2025-05-23 18:44:18,617 - DEBUG - Saved processed image to debug_processed.png
2025-05-23 18:44:18,645 - INFO - Successfully decoded image with shape: (480, 853, 3)
2025-05-23 18:44:18,646 - INFO - Starting emotion detection
2025-05-23 18:44:18,646 - DEBUG - Input image array shape: (480, 853, 3), dtype: uint8
2025-05-23 18:44:18,759 - DEBUG - Saved input image to debug_input.png
2025-05-23 18:44:19,146 - INFO - DeepFace analysis result: {'emotion': {'angry': 8.825357784352171, 'disgust': 0.00046142070481407, 'fear': 8.776006625652709, 'happy': 0.40612889080517833, 'sad': 66.74266855374984, 'surprise': 0.0020995082537350507, 'neutral': 15.247280314402598}, 'dominant_emotion': 'sad', 'region': {'x': 332, 'y': 139, 'w': 189, 'h': 189}}
2025-05-23 18:44:19,147 - INFO - Detected emotion: {'emotion': 'sad', 'confidence': 0.6674266855374984, 'emotion_scores': {'angry': 0.08825357784352171, 'disgust': 4.6142070481407e-06, 'fear': 0.08776006625652709, 'happy': 0.004061288908051784, 'sad': 0.6674266855374984, 'surprise': 2.0995082537350508e-05, 'neutral': 0.15247280314402598}}
2025-05-23 18:44:19,147 - INFO - Attempting to get playlist recommendations
2025-05-23 18:44:19,148 - INFO - Spotify credentials present: Client ID: True, Client Secret: True
2025-05-23 18:44:19,148 - INFO - Initializing Spotify client...
2025-05-23 18:44:19,150 - DEBUG - Testing Spotify client with search query...
2025-05-23 18:44:19,151 - DEBUG - sending POST request to https://accounts.spotify.com/api/token with Headers: {'Authorization': 'Basic MWQ1MmUzZTNhOWE1NDNkOWEzMTAzZTYxNmJiNGY2NjI6OGU0Mzc0ZTljMDM5NGExZWIzZDc4ZWU0ZTczYjU2MDc='} and Body: {'grant_type': 'client_credentials'}
2025-05-23 18:44:19,154 - DEBUG - Starting new HTTPS connection (1): accounts.spotify.com:443
2025-05-23 18:44:19,979 - DEBUG - https://accounts.spotify.com:443 "POST /api/token HTTP/1.1" 400 None
2025-05-23 18:44:19,981 - ERROR - Failed to authenticate with Spotify: error: invalid_client, error_description: Failed to get client
2025-05-23 18:44:19,981 - ERROR - Please check if your Spotify API credentials are valid
2025-05-23 18:44:19,983 - WARNING - Spotify client is not available, skipping playlist recommendations
2025-05-23 18:44:19,984 - INFO - Preparing response
